2026-01-30 15:55:13.976 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-30 15:55:13.976 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-30 15:55:13.998 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:55:13.998 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:55:13.999 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:55:13.999 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:55:14.003 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:55:14.003 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:55:14.004 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:55:14.004 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:55:14.009 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-30 15:55:14.010 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-30 15:55:14.010 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/available-years
2026-01-30 15:55:14.010 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-30 15:55:14.010 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 15:55:14.011 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-30 15:55:14.011 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-30 15:55:14.011 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:55:14.011 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:55:14.011 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-30 15:55:14.013 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:55:14.013 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:55:14.015 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 2
2026-01-30 15:55:14.015 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-30 15:55:14.015 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[2026,2025]}
2026-01-30 15:55:14.018 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:55:14.018 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:55:14.022 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-30 15:55:14.022 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-30 15:55:14.028 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-30 15:55:14.032 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:55:14.033 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.033 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 15:55:14.037 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.038 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 15:55:14.038 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.038 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.043 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.043 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.044 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.044 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 15:55:14.048 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.048 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.049 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 1 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.050 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.050 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 15:55:14.056 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:14.056 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.056 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.056 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-30 15:55:14.060 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.060 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-30 15:55:14.060 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.060 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.065 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.065 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.065 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.065 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 15:55:14.069 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.069 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.069 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 2 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.070 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.070 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 15:55:14.074 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:14.074 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.074 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.074 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-30 15:55:14.078 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.078 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-30 15:55:14.078 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.078 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.083 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.083 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.083 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.083 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 15:55:14.087 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.087 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.087 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 3 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.087 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.087 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 15:55:14.091 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:14.091 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.091 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.091 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-30 15:55:14.096 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.096 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-30 15:55:14.096 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.096 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.100 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.100 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.100 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.101 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 15:55:14.106 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.106 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.106 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 4 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.107 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.107 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 15:55:14.111 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:14.111 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.111 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.111 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-30 15:55:14.116 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.116 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-30 15:55:14.117 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.117 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.122 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.122 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.122 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.122 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 15:55:14.129 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.129 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.129 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 5 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.129 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.129 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 15:55:14.138 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:55:14.138 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.138 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.138 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-30 15:55:14.147 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.147 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-30 15:55:14.147 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.147 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.153 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.153 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.153 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.153 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 15:55:14.158 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.158 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.158 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 6 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.158 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.158 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 15:55:14.168 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:14.168 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.168 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.168 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-30 15:55:14.172 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.172 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-30 15:55:14.172 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.172 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.176 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.176 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.176 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.176 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 15:55:14.181 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.181 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.181 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 7 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.181 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.181 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 15:55:14.186 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:55:14.186 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.186 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.186 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-30 15:55:14.192 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.192 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-30 15:55:14.192 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.192 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.196 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.196 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.196 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.196 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 15:55:14.208 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.208 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.209 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 8 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.209 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.209 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 15:55:14.212 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:55:14.213 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.213 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.213 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-30 15:55:14.219 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.219 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-30 15:55:14.220 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.220 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.225 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.225 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.226 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.226 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 15:55:14.230 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.230 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.230 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 9 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.230 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.230 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 15:55:14.234 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 4
2026-01-30 15:55:14.234 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.234 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:14.234 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-30 15:55:14.239 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:14.239 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-30 15:55:14.239 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:14.239 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:14.246 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:14.246 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:14.246 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:14.246 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 15:55:14.250 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:14.250 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2026 AND deleted = 0

2026-01-30 15:55:14.250 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 10 year 2026 based on today 2026-01-30
2026-01-30 15:55:14.251 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:14.251 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 15:55:14.254 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:14.254 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:14.254 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":432,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"admin","realName":"ç³»ç»Ÿç®¡ç†å‘˜","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":783,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":433,"userId":2,"year":2026,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":6.5,"currentYearUsed":0,"deleted":null,"totalBalance":7.0,"username":"wangjianping","realName":"çŽ‹å»ºå¹³","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":784,"userId":2,"startDate":"2026-01-01","endDate":"2026-01-01","days":6.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":434,"userId":3,"year":2026,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":-2.0,"currentYearUsed":0,"deleted":null,"totalBalance":-1.5,"username":"wenyongguo","realName":"æ¸©æ°¸å›½","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":785,"userId":3,"startDate":"2026-01-01","endDate":"2026-01-01","days":-2.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":435,"userId":4,"year":2026,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":12.5,"currentYearUsed":0,"deleted":null,"totalBalance":13.0,"username":"xujunyi","realName":"å¾å›æ¯…","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":786,"userId":4,"startDate":"2026-01-01","endDate":"2026-01-01","days":12.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":436,"userId":5,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":4.0,"username":"zhanghao","realName":"å¼ æµ©","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":816,"userId":5,"startDate":"2026-01-30","endDate":"2026-01-30","days":2.0,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2027-12-31","createTime":"2026-01-30T15:53:22","deleted":0},{"id":787,"userId":5,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":437,"userId":6,"year":2026,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.5,"username":"zhangjianxin","realName":"å¼ å»ºæ–°","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[{"id":788,"userId":6,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":438,"userId":7,"year":2026,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":2.0,"username":"yuanwei","realName":"è¢ä¼Ÿ","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":814,"userId":7,"startDate":"2026-01-30","endDate":"2026-01-30","days":-3.0,"type":"ADJUSTMENT_DEDUCT","remarks":"é¢åº¦æ‰£é™¤ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:52:16","deleted":0},{"id":789,"userId":7,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":439,"userId":8,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":8.0,"currentYearUsed":2.0,"deleted":null,"totalBalance":6.5,"username":"yangpanqiang","realName":"æ¨ç›¼å¼º","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[{"id":815,"userId":8,"startDate":"2026-01-30","endDate":"2026-01-30","days":-2.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:52:43","deleted":0},{"id":790,"userId":8,"startDate":"2026-01-01","endDate":"2026-01-01","days":8.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":440,"userId":9,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":12.0,"deleted":null,"totalBalance":-1.5,"username":"xinghaibo","realName":"é‚¢æµ·åš","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":819,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-1.5,"type":"ANNUAL","remarks":" (é¢åº¦é€æ”¯)","expiryDate":null,"createTime":"2026-01-30T15:54:05","deleted":0},{"id":818,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-0.5,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:54:05","deleted":0},{"id":817,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-10.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:54:05","deleted":0},{"id":791,"userId":9,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":441,"userId":10,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.5,"username":"jiayulong","realName":"è´¾çŽ‰é¾™","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":792,"userId":10,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":1,"pages":4}}
2026-01-30 15:55:21.586 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2025&current=1&size=10
2026-01-30 15:55:21.592 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:55:21.592 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:55:21.597 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:55:21.597 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:55:21.598 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2025&current=1&size=10
2026-01-30 15:55:21.598 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:55:21.598 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:55:21.599 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2025, 1, 10]
2026-01-30 15:55:21.599 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:55:21.599 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:55:21.603 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:55:21.603 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:55:21.603 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-30 15:55:21.603 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-30 15:55:21.608 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-30 15:55:21.608 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:55:21.608 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.608 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 15:55:21.612 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.612 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 15:55:21.612 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.612 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.616 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.616 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.616 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.616 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2025(Integer)
2026-01-30 15:55:21.620 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.620 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.620 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.621 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2025(Integer)
2026-01-30 15:55:21.625 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-30 15:55:21.625 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.625 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.625 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-30 15:55:21.629 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.630 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-30 15:55:21.630 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.630 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.634 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.634 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.634 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.634 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2025(Integer)
2026-01-30 15:55:21.638 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.638 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.638 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.638 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2025(Integer)
2026-01-30 15:55:21.643 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:21.643 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.643 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.643 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-30 15:55:21.647 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.647 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-30 15:55:21.647 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.647 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.652 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.652 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.652 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.652 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2025(Integer)
2026-01-30 15:55:21.656 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.656 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.656 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.656 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2025(Integer)
2026-01-30 15:55:21.660 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:55:21.660 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.660 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.660 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-30 15:55:21.665 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.665 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-30 15:55:21.665 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.665 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.669 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.669 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.669 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.669 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2025(Integer)
2026-01-30 15:55:21.674 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.674 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.674 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.674 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2025(Integer)
2026-01-30 15:55:21.678 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:21.678 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.678 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.678 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-30 15:55:21.681 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.681 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-30 15:55:21.682 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.682 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.687 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.689 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.689 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.689 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2025(Integer)
2026-01-30 15:55:21.695 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.695 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.695 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.695 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2025(Integer)
2026-01-30 15:55:21.699 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:21.699 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.699 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.699 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-30 15:55:21.703 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.704 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-30 15:55:21.704 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.704 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.708 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.708 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.708 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.708 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2025(Integer)
2026-01-30 15:55:21.712 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.712 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.712 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.713 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2025(Integer)
2026-01-30 15:55:21.718 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:55:21.718 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.718 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.718 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-30 15:55:21.723 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.723 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-30 15:55:21.723 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.723 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.728 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.728 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.728 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.728 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2025(Integer)
2026-01-30 15:55:21.734 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.734 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.734 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.734 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2025(Integer)
2026-01-30 15:55:21.741 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-30 15:55:21.741 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.741 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.741 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-30 15:55:21.746 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.746 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-30 15:55:21.746 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.746 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.750 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.750 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.750 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.751 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2025(Integer)
2026-01-30 15:55:21.755 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.755 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.755 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.755 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2025(Integer)
2026-01-30 15:55:21.759 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-30 15:55:21.759 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.759 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.759 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-30 15:55:21.764 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.764 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-30 15:55:21.764 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.764 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.768 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.768 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.768 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.768 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2025(Integer)
2026-01-30 15:55:21.773 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.773 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.773 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.773 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2025(Integer)
2026-01-30 15:55:21.777 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-30 15:55:21.777 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.777 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:21.777 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-30 15:55:21.781 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:21.781 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-30 15:55:21.781 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:21.781 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:21.784 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:21.785 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:21.785 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:21.785 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2025(Integer)
2026-01-30 15:55:21.789 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:21.789 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2025 AND deleted = 0

2026-01-30 15:55:21.789 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:21.790 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2025(Integer)
2026-01-30 15:55:21.794 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-30 15:55:21.794 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2025 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:21.794 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":208,"userId":1,"year":2025,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"admin","realName":"ç³»ç»Ÿç®¡ç†å‘˜","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[],"lastSyncTime":"2026-01-30 11:36:02"},{"id":209,"userId":2,"year":2025,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":3.5,"deleted":null,"totalBalance":6.5,"username":"wangjianping","realName":"çŽ‹å»ºå¹³","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":412,"userId":2,"startDate":"2025-12-01","endDate":"2025-12-01","days":-3.5,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T14:44:55","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":210,"userId":3,"year":2025,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":12.0,"deleted":null,"totalBalance":-2.0,"username":"wenyongguo","realName":"æ¸©æ°¸å›½","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":414,"userId":3,"startDate":"2025-12-01","endDate":"2025-12-01","days":-2.0,"type":"ANNUAL","remarks":" (é¢åº¦é€æ”¯)","expiryDate":null,"createTime":"2026-01-30T14:45:23","deleted":0},{"id":413,"userId":3,"startDate":"2025-12-01","endDate":"2025-12-01","days":-10.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T14:45:23","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":211,"userId":4,"year":2025,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":12.5,"username":"xujunyi","realName":"å¾å›æ¯…","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":415,"userId":4,"startDate":"2025-12-01","endDate":"2025-12-01","days":2.5,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2026-12-31","createTime":"2026-01-30T14:45:40","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":212,"userId":5,"year":2025,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":2.0,"username":"zhanghao","realName":"å¼ æµ©","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":416,"userId":5,"startDate":"2025-12-01","endDate":"2025-12-01","days":-3.0,"type":"ADJUSTMENT_DEDUCT","remarks":"é¢åº¦æ‰£é™¤ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T14:45:58","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":213,"userId":6,"year":2025,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":2.5,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"zhangjianxin","realName":"å¼ å»ºæ–°","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[{"id":781,"userId":6,"startDate":"2025-12-31","endDate":"2025-12-31","days":-2.5,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-30T15:49:45","deleted":0},{"id":420,"userId":6,"startDate":"2025-01-01","endDate":"2025-01-01","days":2.5,"type":"CARRY_OVER","remarks":"2024å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":214,"userId":7,"year":2025,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":3.0,"currentYearUsed":1.0,"deleted":null,"totalBalance":5.0,"username":"yuanwei","realName":"è¢ä¼Ÿ","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":782,"userId":7,"startDate":"2025-12-31","endDate":"2025-12-31","days":-2.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-30T15:49:45","deleted":0},{"id":417,"userId":7,"startDate":"2025-12-01","endDate":"2025-12-01","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-30T14:46:55","deleted":0},{"id":421,"userId":7,"startDate":"2025-01-01","endDate":"2025-01-01","days":3.0,"type":"CARRY_OVER","remarks":"2024å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":215,"userId":8,"year":2025,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":1.0,"currentYearUsed":3.0,"deleted":null,"totalBalance":8.0,"username":"yangpanqiang","realName":"æ¨ç›¼å¼º","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[{"id":419,"userId":8,"startDate":"2025-12-01","endDate":"2025-12-01","days":-2.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T14:47:17","deleted":0},{"id":418,"userId":8,"startDate":"2025-12-01","endDate":"2025-12-01","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-30T14:47:17","deleted":0},{"id":422,"userId":8,"startDate":"2025-01-01","endDate":"2025-01-01","days":1.0,"type":"CARRY_OVER","remarks":"2024å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":216,"userId":9,"year":2025,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"xinghaibo","realName":"é‚¢æµ·åš","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[],"lastSyncTime":"2026-01-30 11:36:02"},{"id":217,"userId":10,"year":2025,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"jiayulong","realName":"è´¾çŽ‰é¾™","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":1,"pages":4}}
2026-01-30 15:55:54.495 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-30 15:55:54.503 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:55:54.504 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:55:54.508 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:55:54.508 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:55:54.509 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-30 15:55:54.511 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:55:54.511 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:55:54.511 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-30 15:55:54.513 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:55:54.513 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:55:54.516 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:55:54.516 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:55:54.516 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-30 15:55:54.516 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-30 15:55:54.521 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-30 15:55:54.521 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:55:54.522 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.522 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 15:55:54.527 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.527 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 15:55:54.527 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.527 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.531 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.531 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.531 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.531 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 15:55:54.536 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.536 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.536 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 1 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.536 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.536 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 15:55:54.541 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:54.541 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.541 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.541 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-30 15:55:54.545 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.547 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-30 15:55:54.548 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.548 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.552 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.552 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.552 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.552 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 15:55:54.556 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.556 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.556 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 2 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.556 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.556 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 15:55:54.562 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:54.562 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.562 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.563 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-30 15:55:54.568 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.568 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-30 15:55:54.568 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.569 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.573 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.573 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.573 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.573 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 15:55:54.577 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.577 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.577 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 3 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.577 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.577 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 15:55:54.582 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:54.582 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.582 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.582 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-30 15:55:54.586 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.586 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-30 15:55:54.586 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.586 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.591 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.591 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.591 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.591 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 15:55:54.594 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.594 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.594 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 4 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.594 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.594 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 15:55:54.599 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:54.599 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.599 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.599 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-30 15:55:54.604 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.604 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-30 15:55:54.604 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.604 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.610 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.610 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.610 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.610 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 15:55:54.614 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.614 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.614 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 5 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.614 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.614 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 15:55:54.618 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:55:54.618 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.618 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.618 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-30 15:55:54.622 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.622 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-30 15:55:54.622 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.622 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.626 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.626 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.626 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.626 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 15:55:54.630 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.630 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.630 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 6 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.631 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.631 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 15:55:54.636 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:54.636 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.636 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.636 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-30 15:55:54.640 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.640 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-30 15:55:54.640 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.640 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.645 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.645 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.645 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.645 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 15:55:54.649 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.649 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.649 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 7 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.649 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.650 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 15:55:54.654 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:55:54.654 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.655 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.655 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-30 15:55:54.659 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.659 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-30 15:55:54.659 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.659 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.664 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.664 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.664 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.664 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 15:55:54.669 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.669 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.669 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 8 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.669 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.669 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 15:55:54.674 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:55:54.674 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.674 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.674 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-30 15:55:54.678 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.678 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-30 15:55:54.678 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.678 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.682 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.682 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.683 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.683 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 15:55:54.690 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.690 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.690 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 9 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.690 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.690 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 15:55:54.696 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 4
2026-01-30 15:55:54.696 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.696 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:55:54.696 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-30 15:55:54.709 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:55:54.709 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-30 15:55:54.710 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:55:54.710 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:55:54.717 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:55:54.717 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:55:54.717 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:55:54.717 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 15:55:54.721 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:55:54.721 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2026 AND deleted = 0

2026-01-30 15:55:54.721 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 10 year 2026 based on today 2026-01-30
2026-01-30 15:55:54.721 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:55:54.721 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 15:55:54.725 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:55:54.725 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:55:54.726 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":432,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"admin","realName":"ç³»ç»Ÿç®¡ç†å‘˜","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":783,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":433,"userId":2,"year":2026,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":6.5,"currentYearUsed":0,"deleted":null,"totalBalance":7.0,"username":"wangjianping","realName":"çŽ‹å»ºå¹³","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":784,"userId":2,"startDate":"2026-01-01","endDate":"2026-01-01","days":6.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":434,"userId":3,"year":2026,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":-2.0,"currentYearUsed":0,"deleted":null,"totalBalance":-1.5,"username":"wenyongguo","realName":"æ¸©æ°¸å›½","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":785,"userId":3,"startDate":"2026-01-01","endDate":"2026-01-01","days":-2.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":435,"userId":4,"year":2026,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":12.5,"currentYearUsed":0,"deleted":null,"totalBalance":13.0,"username":"xujunyi","realName":"å¾å›æ¯…","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":786,"userId":4,"startDate":"2026-01-01","endDate":"2026-01-01","days":12.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":436,"userId":5,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":4.0,"username":"zhanghao","realName":"å¼ æµ©","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":816,"userId":5,"startDate":"2026-01-30","endDate":"2026-01-30","days":2.0,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2027-12-31","createTime":"2026-01-30T15:53:22","deleted":0},{"id":787,"userId":5,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":437,"userId":6,"year":2026,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.5,"username":"zhangjianxin","realName":"å¼ å»ºæ–°","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[{"id":788,"userId":6,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":438,"userId":7,"year":2026,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":2.0,"username":"yuanwei","realName":"è¢ä¼Ÿ","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":814,"userId":7,"startDate":"2026-01-30","endDate":"2026-01-30","days":-3.0,"type":"ADJUSTMENT_DEDUCT","remarks":"é¢åº¦æ‰£é™¤ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:52:16","deleted":0},{"id":789,"userId":7,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":439,"userId":8,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":8.0,"currentYearUsed":2.0,"deleted":null,"totalBalance":6.5,"username":"yangpanqiang","realName":"æ¨ç›¼å¼º","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[{"id":815,"userId":8,"startDate":"2026-01-30","endDate":"2026-01-30","days":-2.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:52:43","deleted":0},{"id":790,"userId":8,"startDate":"2026-01-01","endDate":"2026-01-01","days":8.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":440,"userId":9,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":12.0,"deleted":null,"totalBalance":-1.5,"username":"xinghaibo","realName":"é‚¢æµ·åš","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":819,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-1.5,"type":"ANNUAL","remarks":" (é¢åº¦é€æ”¯)","expiryDate":null,"createTime":"2026-01-30T15:54:05","deleted":0},{"id":818,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-0.5,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:54:05","deleted":0},{"id":817,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-10.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:54:05","deleted":0},{"id":791,"userId":9,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":441,"userId":10,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.5,"username":"jiayulong","realName":"è´¾çŽ‰é¾™","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":792,"userId":10,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":1,"pages":4}}
2026-01-30 15:56:00.477 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /job/list
2026-01-30 15:56:00.484 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:56:00.484 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:56:00.489 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:56:00.489 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:56:00.491 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /job/list
2026-01-30 15:56:00.491 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/job/list
2026-01-30 15:56:00.491 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.listJobs
2026-01-30 15:56:00.491 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 15:56:00.491 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:00.491 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:00.498 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:00.498 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:00.498 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[{"id":1,"jobName":"é’‰é’‰æ•°æ®åŒæ­¥","jobGroup":"DEFAULT","invokeTarget":"dingTalkService.syncLeaveData()","cronExpression":"0 00 02 ? * MON","status":0,"remark":"æ¯å‘¨ä¸€ä¸Šåˆ10ç‚¹è‡ªåŠ¨ä»Žé’‰é’‰åŒæ­¥å¹´å‡æ•°æ®ã€‚ä»Žé’‰é’‰è€ƒå‹¤ç³»ç»Ÿæ‹‰å–è¯·å‡è®°å½•å¹¶æ›´æ–°åˆ°æœ¬åœ°æ•°æ®åº“ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-29T18:54:00","lastRunTime":"2026-01-30T11:36:02","deleted":0},{"id":2,"jobName":"å¹´å‡è¿‡æœŸæ¸…ç†","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.cleanupExpiredLeaveBalances()","cronExpression":"0 0 1 1 1 ?","status":0,"remark":"æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-30T15:49:39","lastRunTime":"2026-01-30T15:54:54","deleted":0},{"id":3,"jobName":"å¹´å‡è´¦æˆ·æ‰¹é‡åˆå§‹åŒ–","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.initAllAccounts(2027)","cronExpression":"0 0 2 1 1 ?","status":0,"remark":"æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨2ç‚¹æ‰¹é‡åˆå§‹åŒ–æ‰€æœ‰å‘˜å·¥çš„æ–°å¹´åº¦è´¦æˆ·ï¼ˆå«ç»“è½¬è®¡ç®—ï¼‰ã€‚æ³¨æ„ï¼šéœ€æ‰‹åŠ¨æ›´æ–°å¹´ä»½å‚æ•°ï¼é»˜è®¤æš‚åœçŠ¶æ€ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-30T15:49:15","lastRunTime":"2026-01-30T15:40:25","deleted":0}]}
2026-01-30 15:56:06.248 DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /job/update
2026-01-30 15:56:06.256 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:56:06.256 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:56:06.263 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:56:06.263 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:56:06.264 DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /job/update
2026-01-30 15:56:06.265 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/job/update
2026-01-30 15:56:06.265 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.updateJob
2026-01-30 15:56:06.265 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [SysJob(id=2, jobName=å¹´å‡è¿‡æœŸæ¸…ç†, jobGroup=DEFAULT, invokeTarget=scheduledTasks.cleanupExpiredLeaveBalances(2026), cronExpression=0 0 1 1 1 ?, status=0, remark=æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚, createTime=2026-01-07T06:54:03, updateTime=2026-01-30T15:49:39, lastRunTime=2026-01-30T15:54:54, deleted=0)]
2026-01-30 15:56:06.266 DEBUG com.leave.system.mapper.SysJobMapper.updateJob - ==>  Preparing: UPDATE sys_job SET job_name = ?, job_group = ?, invoke_target = ?, cron_expression = ?, last_run_time = ?, status = ?, remark = ?, update_time = ? WHERE id = ?
2026-01-30 15:56:06.266 DEBUG com.leave.system.mapper.SysJobMapper.updateJob - ==> Parameters: å¹´å‡è¿‡æœŸæ¸…ç†(String), DEFAULT(String), scheduledTasks.cleanupExpiredLeaveBalances(2026)(String), 0 0 1 1 1 ?(String), 2026-01-30T15:54:54(LocalDateTime), 0(Integer), æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚(String), 2026-01-30T15:56:06.265664(LocalDateTime), 2(Long)
2026-01-30 15:56:06.275 DEBUG com.leave.system.mapper.SysJobMapper.updateJob - <==    Updates: 1
2026-01-30 15:56:06.275 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.updateJob
SQL         : UPDATE sys_job SET job_name = 'å¹´å‡è¿‡æœŸæ¸…ç†', job_group = 'DEFAULT', invoke_target = 'scheduledTasks.cleanupExpiredLeaveBalances(2026)', cron_expression = '0 0 1 1 1 2026-01-30T15:54:54', last_run_time = 0, status = 'æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚', remark = 2026-01-30T15:56:06.265664, update_time = 2 WHERE id = ?

2026-01-30 15:56:06.275 INFO  com.leave.system.service.impl.SysJobServiceImpl - Cancelled scheduled task for job ID: 2
2026-01-30 15:56:06.275 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - ==>  Preparing: SELECT * FROM sys_job WHERE id = ?
2026-01-30 15:56:06.275 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - ==> Parameters: 2(Long)
2026-01-30 15:56:06.280 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - <==      Total: 1
2026-01-30 15:56:06.280 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectJobById
SQL         : SELECT * FROM sys_job WHERE id = 2

2026-01-30 15:56:06.280 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: å¹´å‡è¿‡æœŸæ¸…ç† with cron: 0 0 1 1 1 ?
2026-01-30 15:56:06.280 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"ä»»åŠ¡æ›´æ–°æˆåŠŸ","data":null}
2026-01-30 15:56:06.291 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /job/list
2026-01-30 15:56:06.297 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:56:06.297 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:56:06.303 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:56:06.303 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:56:06.304 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /job/list
2026-01-30 15:56:06.304 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/job/list
2026-01-30 15:56:06.304 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.listJobs
2026-01-30 15:56:06.304 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 15:56:06.304 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:06.304 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:06.309 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:06.309 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:06.310 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[{"id":1,"jobName":"é’‰é’‰æ•°æ®åŒæ­¥","jobGroup":"DEFAULT","invokeTarget":"dingTalkService.syncLeaveData()","cronExpression":"0 00 02 ? * MON","status":0,"remark":"æ¯å‘¨ä¸€ä¸Šåˆ10ç‚¹è‡ªåŠ¨ä»Žé’‰é’‰åŒæ­¥å¹´å‡æ•°æ®ã€‚ä»Žé’‰é’‰è€ƒå‹¤ç³»ç»Ÿæ‹‰å–è¯·å‡è®°å½•å¹¶æ›´æ–°åˆ°æœ¬åœ°æ•°æ®åº“ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-29T18:54:00","lastRunTime":"2026-01-30T11:36:02","deleted":0},{"id":2,"jobName":"å¹´å‡è¿‡æœŸæ¸…ç†","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.cleanupExpiredLeaveBalances(2026)","cronExpression":"0 0 1 1 1 ?","status":0,"remark":"æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-30T15:56:06","lastRunTime":"2026-01-30T15:54:54","deleted":0},{"id":3,"jobName":"å¹´å‡è´¦æˆ·æ‰¹é‡åˆå§‹åŒ–","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.initAllAccounts(2027)","cronExpression":"0 0 2 1 1 ?","status":0,"remark":"æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨2ç‚¹æ‰¹é‡åˆå§‹åŒ–æ‰€æœ‰å‘˜å·¥çš„æ–°å¹´åº¦è´¦æˆ·ï¼ˆå«ç»“è½¬è®¡ç®—ï¼‰ã€‚æ³¨æ„ï¼šéœ€æ‰‹åŠ¨æ›´æ–°å¹´ä»½å‚æ•°ï¼é»˜è®¤æš‚åœçŠ¶æ€ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-30T15:49:15","lastRunTime":"2026-01-30T15:40:25","deleted":0}]}
2026-01-30 15:56:08.010 DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /job/run/2
2026-01-30 15:56:08.020 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:56:08.020 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:56:08.029 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:56:08.029 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:56:08.031 DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /job/run/2
2026-01-30 15:56:08.031 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/job/run/2
2026-01-30 15:56:08.031 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.runJob
2026-01-30 15:56:08.031 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2]
2026-01-30 15:56:08.031 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"ä»»åŠ¡æ‰§è¡ŒæˆåŠŸ","data":null}
2026-01-30 15:56:08.031 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - ==>  Preparing: SELECT * FROM sys_job WHERE id = ?
2026-01-30 15:56:08.031 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - ==> Parameters: 2(Long)
2026-01-30 15:56:08.035 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - <==      Total: 1
2026-01-30 15:56:08.035 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectJobById
SQL         : SELECT * FROM sys_job WHERE id = 2

2026-01-30 15:56:08.035 INFO  com.leave.system.service.impl.SysJobServiceImpl - Executing job: å¹´å‡è¿‡æœŸæ¸…ç† - scheduledTasks.cleanupExpiredLeaveBalances(2026)
2026-01-30 15:56:08.040 INFO  com.leave.system.scheduled.ScheduledTasks - ðŸš€ Triggering DingTalk sync before manual expiry cleanup...
2026-01-30 15:56:08.040 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Starting DingTalk leave data sync...
2026-01-30 15:56:08.103 INFO  com.leave.system.service.impl.DingTalkServiceImpl - AccessToken fetched successfully.
2026-01-30 15:56:08.103 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Sync lookback period: 7 days
2026-01-30 15:56:08.103 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Syncing data from 2026-01-23 00:00:00 to 2026-01-30 23:59:59
2026-01-30 15:56:08.103 DEBUG c.l.s.m.SysUserMapper.selectUsersWithDingtalkId - ==>  Preparing: SELECT * FROM sys_user WHERE dingtalk_userid IS NOT NULL AND dingtalk_userid != '' AND (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:56:08.104 DEBUG c.l.s.m.SysUserMapper.selectUsersWithDingtalkId - ==> Parameters: 
2026-01-30 15:56:08.108 DEBUG c.l.s.m.SysUserMapper.selectUsersWithDingtalkId - <==      Total: 3
2026-01-30 15:56:08.108 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUsersWithDingtalkId
SQL         : SELECT * FROM sys_user WHERE dingtalk_userid IS NOT NULL AND dingtalk_userid != '' AND (status != 'RESIGNED' OR status IS NULL) AND deleted = 0

2026-01-30 15:56:08.108 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Found 3 users to sync.
2026-01-30 15:56:08.108 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Fetching data for user: yaoyan (DingTalk ID: 3631680852111333)
2026-01-30 15:56:08.294 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing 1 columns for user yaoyan
2026-01-30 15:56:08.294 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Found 8 daily entries for Annual Leave
2026-01-30 15:56:08.294 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-23 00:00:00, value=0.0
2026-01-30 15:56:08.294 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.294 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-24 00:00:00, value=0.0
2026-01-30 15:56:08.294 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.294 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-25 00:00:00, value=0.0
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-26 00:00:00, value=0.0
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-27 00:00:00, value=0.0
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-28 00:00:00, value=0.0
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-29 00:00:00, value=0.0
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-30 00:00:00, value=0.0
2026-01-30 15:56:08.295 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.360 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Fetching data for user: renzhipeng (DingTalk ID: 113763285520231571)
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing 1 columns for user renzhipeng
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Found 8 daily entries for Annual Leave
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-23 00:00:00, value=0.0
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-24 00:00:00, value=0.0
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-25 00:00:00, value=0.0
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-26 00:00:00, value=0.0
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-27 00:00:00, value=0.0
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-28 00:00:00, value=0.0
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-29 00:00:00, value=0.0
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-30 00:00:00, value=0.0
2026-01-30 15:56:08.537 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.602 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Fetching data for user: zhangningbo (DingTalk ID: 01525237116824149785)
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing 1 columns for user zhangningbo
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Found 8 daily entries for Annual Leave
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-23 00:00:00, value=0.0
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-24 00:00:00, value=0.0
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-25 00:00:00, value=0.0
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-26 00:00:00, value=0.0
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-27 00:00:00, value=0.0
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.835 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-28 00:00:00, value=1.0
2026-01-30 15:56:08.835 DEBUG c.l.s.mapper.LeaveRecordMapper.sumAnnualLeaveUsage - ==>  Preparing: SELECT COALESCE(SUM(days), 0) FROM leave_record WHERE user_id = ? AND start_date = ? AND type = 'ANNUAL' AND deleted = 0
2026-01-30 15:56:08.836 DEBUG c.l.s.mapper.LeaveRecordMapper.sumAnnualLeaveUsage - ==> Parameters: 33(Long), 2026-01-28(LocalDate)
2026-01-30 15:56:08.840 DEBUG c.l.s.mapper.LeaveRecordMapper.sumAnnualLeaveUsage - <==      Total: 1
2026-01-30 15:56:08.840 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.sumAnnualLeaveUsage
SQL         : SELECT COALESCE(SUM(days), 0) FROM leave_record WHERE user_id = 33 AND start_date = 2026-01-28 AND type = 'ANNUAL' AND deleted = 0

2026-01-30 15:56:08.840 INFO  com.leave.system.service.impl.DingTalkServiceImpl - â­ï¸ Data consistent for user zhangningbo on 2026-01-28: 1.0 days
2026-01-30 15:56:08.841 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-29 00:00:00, value=0.0
2026-01-30 15:56:08.841 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.841 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Processing entry: date=2026-01-30 00:00:00, value=0.0
2026-01-30 15:56:08.841 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Skipping zero value entry
2026-01-30 15:56:08.906 INFO  com.leave.system.service.impl.DingTalkServiceImpl - DingTalk leave data sync completed.
2026-01-30 15:56:08.906 INFO  com.leave.system.scheduled.ScheduledTasks - ðŸ”„ Starting leave expiry cleanup for year: 2026 (Target Expiry: 2026-12-31)
2026-01-30 15:56:08.906 DEBUG c.l.s.m.LeaveAccountMapper.selectAccountsByYear - ==>  Preparing: SELECT * FROM leave_account WHERE year = ? AND deleted = 0
2026-01-30 15:56:08.906 DEBUG c.l.s.m.LeaveAccountMapper.selectAccountsByYear - ==> Parameters: 2026(Integer)
2026-01-30 15:56:08.912 DEBUG c.l.s.m.LeaveAccountMapper.selectAccountsByYear - <==      Total: 32
2026-01-30 15:56:08.912 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountsByYear
SQL         : SELECT * FROM leave_account WHERE year = 2026 AND deleted = 0

2026-01-30 15:56:08.912 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:08.912 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 1(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:08.916 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:08.916 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:08.916 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 1: 5.0 + 0 extra = 5.0
2026-01-30 15:56:08.916 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 1: 5.0
2026-01-30 15:56:08.917 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:08.917 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 1(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:08.922 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:08.922 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:08.922 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:08.922 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 1(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:08.929 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:08.929 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:08.929 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:08.929 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 1(Long)
2026-01-30 15:56:08.939 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:08.939 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:08.939 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:08.940 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 1(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:08.939761(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:08.949 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:08.949 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (1, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:08.939761, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:08.949 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 1 (target expiry date: 2026-12-31)
2026-01-30 15:56:08.949 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:08.949 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 2(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:08.957 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:08.957 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:08.957 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 2: 6.5 + 0 extra = 6.5
2026-01-30 15:56:08.957 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 2: 6.5
2026-01-30 15:56:08.957 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:08.957 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 2(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:08.964 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:08.964 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:08.964 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:08.964 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 2(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:08.968 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:08.968 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:08.968 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:08.968 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 2(Long)
2026-01-30 15:56:08.976 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:08.976 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:08.976 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:08.976 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 2(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -6.5(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:08.976201(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:08.986 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:08.986 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (2, 2026-12-31, 2026-12-31, -6.5, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:08.976201, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:08.986 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 6.5 days for user 2 (target expiry date: 2026-12-31)
2026-01-30 15:56:08.986 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:08.986 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 3(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:08.996 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:08.996 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:08.996 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 3: -2.0 + 0 extra = -2.0
2026-01-30 15:56:08.996 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 3: -2.0
2026-01-30 15:56:08.996 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:08.996 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 3(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.002 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.002 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.002 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.002 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 3(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.011 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.011 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.011 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.011 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 3(Long)
2026-01-30 15:56:09.019 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 1
2026-01-30 15:56:09.019 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.019 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.019 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 4(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.028 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 2
2026-01-30 15:56:09.028 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.028 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 4: 12.5 + 0 extra = 12.5
2026-01-30 15:56:09.028 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 4: 12.5
2026-01-30 15:56:09.028 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.028 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 4(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.034 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.034 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.034 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.034 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 4(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.040 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.040 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.040 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.040 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 4(Long)
2026-01-30 15:56:09.046 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.046 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.046 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.046 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 4(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -12.5(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.046396(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.058 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.058 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (4, 2026-12-31, 2026-12-31, -12.5, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.046396, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.058 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 12.5 days for user 4 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.058 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.058 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 5(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.062 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.062 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.063 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 5: 2.0 + 0 extra = 2.0
2026-01-30 15:56:09.063 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 5: 2.0
2026-01-30 15:56:09.063 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.063 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 5(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.067 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.067 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.067 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.067 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 5(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.076 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.076 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.076 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.076 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 5(Long)
2026-01-30 15:56:09.083 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.083 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.083 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.083 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 5(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -2.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.083335(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.093 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.093 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (5, 2026-12-31, 2026-12-31, -2.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.083335, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.093 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 2.0 days for user 5 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.093 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.093 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 6(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.099 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.100 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.100 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 6: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.100 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 6: 10.0
2026-01-30 15:56:09.100 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.100 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 6(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.106 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.106 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.106 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.106 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 6(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.111 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.111 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.111 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.111 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 6(Long)
2026-01-30 15:56:09.122 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.123 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.123 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.123 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 6(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.123080(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.139 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.139 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (6, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.123080, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.139 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 6 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.139 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.139 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 7(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.150 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.150 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.150 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 7: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.150 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 7: 5.0
2026-01-30 15:56:09.150 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.150 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 7(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.165 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 1
2026-01-30 15:56:09.165 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.165 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.165 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 7(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.177 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.177 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.177 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.177 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 7(Long)
2026-01-30 15:56:09.181 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.181 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.181 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.181 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 7(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -2.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.181422(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.193 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.193 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (7, 2026-12-31, 2026-12-31, -2.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.181422, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.193 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 2.0 days for user 7 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.193 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.193 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 8(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.197 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.197 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.197 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 8: 8.0 + 0 extra = 8.0
2026-01-30 15:56:09.197 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 8: 8.0
2026-01-30 15:56:09.197 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.197 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 8(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.201 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 1
2026-01-30 15:56:09.201 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.201 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.201 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 8(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.213 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.213 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.213 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.214 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 8(Long)
2026-01-30 15:56:09.220 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.220 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.220 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.220 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 8(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -6.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.220233(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.237 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.237 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (8, 2026-12-31, 2026-12-31, -6.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.220233, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.237 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 6.0 days for user 8 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.237 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.237 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 9(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.241 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.241 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.241 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 9: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.241 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 9: 10.0
2026-01-30 15:56:09.241 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.241 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 9(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.247 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 1
2026-01-30 15:56:09.248 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.248 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.248 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 9(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.255 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.255 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.255 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.255 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 9(Long)
2026-01-30 15:56:09.262 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 1
2026-01-30 15:56:09.262 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.262 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.262 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 10(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.267 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.267 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.267 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 10: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.267 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 10: 10.0
2026-01-30 15:56:09.267 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.267 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 10(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.273 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.273 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.273 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.273 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 10(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.280 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.280 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.281 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.281 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 10(Long)
2026-01-30 15:56:09.291 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.291 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.291 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.291 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 10(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.291437(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.305 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.305 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (10, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.291437, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.305 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 10 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.305 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.305 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 11(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.319 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.319 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 11 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.319 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 11: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.319 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 11: 10.0
2026-01-30 15:56:09.319 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.320 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 11(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:46(LocalDateTime)
2026-01-30 15:56:09.331 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.331 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 11 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:46

2026-01-30 15:56:09.331 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.331 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 11(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.339 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.339 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 11 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.339 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.339 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 11(Long)
2026-01-30 15:56:09.344 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.344 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 11 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.344 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.344 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 11(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.344227(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.354 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.354 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (11, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.344227, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.354 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 11 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.354 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.354 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 13(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.360 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.360 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 13 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.360 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 13: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.360 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 13: 10.0
2026-01-30 15:56:09.360 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.360 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 13(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.371 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.371 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 13 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.371 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.371 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 13(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.378 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.378 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 13 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.378 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.378 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 13(Long)
2026-01-30 15:56:09.388 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.388 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 13 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.388 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.388 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 13(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.388329(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.402 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.403 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (13, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.388329, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.403 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 13 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.403 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.403 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 14(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.406 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.406 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 14 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.406 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 14: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.406 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 14: 10.0
2026-01-30 15:56:09.406 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.407 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 14(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.410 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.411 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 14 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.411 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.411 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 14(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.416 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.416 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 14 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.416 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.416 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 14(Long)
2026-01-30 15:56:09.420 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.420 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 14 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.420 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.420 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 14(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.420060(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.428 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.428 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (14, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.420060, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.428 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 14 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.428 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.428 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 15(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.434 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.434 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 15 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.434 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 15: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.434 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 15: 10.0
2026-01-30 15:56:09.434 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.434 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 15(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.439 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.439 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 15 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.439 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.439 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 15(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.443 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.443 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 15 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.443 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.443 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 15(Long)
2026-01-30 15:56:09.447 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.447 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 15 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.447 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.447 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 15(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.447211(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.458 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.458 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (15, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.447211, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.458 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 15 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.458 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.458 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 16(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.463 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.463 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 16 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.463 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 16: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.463 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 16: 10.0
2026-01-30 15:56:09.463 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.463 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 16(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.468 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.468 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 16 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.469 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.469 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 16(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.473 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.473 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 16 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.473 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.473 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 16(Long)
2026-01-30 15:56:09.477 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.477 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 16 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.477 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.477 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 16(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.477617(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.486 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.486 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (16, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.477617, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.486 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 16 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.486 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.486 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 17(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.495 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.495 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 17 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.495 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 17: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.495 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 17: 10.0
2026-01-30 15:56:09.495 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.495 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 17(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.499 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.499 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 17 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.499 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.500 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 17(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.504 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.504 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 17 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.504 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.504 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 17(Long)
2026-01-30 15:56:09.508 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.508 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 17 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.508 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.508 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 17(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.508725(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.517 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.517 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (17, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.508725, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.517 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 17 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.517 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.517 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 18(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.521 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.521 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 18 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.521 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 18: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.521 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 18: 5.0
2026-01-30 15:56:09.521 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.521 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 18(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.526 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.526 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 18 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.526 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.527 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 18(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.531 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.531 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 18 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.531 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.531 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 18(Long)
2026-01-30 15:56:09.545 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.545 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 18 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.545 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.545 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 18(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.545157(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.553 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.554 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (18, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.545157, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.554 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 18 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.554 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.554 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 19(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.559 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.559 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 19 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.559 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 19: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.559 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 19: 10.0
2026-01-30 15:56:09.559 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.559 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 19(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.563 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.563 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 19 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.563 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.563 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 19(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.568 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.568 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 19 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.568 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.568 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 19(Long)
2026-01-30 15:56:09.572 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.573 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 19 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.573 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.573 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 19(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.573041(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.587 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.587 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (19, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.573041, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.588 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 19 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.588 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.588 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 20(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.592 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.592 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 20 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.592 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 20: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.592 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 20: 10.0
2026-01-30 15:56:09.592 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.593 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 20(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.601 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.601 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 20 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.601 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.601 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 20(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.605 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.605 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 20 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.605 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.605 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 20(Long)
2026-01-30 15:56:09.609 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.609 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 20 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.609 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.609 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 20(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.609654(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.617 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.618 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (20, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.609654, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.618 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 20 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.618 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.618 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 21(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.623 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.623 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 21 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.623 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 21: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.623 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 21: 5.0
2026-01-30 15:56:09.623 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.623 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 21(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.627 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.627 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 21 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.627 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.627 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 21(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.631 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.631 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 21 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.632 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.632 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 21(Long)
2026-01-30 15:56:09.637 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.637 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 21 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.637 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.637 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 21(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.637581(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.650 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.650 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (21, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.637581, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.650 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 21 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.650 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.650 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 22(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.656 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.656 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 22 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.656 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 22: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.656 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 22: 5.0
2026-01-30 15:56:09.656 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.656 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 22(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.663 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.663 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 22 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.663 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.663 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 22(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.667 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.667 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 22 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.667 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.667 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 22(Long)
2026-01-30 15:56:09.671 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.671 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 22 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.671 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.672 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 22(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.671792(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.681 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.681 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (22, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.671792, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.681 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 22 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.681 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.681 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 23(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.685 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.685 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 23 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.685 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 23: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.685 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 23: 5.0
2026-01-30 15:56:09.685 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.685 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 23(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.689 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.689 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 23 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.689 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.689 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 23(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.693 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.693 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 23 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.694 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.694 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 23(Long)
2026-01-30 15:56:09.699 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.699 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 23 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.699 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.699 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 23(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.699126(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.707 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.707 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (23, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.699126, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.708 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 23 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.708 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.708 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 24(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.712 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.712 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 24 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.712 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 24: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.712 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 24: 5.0
2026-01-30 15:56:09.712 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.712 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 24(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.716 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.716 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 24 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.716 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.716 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 24(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.720 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.720 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 24 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.720 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.720 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 24(Long)
2026-01-30 15:56:09.725 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.725 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 24 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.725 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.725 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 24(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.725470(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.734 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.734 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (24, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.725470, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.734 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 24 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.735 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.735 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 25(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.738 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.738 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 25 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.738 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 25: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.738 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 25: 10.0
2026-01-30 15:56:09.738 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.739 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 25(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.743 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.743 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 25 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.743 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.743 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 25(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.749 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.749 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 25 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.749 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.749 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 25(Long)
2026-01-30 15:56:09.753 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.753 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 25 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.754 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.754 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 25(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.754002(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.762 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.762 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (25, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.754002, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.762 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 25 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.762 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.762 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 26(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.770 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.770 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 26 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.770 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 26: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.770 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 26: 5.0
2026-01-30 15:56:09.770 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.771 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 26(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.775 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.775 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 26 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.775 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.775 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 26(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.779 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.779 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 26 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.779 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.779 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 26(Long)
2026-01-30 15:56:09.784 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.784 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 26 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.784 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.784 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 26(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.784633(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.795 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.796 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (26, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.784633, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.796 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 26 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.796 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.796 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 27(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.799 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.800 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 27 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.800 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 27: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.800 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 27: 5.0
2026-01-30 15:56:09.800 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.800 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 27(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.804 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.804 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 27 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.804 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.804 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 27(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.808 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.808 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 27 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.808 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.809 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 27(Long)
2026-01-30 15:56:09.813 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.813 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 27 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.813 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.813 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 27(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.813719(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.824 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.824 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (27, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.813719, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.824 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 27 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.824 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.824 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 28(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.827 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.827 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 28 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.828 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 28: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.828 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 28: 10.0
2026-01-30 15:56:09.828 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.828 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 28(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.833 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.833 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 28 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.834 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.834 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 28(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.840 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.840 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 28 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.840 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.840 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 28(Long)
2026-01-30 15:56:09.845 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.845 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 28 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.845 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.845 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 28(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.845643(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.855 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.855 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (28, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.845643, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.855 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 28 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.855 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.855 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 29(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.859 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.859 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 29 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.859 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 29: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.859 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 29: 5.0
2026-01-30 15:56:09.859 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.859 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 29(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:47(LocalDateTime)
2026-01-30 15:56:09.864 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.864 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 29 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:47

2026-01-30 15:56:09.864 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.864 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 29(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.869 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.869 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 29 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.869 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.869 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 29(Long)
2026-01-30 15:56:09.873 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.873 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 29 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.873 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.873 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 29(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.873563(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.884 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.884 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (29, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.873563, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.884 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 29 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.884 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.884 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 30(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.888 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.888 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 30 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.888 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 30: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.888 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 30: 10.0
2026-01-30 15:56:09.888 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.889 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 30(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:48(LocalDateTime)
2026-01-30 15:56:09.892 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.892 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 30 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:48

2026-01-30 15:56:09.892 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.892 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 30(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.900 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.900 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 30 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.900 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.900 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 30(Long)
2026-01-30 15:56:09.905 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.905 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 30 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.905 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.905 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 30(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.905701(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.916 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.916 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (30, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.905701, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.916 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 30 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.916 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.916 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 31(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.921 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.922 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 31 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.922 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 31: 10.0 + 0 extra = 10.0
2026-01-30 15:56:09.922 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 31: 10.0
2026-01-30 15:56:09.922 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.922 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 31(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:48(LocalDateTime)
2026-01-30 15:56:09.926 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.926 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 31 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:48

2026-01-30 15:56:09.926 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.926 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 31(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.930 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.930 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 31 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.930 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.930 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 31(Long)
2026-01-30 15:56:09.934 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.934 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 31 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.935 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.935 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 31(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -10.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.934953(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.942 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.943 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (31, 2026-12-31, 2026-12-31, -10.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.934953, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.943 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 10.0 days for user 31 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.943 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.943 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 32(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.948 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.948 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.948 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 32: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.948 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 32: 5.0
2026-01-30 15:56:09.948 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.948 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 32(Long), 2026-12-31(LocalDate), 2026-01-30T15:49:48(LocalDateTime)
2026-01-30 15:56:09.952 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 0
2026-01-30 15:56:09.952 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T15:49:48

2026-01-30 15:56:09.953 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.953 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 32(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.957 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.957 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.957 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.957 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 32(Long)
2026-01-30 15:56:09.962 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.962 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.962 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.962 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 32(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -5.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.962236(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.970 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.970 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (32, 2026-12-31, 2026-12-31, -5.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.962236, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.970 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 5.0 days for user 32 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.970 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date = ? AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0
2026-01-30 15:56:09.970 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - ==> Parameters: 33(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.974 DEBUG c.l.s.m.LeaveRecordMapper.selectExpiringRecords - <==      Total: 1
2026-01-30 15:56:09.974 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiringRecords
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND expiry_date = 2026-12-31 AND type IN ('ADJUSTMENT_ADD', 'CARRY_OVER') AND deleted = 0

2026-01-30 15:56:09.974 DEBUG com.leave.system.scheduled.ScheduledTasks - Using CARRY_OVER snapshot as base for user 33: 5.0 + 0 extra = 5.0
2026-01-30 15:56:09.974 DEBUG com.leave.system.scheduled.ScheduledTasks - Summing all credits for user 33: 5.0
2026-01-30 15:56:09.974 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = ? AND deleted = 0 AND create_time >= ?
2026-01-30 15:56:09.974 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - ==> Parameters: 33(Long), 2026-12-31(LocalDate), 2026-01-30T14:49:11(LocalDateTime)
2026-01-30 15:56:09.979 DEBUG c.l.s.m.L.selectUsageRecordsForExpiryCleanup - <==      Total: 1
2026-01-30 15:56:09.979 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectUsageRecordsForExpiryCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND type IN ('ANNUAL', 'ADJUSTMENT_DEDUCT') AND expiry_date = 2026-12-31 AND deleted = 0 AND create_time >= 2026-01-30T14:49:11

2026-01-30 15:56:09.979 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'EXPIRED' AND start_date = ? AND deleted = 0
2026-01-30 15:56:09.979 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - ==> Parameters: 33(Long), 2026-12-31(LocalDate)
2026-01-30 15:56:09.983 DEBUG c.l.s.m.L.selectExpiredRecordsByDate - <==      Total: 0
2026-01-30 15:56:09.983 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectExpiredRecordsByDate
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND type = 'EXPIRED' AND start_date = 2026-12-31 AND deleted = 0

2026-01-30 15:56:09.983 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0
2026-01-30 15:56:09.983 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - ==> Parameters: 33(Long)
2026-01-30 15:56:09.988 DEBUG c.l.s.m.L.selectFloatingRecordsForCleanup - <==      Total: 0
2026-01-30 15:56:09.988 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectFloatingRecordsForCleanup
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND expiry_date IS NULL AND type != 'CARRY_OVER' AND deleted = 0

2026-01-30 15:56:09.988 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:09.988 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 33(Long), 2026-12-31(LocalDate), 2026-12-31(LocalDate), -4.0(BigDecimal), EXPIRED(String), å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)(String), 2026-01-30T15:56:09.988219(LocalDateTime), 2026-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:09.996 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:09.996 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (33, 2026-12-31, 2026-12-31, -4.0, 'EXPIRED', 'å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)', 2026-01-30T15:56:09.988219, 2026-12-31, COALESCE(0, 0))

2026-01-30 15:56:09.996 INFO  com.leave.system.scheduled.ScheduledTasks - â±ï¸  Expired 4.0 days for user 33 (target expiry date: 2026-12-31)
2026-01-30 15:56:09.996 INFO  com.leave.system.scheduled.ScheduledTasks - âœ… Expiry cleanup for year 2026 completed: 30 users affected, 223.0 total days expired
2026-01-30 15:56:09.996 INFO  com.leave.system.scheduled.ScheduledTasks - ðŸ”„ Re-initializing all accounts for year 2027 to refresh carry-over balances...
2026-01-30 15:56:09.996 INFO  com.leave.system.scheduled.ScheduledTasks - ðŸ”„ Starting batch account initialization for year: 2027
2026-01-30 15:56:09.996 DEBUG c.leave.system.mapper.SysUserMapper.selectAllUsers - ==>  Preparing: SELECT * FROM sys_user WHERE deleted = 0
2026-01-30 15:56:09.996 DEBUG c.leave.system.mapper.SysUserMapper.selectAllUsers - ==> Parameters: 
2026-01-30 15:56:10.005 DEBUG c.leave.system.mapper.SysUserMapper.selectAllUsers - <==      Total: 35
2026-01-30 15:56:10.005 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsers
SQL         : SELECT * FROM sys_user WHERE deleted = 0

2026-01-30 15:56:10.005 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.005 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 15:56:10.009 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.009 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 15:56:10.009 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.009 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 1(Long), 2027(Integer)
2026-01-30 15:56:10.013 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.013 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.013 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 1 from year 2026 to 2027
2026-01-30 15:56:10.013 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.013 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:10.013 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.013 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 15:56:10.018 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.018 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.018 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.018 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:10.018 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:10.018 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 1 year 2027: 0.0 days
2026-01-30 15:56:10.018 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.018 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 1(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.023 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.023 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.023 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.023 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 1(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.023729(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.032 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.032 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (1, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.023729, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.032 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.032 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 1(Long), 2027(Integer)
2026-01-30 15:56:10.037 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.038 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2027

2026-01-30 15:56:10.038 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.038 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 1(Long), 2027(Integer), 6(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.049 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.049 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (1, 2027, 6, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:10.049 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.049 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-30 15:56:10.054 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.054 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-30 15:56:10.054 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.054 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 2(Long), 2027(Integer)
2026-01-30 15:56:10.059 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.059 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.059 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 2 from year 2026 to 2027
2026-01-30 15:56:10.059 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.059 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 6.5 (expires 2026-12-31)
2026-01-30 15:56:10.059 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.059 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 15:56:10.063 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.063 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.063 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.063 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 6.5 days
2026-01-30 15:56:10.063 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.063 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 2 year 2027: 0.5 days
2026-01-30 15:56:10.063 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.063 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 2(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.068 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.068 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.068 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.069 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 2(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.068889(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.077 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.077 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (2, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.068889, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.078 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.078 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 2(Long), 2027(Integer)
2026-01-30 15:56:10.081 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.082 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2027

2026-01-30 15:56:10.082 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.082 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 2(Long), 2027(Integer), 19(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.091 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.091 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (2, 2027, 19, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.091 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.091 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-30 15:56:10.095 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.096 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-30 15:56:10.096 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.096 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 3(Long), 2027(Integer)
2026-01-30 15:56:10.100 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.100 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.100 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 3 from year 2026 to 2027
2026-01-30 15:56:10.100 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.100 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward -2.0 (expires 2026-12-31)
2026-01-30 15:56:10.100 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.100 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 15:56:10.105 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 1
2026-01-30 15:56:10.105 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.105 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 1 records in year 2026
2026-01-30 15:56:10.105 INFO  com.leave.system.service.impl.LeaveServiceImpl - âš–ï¸ Offsetting total debt of 2.0 days against available credits
2026-01-30 15:56:10.105 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:10.105 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âš ï¸  Carrying over remaining DEBT: -1.5 days
2026-01-30 15:56:10.105 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 3 year 2027: -1.5 days
2026-01-30 15:56:10.105 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.105 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 3(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.110 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.110 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.110 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.111 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 3(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), -1.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.110886(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.119 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.119 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (3, 2027-01-01, 2027-01-01, -1.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.110886, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.119 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.119 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 3(Long), 2027(Integer)
2026-01-30 15:56:10.123 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.123 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2027

2026-01-30 15:56:10.123 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.123 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 3(Long), 2027(Integer), 18(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), -1.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.131 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.131 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (3, 2027, 18, 10.0, 0, 0.0, -1.5, 0, 0)

2026-01-30 15:56:10.131 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.131 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-30 15:56:10.135 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.135 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-30 15:56:10.135 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.135 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 4(Long), 2027(Integer)
2026-01-30 15:56:10.139 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.139 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.139 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 4 from year 2026 to 2027
2026-01-30 15:56:10.139 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.139 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 12.5 (expires 2026-12-31)
2026-01-30 15:56:10.139 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.139 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 15:56:10.144 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.144 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.144 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.144 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 12.5 days
2026-01-30 15:56:10.144 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.144 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 4 year 2027: 0.5 days
2026-01-30 15:56:10.144 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.144 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 4(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.149 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.149 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.149 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.149 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 4(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.149551(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.159 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.159 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (4, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.149551, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.159 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.159 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 4(Long), 2027(Integer)
2026-01-30 15:56:10.163 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.163 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2027

2026-01-30 15:56:10.163 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.163 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 4(Long), 2027(Integer), 17(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.173 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.173 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (4, 2027, 17, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.173 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.173 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-30 15:56:10.177 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.177 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-30 15:56:10.177 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.177 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 5(Long), 2027(Integer)
2026-01-30 15:56:10.183 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.183 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.183 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 5 from year 2026 to 2027
2026-01-30 15:56:10.183 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.183 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 2.0 (expires 2026-12-31)
2026-01-30 15:56:10.183 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.183 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 15:56:10.187 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 3
2026-01-30 15:56:10.188 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.188 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 3 records in year 2026
2026-01-30 15:56:10.188 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 2.0 days
2026-01-30 15:56:10.188 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 2.0 days
2026-01-30 15:56:10.188 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 5 year 2027: 2.0 days
2026-01-30 15:56:10.188 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.188 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 5(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.192 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.192 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.192 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.192 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 5(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 2.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.192418(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.200 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.200 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (5, 2027-01-01, 2027-01-01, 2.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.192418, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.200 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.200 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 5(Long), 2027(Integer)
2026-01-30 15:56:10.205 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.205 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2027

2026-01-30 15:56:10.205 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.205 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 5(Long), 2027(Integer), 8(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 2.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.213 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.213 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (5, 2027, 8, 5.0, 0, 0.0, 2.0, 0, 0)

2026-01-30 15:56:10.213 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.214 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-30 15:56:10.221 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.221 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-30 15:56:10.221 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.221 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 6(Long), 2027(Integer)
2026-01-30 15:56:10.225 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.225 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.225 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 6 from year 2026 to 2027
2026-01-30 15:56:10.225 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.225 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.225 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.225 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 15:56:10.229 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.229 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.229 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.229 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.229 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.229 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 6 year 2027: 0.5 days
2026-01-30 15:56:10.230 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.230 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 6(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.234 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.234 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.234 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.234 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 6(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.234073(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.244 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.244 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (6, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.234073, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.244 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.244 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 6(Long), 2027(Integer)
2026-01-30 15:56:10.249 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.249 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2027

2026-01-30 15:56:10.249 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.249 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 6(Long), 2027(Integer), 10(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.258 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.258 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (6, 2027, 10, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.258 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.258 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-30 15:56:10.263 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.263 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-30 15:56:10.263 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.263 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 7(Long), 2027(Integer)
2026-01-30 15:56:10.268 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.268 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.268 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 7 from year 2026 to 2027
2026-01-30 15:56:10.268 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.268 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:10.268 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.268 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 15:56:10.272 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 3
2026-01-30 15:56:10.272 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.272 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 3 records in year 2026
2026-01-30 15:56:10.272 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 2.0 days
2026-01-30 15:56:10.272 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:10.272 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 7 year 2027: 0.0 days
2026-01-30 15:56:10.272 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.273 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 7(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.277 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.277 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.277 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.277 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 7(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.277745(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.287 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.287 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (7, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.277745, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.287 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.287 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 7(Long), 2027(Integer)
2026-01-30 15:56:10.293 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.293 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2027

2026-01-30 15:56:10.293 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.293 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 7(Long), 2027(Integer), 9(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.305 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.305 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (7, 2027, 9, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:10.305 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.305 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-30 15:56:10.310 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.310 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-30 15:56:10.310 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.310 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 8(Long), 2027(Integer)
2026-01-30 15:56:10.314 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.315 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.315 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 8 from year 2026 to 2027
2026-01-30 15:56:10.315 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.315 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 8.0 (expires 2026-12-31)
2026-01-30 15:56:10.315 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.315 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 15:56:10.320 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 3
2026-01-30 15:56:10.320 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.320 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 3 records in year 2026
2026-01-30 15:56:10.320 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 6.0 days
2026-01-30 15:56:10.320 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.320 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 8 year 2027: 0.5 days
2026-01-30 15:56:10.320 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.320 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 8(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.324 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.324 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.324 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.324 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 8(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.324617(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.333 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.333 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (8, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.324617, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.333 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.333 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 8(Long), 2027(Integer)
2026-01-30 15:56:10.337 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.337 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2027

2026-01-30 15:56:10.337 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.337 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 8(Long), 2027(Integer), 15(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.346 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.346 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (8, 2027, 15, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.346 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.346 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-30 15:56:10.350 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.350 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-30 15:56:10.351 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.351 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 9(Long), 2027(Integer)
2026-01-30 15:56:10.355 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.355 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.355 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 9 from year 2026 to 2027
2026-01-30 15:56:10.355 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.355 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.355 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.355 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 15:56:10.361 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 4
2026-01-30 15:56:10.361 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.361 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 4 records in year 2026
2026-01-30 15:56:10.361 INFO  com.leave.system.service.impl.LeaveServiceImpl - âš–ï¸ Offsetting total debt of 1.5 days against available credits
2026-01-30 15:56:10.361 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 0.0 days
2026-01-30 15:56:10.361 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:10.361 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âš ï¸  Carrying over remaining DEBT: -1.5 days
2026-01-30 15:56:10.361 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 9 year 2027: -1.5 days
2026-01-30 15:56:10.361 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.361 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 9(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.368 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.368 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.368 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.368 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 9(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), -1.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.368712(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.378 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.378 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (9, 2027-01-01, 2027-01-01, -1.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.368712, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.379 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.379 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 9(Long), 2027(Integer)
2026-01-30 15:56:10.383 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.383 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2027

2026-01-30 15:56:10.383 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.383 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 9(Long), 2027(Integer), 15(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), -1.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.391 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.391 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (9, 2027, 15, 10.0, 0, 0.0, -1.5, 0, 0)

2026-01-30 15:56:10.391 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.391 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-30 15:56:10.396 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.396 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-30 15:56:10.396 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.396 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 10(Long), 2027(Integer)
2026-01-30 15:56:10.400 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.400 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.400 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 10 from year 2026 to 2027
2026-01-30 15:56:10.400 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.400 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.400 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.400 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 15:56:10.406 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.406 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.406 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.406 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.406 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.406 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 10 year 2027: 0.5 days
2026-01-30 15:56:10.406 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.406 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 10(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.411 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.411 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.411 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.411 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 10(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.411607(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.421 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.421 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (10, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.411607, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.421 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.421 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 10(Long), 2027(Integer)
2026-01-30 15:56:10.425 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.425 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2027

2026-01-30 15:56:10.425 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.425 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 10(Long), 2027(Integer), 15(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.490 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.490 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (10, 2027, 15, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.490 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.490 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 11(Long)
2026-01-30 15:56:10.496 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.496 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 11 AND deleted = 0

2026-01-30 15:56:10.496 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.496 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 11(Long), 2027(Integer)
2026-01-30 15:56:10.502 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.502 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 11 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.502 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 11 from year 2026 to 2027
2026-01-30 15:56:10.502 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 11 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.502 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.502 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.502 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 11(Long), 2026(Integer)
2026-01-30 15:56:10.506 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.506 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 11 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.506 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.506 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.506 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.506 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 11 year 2027: 0.5 days
2026-01-30 15:56:10.506 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.506 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 11(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.510 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.510 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 11 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.510 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.510 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 11(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.510618(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.519 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.520 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (11, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.510618, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.520 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.520 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 11(Long), 2027(Integer)
2026-01-30 15:56:10.524 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.524 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 11 AND year = 2027

2026-01-30 15:56:10.524 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.524 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 11(Long), 2027(Integer), 10(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.533 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.533 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (11, 2027, 10, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.533 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.533 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 13(Long)
2026-01-30 15:56:10.539 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.539 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 13 AND deleted = 0

2026-01-30 15:56:10.539 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.539 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 13(Long), 2027(Integer)
2026-01-30 15:56:10.543 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.543 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 13 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.543 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 13 from year 2026 to 2027
2026-01-30 15:56:10.543 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 13 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.543 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.543 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.543 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 13(Long), 2026(Integer)
2026-01-30 15:56:10.548 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.548 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 13 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.548 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.548 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.548 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.548 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 13 year 2027: 0.5 days
2026-01-30 15:56:10.548 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.548 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 13(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.553 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.553 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 13 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.553 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.553 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 13(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.553508(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.574 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.574 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (13, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.553508, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.574 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.574 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 13(Long), 2027(Integer)
2026-01-30 15:56:10.579 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.579 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 13 AND year = 2027

2026-01-30 15:56:10.579 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.579 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 13(Long), 2027(Integer), 10(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.589 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.589 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (13, 2027, 10, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.589 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.589 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 14(Long)
2026-01-30 15:56:10.593 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.593 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 14 AND deleted = 0

2026-01-30 15:56:10.593 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.593 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 14(Long), 2027(Integer)
2026-01-30 15:56:10.599 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.599 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 14 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.599 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 14 from year 2026 to 2027
2026-01-30 15:56:10.599 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 14 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.599 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.599 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.599 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 14(Long), 2026(Integer)
2026-01-30 15:56:10.603 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.603 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 14 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.603 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.603 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.603 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.603 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 14 year 2027: 0.5 days
2026-01-30 15:56:10.603 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.603 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 14(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.608 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.608 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 14 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.608 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.608 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 14(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.608235(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.616 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.616 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (14, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.608235, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.616 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.616 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 14(Long), 2027(Integer)
2026-01-30 15:56:10.621 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.621 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 14 AND year = 2027

2026-01-30 15:56:10.621 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.621 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 14(Long), 2027(Integer), 16(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.631 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.631 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (14, 2027, 16, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.631 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.631 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 15(Long)
2026-01-30 15:56:10.649 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.649 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 15 AND deleted = 0

2026-01-30 15:56:10.649 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.649 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 15(Long), 2027(Integer)
2026-01-30 15:56:10.654 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.654 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 15 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.654 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 15 from year 2026 to 2027
2026-01-30 15:56:10.654 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 15 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.654 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.655 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.655 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 15(Long), 2026(Integer)
2026-01-30 15:56:10.659 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.659 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 15 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.659 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.659 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.659 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.659 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 15 year 2027: 0.5 days
2026-01-30 15:56:10.659 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.659 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 15(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.665 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.665 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 15 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.665 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.666 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 15(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.665852(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.677 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.677 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (15, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.665852, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.677 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.677 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 15(Long), 2027(Integer)
2026-01-30 15:56:10.682 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.682 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 15 AND year = 2027

2026-01-30 15:56:10.682 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.682 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 15(Long), 2027(Integer), 19(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.694 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.695 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (15, 2027, 19, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.695 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.695 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 16(Long)
2026-01-30 15:56:10.699 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.699 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 16 AND deleted = 0

2026-01-30 15:56:10.699 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.699 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 16(Long), 2027(Integer)
2026-01-30 15:56:10.703 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.703 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 16 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.703 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 16 from year 2026 to 2027
2026-01-30 15:56:10.703 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 16 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.703 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.703 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.703 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 16(Long), 2026(Integer)
2026-01-30 15:56:10.710 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.710 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 16 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.710 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.710 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.710 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.710 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 16 year 2027: 0.5 days
2026-01-30 15:56:10.710 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.710 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 16(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.716 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.716 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 16 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.716 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.716 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 16(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.716430(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.725 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.726 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (16, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.716430, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.726 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.726 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 16(Long), 2027(Integer)
2026-01-30 15:56:10.731 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.731 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 16 AND year = 2027

2026-01-30 15:56:10.731 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.731 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 16(Long), 2027(Integer), 14(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.740 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.740 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (16, 2027, 14, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.741 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.741 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 17(Long)
2026-01-30 15:56:10.745 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.745 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 17 AND deleted = 0

2026-01-30 15:56:10.745 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.745 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 17(Long), 2027(Integer)
2026-01-30 15:56:10.749 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.749 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 17 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.749 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 17 from year 2026 to 2027
2026-01-30 15:56:10.749 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 17 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.749 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.750 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.750 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 17(Long), 2026(Integer)
2026-01-30 15:56:10.755 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.755 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 17 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.755 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.755 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.755 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.755 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 17 year 2027: 0.5 days
2026-01-30 15:56:10.756 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.756 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 17(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.760 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.760 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 17 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.760 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.760 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 17(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.760549(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.770 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.771 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (17, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.760549, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.771 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.771 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 17(Long), 2027(Integer)
2026-01-30 15:56:10.775 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.775 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 17 AND year = 2027

2026-01-30 15:56:10.775 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.775 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 17(Long), 2027(Integer), 11(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.783 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.783 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (17, 2027, 11, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.783 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.783 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 18(Long)
2026-01-30 15:56:10.788 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.788 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 18 AND deleted = 0

2026-01-30 15:56:10.788 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.788 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 18(Long), 2027(Integer)
2026-01-30 15:56:10.793 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.793 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 18 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.793 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 18 from year 2026 to 2027
2026-01-30 15:56:10.793 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 18 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.793 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:10.793 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.793 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 18(Long), 2026(Integer)
2026-01-30 15:56:10.797 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.797 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 18 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.797 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.797 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:10.797 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:10.797 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 18 year 2027: 0.0 days
2026-01-30 15:56:10.797 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.797 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 18(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.801 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.801 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 18 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.802 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.802 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 18(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.801978(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.810 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.810 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (18, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.801978, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.810 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.810 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 18(Long), 2027(Integer)
2026-01-30 15:56:10.814 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.816 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 18 AND year = 2027

2026-01-30 15:56:10.816 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.816 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 18(Long), 2027(Integer), 9(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.825 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.825 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (18, 2027, 9, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:10.825 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.825 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 19(Long)
2026-01-30 15:56:10.830 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.830 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 19 AND deleted = 0

2026-01-30 15:56:10.830 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.830 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 19(Long), 2027(Integer)
2026-01-30 15:56:10.835 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.835 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 19 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.835 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 19 from year 2026 to 2027
2026-01-30 15:56:10.835 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 19 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.835 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.835 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.835 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 19(Long), 2026(Integer)
2026-01-30 15:56:10.839 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.839 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 19 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.839 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.839 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.839 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.839 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 19 year 2027: 0.5 days
2026-01-30 15:56:10.839 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.839 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 19(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.844 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.844 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 19 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.844 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.844 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 19(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.844512(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.856 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.856 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (19, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.844512, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.857 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.857 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 19(Long), 2027(Integer)
2026-01-30 15:56:10.861 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.861 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 19 AND year = 2027

2026-01-30 15:56:10.861 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.861 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 19(Long), 2027(Integer), 11(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.881 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.881 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (19, 2027, 11, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.881 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.881 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 20(Long)
2026-01-30 15:56:10.885 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.885 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 20 AND deleted = 0

2026-01-30 15:56:10.886 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.886 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 20(Long), 2027(Integer)
2026-01-30 15:56:10.890 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.890 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 20 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.890 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 20 from year 2026 to 2027
2026-01-30 15:56:10.890 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 20 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.890 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:10.890 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.890 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 20(Long), 2026(Integer)
2026-01-30 15:56:10.895 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.895 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 20 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.895 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.895 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:10.895 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:10.895 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 20 year 2027: 0.5 days
2026-01-30 15:56:10.895 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.895 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 20(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.899 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.899 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 20 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.899 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.900 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 20(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.899899(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.910 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.910 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (20, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.899899, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.910 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.910 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 20(Long), 2027(Integer)
2026-01-30 15:56:10.914 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.914 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 20 AND year = 2027

2026-01-30 15:56:10.914 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.914 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 20(Long), 2027(Integer), 11(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.922 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.922 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (20, 2027, 11, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:10.922 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.922 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 21(Long)
2026-01-30 15:56:10.927 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.927 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 21 AND deleted = 0

2026-01-30 15:56:10.927 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.927 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 21(Long), 2027(Integer)
2026-01-30 15:56:10.932 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.932 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 21 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.932 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 21 from year 2026 to 2027
2026-01-30 15:56:10.932 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 21 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.932 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:10.932 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.932 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 21(Long), 2026(Integer)
2026-01-30 15:56:10.936 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.936 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 21 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.936 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.936 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:10.936 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:10.936 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 21 year 2027: 0.0 days
2026-01-30 15:56:10.936 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.936 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 21(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.940 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.941 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 21 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.941 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.941 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 21(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.941042(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.949 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.950 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (21, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.941042, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.950 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.950 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 21(Long), 2027(Integer)
2026-01-30 15:56:10.954 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.954 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 21 AND year = 2027

2026-01-30 15:56:10.954 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.954 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 21(Long), 2027(Integer), 9(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:10.962 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:10.962 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (21, 2027, 9, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:10.963 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:10.963 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 22(Long)
2026-01-30 15:56:10.967 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:10.967 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 22 AND deleted = 0

2026-01-30 15:56:10.967 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:10.967 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 22(Long), 2027(Integer)
2026-01-30 15:56:10.972 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:10.972 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 22 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.972 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 22 from year 2026 to 2027
2026-01-30 15:56:10.972 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 22 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:10.972 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:10.972 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:10.972 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 22(Long), 2026(Integer)
2026-01-30 15:56:10.979 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:10.979 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 22 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:10.979 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:10.979 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:10.979 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:10.979 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 22 year 2027: 0.0 days
2026-01-30 15:56:10.979 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:10.979 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 22(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:10.983 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:10.983 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 22 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:10.983 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:10.983 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 22(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:10.983510(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:10.992 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:10.992 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (22, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:10.983510, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:10.992 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:10.992 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 22(Long), 2027(Integer)
2026-01-30 15:56:10.997 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:10.997 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 22 AND year = 2027

2026-01-30 15:56:10.997 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:10.997 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 22(Long), 2027(Integer), 7(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.006 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.006 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (22, 2027, 7, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:11.006 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.006 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 23(Long)
2026-01-30 15:56:11.011 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.011 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 23 AND deleted = 0

2026-01-30 15:56:11.011 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.011 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 23(Long), 2027(Integer)
2026-01-30 15:56:11.016 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.016 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 23 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.016 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 23 from year 2026 to 2027
2026-01-30 15:56:11.016 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 23 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.016 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:11.016 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.016 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 23(Long), 2026(Integer)
2026-01-30 15:56:11.022 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.022 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 23 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.022 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.022 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:11.022 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:11.022 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 23 year 2027: 0.0 days
2026-01-30 15:56:11.022 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.022 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 23(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.026 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.026 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 23 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.026 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.026 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 23(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.026660(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.035 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.035 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (23, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.026660, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.035 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.035 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 23(Long), 2027(Integer)
2026-01-30 15:56:11.039 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.039 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 23 AND year = 2027

2026-01-30 15:56:11.039 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.040 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 23(Long), 2027(Integer), 7(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.047 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.047 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (23, 2027, 7, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:11.048 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.048 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 24(Long)
2026-01-30 15:56:11.052 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.052 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 24 AND deleted = 0

2026-01-30 15:56:11.052 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.052 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 24(Long), 2027(Integer)
2026-01-30 15:56:11.056 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.056 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 24 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.056 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 24 from year 2026 to 2027
2026-01-30 15:56:11.056 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 24 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.056 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:11.056 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.056 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 24(Long), 2026(Integer)
2026-01-30 15:56:11.060 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.060 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 24 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.060 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.060 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:11.060 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:11.060 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 24 year 2027: 0.0 days
2026-01-30 15:56:11.060 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.060 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 24(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.064 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.064 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 24 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.064 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.064 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 24(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.064315(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.074 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.074 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (24, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.064315, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.074 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.074 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 24(Long), 2027(Integer)
2026-01-30 15:56:11.081 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.081 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 24 AND year = 2027

2026-01-30 15:56:11.081 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.081 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 24(Long), 2027(Integer), 9(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.090 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.090 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (24, 2027, 9, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:11.090 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.090 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 25(Long)
2026-01-30 15:56:11.095 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.095 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 25 AND deleted = 0

2026-01-30 15:56:11.095 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.095 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 25(Long), 2027(Integer)
2026-01-30 15:56:11.099 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.099 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 25 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.099 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 25 from year 2026 to 2027
2026-01-30 15:56:11.099 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 25 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.099 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:11.099 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.099 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 25(Long), 2026(Integer)
2026-01-30 15:56:11.104 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.104 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 25 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.104 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.104 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:11.104 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:11.104 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 25 year 2027: 0.5 days
2026-01-30 15:56:11.104 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.104 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 25(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.109 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.109 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 25 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.110 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.110 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 25(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.109956(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.118 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.118 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (25, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.109956, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.118 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.118 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 25(Long), 2027(Integer)
2026-01-30 15:56:11.122 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.122 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 25 AND year = 2027

2026-01-30 15:56:11.122 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.122 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 25(Long), 2027(Integer), 10(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.131 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.131 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (25, 2027, 10, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:11.131 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.131 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 26(Long)
2026-01-30 15:56:11.137 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.137 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 26 AND deleted = 0

2026-01-30 15:56:11.137 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.137 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 26(Long), 2027(Integer)
2026-01-30 15:56:11.142 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.142 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 26 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.142 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 26 from year 2026 to 2027
2026-01-30 15:56:11.142 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 26 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.142 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:11.142 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.142 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 26(Long), 2026(Integer)
2026-01-30 15:56:11.148 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.148 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 26 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.148 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.148 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:11.148 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:11.148 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 26 year 2027: 0.0 days
2026-01-30 15:56:11.148 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.148 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 26(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.152 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.152 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 26 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.152 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.152 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 26(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.152500(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.161 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.161 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (26, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.152500, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.161 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.161 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 26(Long), 2027(Integer)
2026-01-30 15:56:11.165 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.165 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 26 AND year = 2027

2026-01-30 15:56:11.165 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.165 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 26(Long), 2027(Integer), 5(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.175 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.175 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (26, 2027, 5, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:11.175 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.175 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 27(Long)
2026-01-30 15:56:11.182 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.182 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 27 AND deleted = 0

2026-01-30 15:56:11.182 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.183 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 27(Long), 2027(Integer)
2026-01-30 15:56:11.187 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.187 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 27 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.187 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 27 from year 2026 to 2027
2026-01-30 15:56:11.187 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 27 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.187 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:11.187 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.187 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 27(Long), 2026(Integer)
2026-01-30 15:56:11.192 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.192 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 27 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.192 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.192 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:11.192 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:11.192 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 27 year 2027: 0.0 days
2026-01-30 15:56:11.193 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.193 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 27(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.197 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.197 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 27 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.197 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.198 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 27(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.197846(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.210 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.210 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (27, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.197846, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.210 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.210 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 27(Long), 2027(Integer)
2026-01-30 15:56:11.214 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.214 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 27 AND year = 2027

2026-01-30 15:56:11.214 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.214 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 27(Long), 2027(Integer), 7(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.222 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.223 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (27, 2027, 7, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:11.223 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.223 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 28(Long)
2026-01-30 15:56:11.227 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.227 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 28 AND deleted = 0

2026-01-30 15:56:11.227 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.227 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 28(Long), 2027(Integer)
2026-01-30 15:56:11.233 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.233 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 28 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.233 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 28 from year 2026 to 2027
2026-01-30 15:56:11.233 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 28 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.233 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:11.233 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.233 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 28(Long), 2026(Integer)
2026-01-30 15:56:11.242 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.243 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 28 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.243 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.243 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:11.243 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:11.243 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 28 year 2027: 0.5 days
2026-01-30 15:56:11.243 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.243 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 28(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.247 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.247 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 28 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.248 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.248 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 28(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.247969(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.255 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.256 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (28, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.247969, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.256 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.256 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 28(Long), 2027(Integer)
2026-01-30 15:56:11.260 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.260 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 28 AND year = 2027

2026-01-30 15:56:11.260 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.260 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 28(Long), 2027(Integer), 16(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.268 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.268 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (28, 2027, 16, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:11.268 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.268 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 29(Long)
2026-01-30 15:56:11.273 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.273 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 29 AND deleted = 0

2026-01-30 15:56:11.273 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.273 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 29(Long), 2027(Integer)
2026-01-30 15:56:11.277 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.277 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 29 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.277 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 29 from year 2026 to 2027
2026-01-30 15:56:11.277 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 29 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.277 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:11.277 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.277 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 29(Long), 2026(Integer)
2026-01-30 15:56:11.285 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.285 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 29 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.285 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.285 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:11.285 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:11.285 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 29 year 2027: 0.0 days
2026-01-30 15:56:11.286 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.286 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 29(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.291 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.291 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 29 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.291 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.291 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 29(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.291306(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.299 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.299 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (29, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.291306, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.300 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.300 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 29(Long), 2027(Integer)
2026-01-30 15:56:11.304 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.304 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 29 AND year = 2027

2026-01-30 15:56:11.304 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.304 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 29(Long), 2027(Integer), 9(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.318 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.318 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (29, 2027, 9, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:11.318 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.318 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 30(Long)
2026-01-30 15:56:11.323 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.323 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 30 AND deleted = 0

2026-01-30 15:56:11.323 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.323 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 30(Long), 2027(Integer)
2026-01-30 15:56:11.328 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.328 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 30 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.328 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 30 from year 2026 to 2027
2026-01-30 15:56:11.328 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 30 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.328 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:11.328 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.328 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 30(Long), 2026(Integer)
2026-01-30 15:56:11.336 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.336 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 30 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.336 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.336 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:11.336 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:11.336 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 30 year 2027: 0.5 days
2026-01-30 15:56:11.336 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.336 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 30(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.341 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.341 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 30 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.342 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.342 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 30(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.341965(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.352 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.352 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (30, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.341965, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.352 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.352 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 30(Long), 2027(Integer)
2026-01-30 15:56:11.357 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.357 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 30 AND year = 2027

2026-01-30 15:56:11.357 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.357 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 30(Long), 2027(Integer), 10(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.367 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.368 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (30, 2027, 10, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:11.368 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.368 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 31(Long)
2026-01-30 15:56:11.372 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.372 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 31 AND deleted = 0

2026-01-30 15:56:11.373 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.373 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 31(Long), 2027(Integer)
2026-01-30 15:56:11.378 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.378 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 31 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.378 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 31 from year 2026 to 2027
2026-01-30 15:56:11.378 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 31 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.378 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.5 (expires 2027-12-31), BroughtForward 10.0 (expires 2026-12-31)
2026-01-30 15:56:11.378 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.378 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 31(Long), 2026(Integer)
2026-01-30 15:56:11.387 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.387 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 31 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.387 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.387 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 10.0 days
2026-01-30 15:56:11.387 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.5 days
2026-01-30 15:56:11.387 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 31 year 2027: 0.5 days
2026-01-30 15:56:11.387 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.387 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 31(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.392 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.392 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 31 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.392 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.392 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 31(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.5(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.392524(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.405 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.405 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (31, 2027-01-01, 2027-01-01, 0.5, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.392524, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.405 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.405 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 31(Long), 2027(Integer)
2026-01-30 15:56:11.410 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.411 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 31 AND year = 2027

2026-01-30 15:56:11.411 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.411 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 31(Long), 2027(Integer), 15(Integer), 10.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.5(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.421 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.421 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (31, 2027, 15, 10.0, 0, 0.0, 0.5, 0, 0)

2026-01-30 15:56:11.421 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.421 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 32(Long)
2026-01-30 15:56:11.426 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.426 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 32 AND deleted = 0

2026-01-30 15:56:11.426 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.426 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 32(Long), 2027(Integer)
2026-01-30 15:56:11.431 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.431 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 32 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.431 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 32 from year 2026 to 2027
2026-01-30 15:56:11.431 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 32 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.431 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:11.431 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.431 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 32(Long), 2026(Integer)
2026-01-30 15:56:11.435 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 2
2026-01-30 15:56:11.435 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.435 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 2 records in year 2026
2026-01-30 15:56:11.435 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 5.0 days
2026-01-30 15:56:11.435 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:11.435 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 32 year 2027: 0.0 days
2026-01-30 15:56:11.435 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.435 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 32(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.439 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.439 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.439 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.440 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 32(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.439824(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.448 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.448 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (32, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.439824, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.449 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.449 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 32(Long), 2027(Integer)
2026-01-30 15:56:11.453 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.453 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 32 AND year = 2027

2026-01-30 15:56:11.453 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.453 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 32(Long), 2027(Integer), 8(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.461 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.461 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (32, 2027, 8, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:11.462 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:11.462 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-30 15:56:11.466 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:11.466 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-30 15:56:11.466 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? - 1 AND deleted = 0
2026-01-30 15:56:11.466 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - ==> Parameters: 33(Long), 2027(Integer)
2026-01-30 15:56:11.471 DEBUG c.l.s.m.LeaveAccountMapper.selectLastYearAccount - <==      Total: 1
2026-01-30 15:56:11.471 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.471 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ” Calculating carry-over for user 33 from year 2026 to 2027
2026-01-30 15:56:11.471 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectLastYearAccount
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2027 - 1 AND deleted = 0

2026-01-30 15:56:11.471 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“Š Last year base: Quota 0.0 (expires 2027-12-31), BroughtForward 5.0 (expires 2026-12-31)
2026-01-30 15:56:11.471 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0
2026-01-30 15:56:11.471 DEBUG c.l.s.m.L.selectRecordsForCarryOver - ==> Parameters: 33(Long), 2026(Integer)
2026-01-30 15:56:11.475 DEBUG c.l.s.m.L.selectRecordsForCarryOver - <==      Total: 3
2026-01-30 15:56:11.475 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsForCarryOver
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 AND deleted = 0

2026-01-30 15:56:11.475 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ“‹ Found 3 records in year 2026
2026-01-30 15:56:11.475 INFO  com.leave.system.service.impl.LeaveServiceImpl -   â­ï¸  Expired credit from bucket 2026-12-31: 4.0 days
2026-01-30 15:56:11.475 INFO  com.leave.system.service.impl.LeaveServiceImpl -   âž• Carried over credit from bucket 2027-12-31: 0.0 days
2026-01-30 15:56:11.475 INFO  com.leave.system.service.impl.LeaveServiceImpl - ðŸ’° Final carry-over for user 33 year 2027: 0.0 days
2026-01-30 15:56:11.475 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND type = 'CARRY_OVER' AND start_date = ? AND deleted = 0
2026-01-30 15:56:11.475 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - ==> Parameters: 33(Long), 2027-01-01(LocalDate)
2026-01-30 15:56:11.480 DEBUG c.l.s.m.LeaveRecordMapper.selectCarryOverRecord - <==      Total: 0
2026-01-30 15:56:11.480 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectCarryOverRecord
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND type = 'CARRY_OVER' AND start_date = 2027-01-01 AND deleted = 0

2026-01-30 15:56:11.481 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==>  Preparing: INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, COALESCE(?, 0))
2026-01-30 15:56:11.481 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - ==> Parameters: 33(Long), 2027-01-01(LocalDate), 2027-01-01(LocalDate), 0.0(BigDecimal), CARRY_OVER(String), ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)(String), 2026-01-30T15:56:11.480916(LocalDateTime), 2027-12-31(LocalDate), 0(Integer)
2026-01-30 15:56:11.492 DEBUG c.l.system.mapper.LeaveRecordMapper.insertRecord - <==    Updates: 1
2026-01-30 15:56:11.492 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.insertRecord
SQL         : INSERT INTO leave_record (user_id, start_date, end_date, days, type, remarks, create_time, expiry_date, deleted) VALUES (33, 2027-01-01, 2027-01-01, 0.0, 'CARRY_OVER', 'ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)', 2026-01-30T15:56:11.480916, 2027-12-31, COALESCE(0, 0))

2026-01-30 15:56:11.492 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ?
2026-01-30 15:56:11.492 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - ==> Parameters: 33(Long), 2027(Integer)
2026-01-30 15:56:11.499 DEBUG c.l.s.m.L.selectAccountByUserIdAndYearIncludeDeleted - <==      Total: 0
2026-01-30 15:56:11.499 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYearIncludeDeleted
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2027

2026-01-30 15:56:11.499 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==>  Preparing: INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-30 15:56:11.499 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - ==> Parameters: 33(Long), 2027(Integer), 7(Integer), 5.0(BigDecimal), 0(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0(BigDecimal), 0(Integer)
2026-01-30 15:56:11.511 DEBUG c.l.system.mapper.LeaveAccountMapper.insertAccount - <==    Updates: 1
2026-01-30 15:56:11.511 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.insertAccount
SQL         : INSERT INTO leave_account (user_id, year, social_seniority, standard_quota, days_employed, actual_quota, last_year_balance, current_year_used, deleted) VALUES (33, 2027, 7, 5.0, 0, 0.0, 0.0, 0, 0)

2026-01-30 15:56:11.511 INFO  com.leave.system.scheduled.ScheduledTasks - âœ… Batch initialization completed: 32 success, 0 failed out of 35 total users
2026-01-30 15:56:11.521 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - ==>  Preparing: SELECT * FROM sys_job WHERE id = ?
2026-01-30 15:56:11.521 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - ==> Parameters: 2(Long)
2026-01-30 15:56:11.526 DEBUG c.leave.system.mapper.SysJobMapper.selectJobById - <==      Total: 1
2026-01-30 15:56:11.526 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectJobById
SQL         : SELECT * FROM sys_job WHERE id = 2

2026-01-30 15:56:11.526 DEBUG com.leave.system.mapper.SysJobMapper.updateJob - ==>  Preparing: UPDATE sys_job SET job_name = ?, job_group = ?, invoke_target = ?, cron_expression = ?, last_run_time = ?, status = ?, remark = ?, update_time = ? WHERE id = ?
2026-01-30 15:56:11.526 DEBUG com.leave.system.mapper.SysJobMapper.updateJob - ==> Parameters: å¹´å‡è¿‡æœŸæ¸…ç†(String), DEFAULT(String), scheduledTasks.cleanupExpiredLeaveBalances(2026)(String), 0 0 1 1 1 ?(String), 2026-01-30T15:56:11.526409(LocalDateTime), 0(Integer), æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚(String), 2026-01-30T15:56:06(LocalDateTime), 2(Long)
2026-01-30 15:56:11.535 DEBUG com.leave.system.mapper.SysJobMapper.updateJob - <==    Updates: 1
2026-01-30 15:56:11.536 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.updateJob
SQL         : UPDATE sys_job SET job_name = 'å¹´å‡è¿‡æœŸæ¸…ç†', job_group = 'DEFAULT', invoke_target = 'scheduledTasks.cleanupExpiredLeaveBalances(2026)', cron_expression = '0 0 1 1 1 2026-01-30T15:56:11.526409', last_run_time = 0, status = 'æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚', remark = 2026-01-30T15:56:06, update_time = 2 WHERE id = ?

2026-01-30 15:56:11.536 INFO  com.leave.system.service.impl.SysJobServiceImpl - Job executed successfully: å¹´å‡è¿‡æœŸæ¸…ç†
2026-01-30 15:56:40.866 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-30 15:56:40.866 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-30 15:56:40.879 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:56:40.879 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:56:40.880 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:56:40.880 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:56:40.885 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:56:40.885 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:56:40.885 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:56:40.885 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:56:40.887 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-30 15:56:40.887 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-30 15:56:40.888 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/available-years
2026-01-30 15:56:40.888 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-30 15:56:40.888 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 15:56:40.888 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-30 15:56:40.888 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-30 15:56:40.888 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:56:40.888 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:56:40.888 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-30 15:56:40.890 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:56:40.890 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:56:40.900 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-30 15:56:40.900 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:56:40.900 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-30 15:56:40.900 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:56:40.900 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-30 15:56:40.900 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-30 15:56:40.900 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[2027,2026,2025]}
2026-01-30 15:56:40.906 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-30 15:56:40.906 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:56:40.907 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:40.907 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 15:56:40.910 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:40.910 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 15:56:40.910 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:40.910 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:40.919 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:40.919 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:40.919 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:40.919 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 15:56:40.926 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:40.926 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-30 15:56:40.926 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 1 year 2026 based on today 2026-01-30
2026-01-30 15:56:40.926 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:40.926 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 15:56:40.934 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:56:40.934 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:40.934 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:40.934 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-30 15:56:40.941 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:40.941 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-30 15:56:40.941 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:40.941 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:40.949 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:40.949 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:40.949 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:40.949 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 15:56:40.957 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:40.957 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2026 AND deleted = 0

2026-01-30 15:56:40.957 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 2 year 2026 based on today 2026-01-30
2026-01-30 15:56:40.957 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:40.957 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 15:56:40.961 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:56:40.961 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:40.961 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:40.961 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-30 15:56:40.965 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:40.966 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-30 15:56:40.966 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:40.966 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:40.972 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:40.972 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:40.972 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:40.972 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 15:56:40.995 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:40.995 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2026 AND deleted = 0

2026-01-30 15:56:40.995 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 3 year 2026 based on today 2026-01-30
2026-01-30 15:56:40.995 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:40.996 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 15:56:41.002 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:56:41.002 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:41.002 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:41.002 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-30 15:56:41.011 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:41.011 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-30 15:56:41.011 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:41.011 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:41.014 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:41.014 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:41.014 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:41.014 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 15:56:41.022 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:41.022 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2026 AND deleted = 0

2026-01-30 15:56:41.022 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 4 year 2026 based on today 2026-01-30
2026-01-30 15:56:41.022 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:41.022 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 15:56:41.026 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:56:41.026 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:41.026 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:41.026 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-30 15:56:41.030 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:41.030 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-30 15:56:41.031 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:41.031 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:41.040 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:41.040 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:41.040 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:41.040 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 15:56:41.047 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:41.047 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2026 AND deleted = 0

2026-01-30 15:56:41.047 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 5 year 2026 based on today 2026-01-30
2026-01-30 15:56:41.047 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:41.047 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 15:56:41.054 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-30 15:56:41.054 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:41.054 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:41.054 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-30 15:56:41.061 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:41.061 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-30 15:56:41.061 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:41.061 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:41.066 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:41.066 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:41.066 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:41.066 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 15:56:41.070 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:41.071 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2026 AND deleted = 0

2026-01-30 15:56:41.071 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 6 year 2026 based on today 2026-01-30
2026-01-30 15:56:41.071 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:41.071 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 15:56:41.082 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:56:41.082 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:41.082 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:41.082 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-30 15:56:41.090 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:41.090 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-30 15:56:41.090 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:41.091 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:41.097 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:41.097 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:41.098 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:41.098 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 15:56:41.102 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:41.102 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2026 AND deleted = 0

2026-01-30 15:56:41.102 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 7 year 2026 based on today 2026-01-30
2026-01-30 15:56:41.102 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:41.102 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 15:56:41.108 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-30 15:56:41.108 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:41.108 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:41.108 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-30 15:56:41.112 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:41.112 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-30 15:56:41.112 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:41.112 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:41.119 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:41.119 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:41.119 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:41.119 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 15:56:41.123 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:41.123 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2026 AND deleted = 0

2026-01-30 15:56:41.124 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 8 year 2026 based on today 2026-01-30
2026-01-30 15:56:41.124 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:41.124 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 15:56:41.129 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-30 15:56:41.129 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:41.129 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:41.130 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-30 15:56:41.134 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:41.134 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-30 15:56:41.134 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:41.134 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:41.140 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:41.141 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:41.141 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:41.141 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 15:56:41.148 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:41.148 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2026 AND deleted = 0

2026-01-30 15:56:41.148 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 9 year 2026 based on today 2026-01-30
2026-01-30 15:56:41.148 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:41.148 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 15:56:41.153 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 4
2026-01-30 15:56:41.153 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:41.153 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:56:41.153 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-30 15:56:41.163 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:56:41.163 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-30 15:56:41.163 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:56:41.163 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:56:41.168 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:56:41.168 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:56:41.168 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:56:41.168 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 15:56:41.171 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:56:41.171 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2026 AND deleted = 0

2026-01-30 15:56:41.172 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 10 year 2026 based on today 2026-01-30
2026-01-30 15:56:41.172 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:56:41.172 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 15:56:41.176 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:56:41.176 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:56:41.176 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":432,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"ç³»ç»Ÿç®¡ç†å‘˜","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":820,"userId":1,"startDate":"2026-12-31","endDate":"2026-12-31","days":-5.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:09","deleted":0},{"id":783,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":433,"userId":2,"year":2026,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":6.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"wangjianping","realName":"çŽ‹å»ºå¹³","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":821,"userId":2,"startDate":"2026-12-31","endDate":"2026-12-31","days":-6.5,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:09","deleted":0},{"id":784,"userId":2,"startDate":"2026-01-01","endDate":"2026-01-01","days":6.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":434,"userId":3,"year":2026,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":-2.0,"currentYearUsed":0,"deleted":null,"totalBalance":-1.5,"username":"wenyongguo","realName":"æ¸©æ°¸å›½","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":785,"userId":3,"startDate":"2026-01-01","endDate":"2026-01-01","days":-2.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":435,"userId":4,"year":2026,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":12.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"xujunyi","realName":"å¾å›æ¯…","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":822,"userId":4,"startDate":"2026-12-31","endDate":"2026-12-31","days":-12.5,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:09","deleted":0},{"id":786,"userId":4,"startDate":"2026-01-01","endDate":"2026-01-01","days":12.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":436,"userId":5,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":2.0,"username":"zhanghao","realName":"å¼ æµ©","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":823,"userId":5,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:09","deleted":0},{"id":816,"userId":5,"startDate":"2026-01-30","endDate":"2026-01-30","days":2.0,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2027-12-31","createTime":"2026-01-30T15:53:22","deleted":0},{"id":787,"userId":5,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":437,"userId":6,"year":2026,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"zhangjianxin","realName":"å¼ å»ºæ–°","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[{"id":824,"userId":6,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:09","deleted":0},{"id":788,"userId":6,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":438,"userId":7,"year":2026,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yuanwei","realName":"è¢ä¼Ÿ","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":825,"userId":7,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:09","deleted":0},{"id":814,"userId":7,"startDate":"2026-01-30","endDate":"2026-01-30","days":-3.0,"type":"ADJUSTMENT_DEDUCT","remarks":"é¢åº¦æ‰£é™¤ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:52:16","deleted":0},{"id":789,"userId":7,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":439,"userId":8,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":8.0,"currentYearUsed":2.0,"deleted":null,"totalBalance":0.5,"username":"yangpanqiang","realName":"æ¨ç›¼å¼º","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[{"id":826,"userId":8,"startDate":"2026-12-31","endDate":"2026-12-31","days":-6.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:09","deleted":0},{"id":815,"userId":8,"startDate":"2026-01-30","endDate":"2026-01-30","days":-2.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:52:43","deleted":0},{"id":790,"userId":8,"startDate":"2026-01-01","endDate":"2026-01-01","days":8.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":440,"userId":9,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":12.0,"deleted":null,"totalBalance":-1.5,"username":"xinghaibo","realName":"é‚¢æµ·åš","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":819,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-1.5,"type":"ANNUAL","remarks":" (é¢åº¦é€æ”¯)","expiryDate":null,"createTime":"2026-01-30T15:54:05","deleted":0},{"id":818,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-0.5,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:54:05","deleted":0},{"id":817,"userId":9,"startDate":"2026-01-30","endDate":"2026-01-30","days":-10.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:54:05","deleted":0},{"id":791,"userId":9,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":441,"userId":10,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"jiayulong","realName":"è´¾çŽ‰é¾™","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":827,"userId":10,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:09","deleted":0},{"id":792,"userId":10,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:46","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":1,"pages":4}}
2026-01-30 15:57:20.805 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=4&size=10
2026-01-30 15:57:20.815 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:57:20.815 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:57:20.820 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:57:20.820 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:57:20.822 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=4&size=10
2026-01-30 15:57:20.823 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:57:20.823 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:57:20.823 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 4, 10]
2026-01-30 15:57:20.824 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:57:20.824 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:57:20.830 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:57:20.830 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:57:20.831 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?,?
2026-01-30 15:57:20.831 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 30(Long), 10(Long)
2026-01-30 15:57:20.837 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 2
2026-01-30 15:57:20.837 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:57:20.837 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:20.837 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 32(Long)
2026-01-30 15:57:20.841 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:20.841 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 32 AND deleted = 0

2026-01-30 15:57:20.841 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:20.842 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:20.846 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:20.846 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:20.846 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:20.846 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 32(Long), 2026(Integer)
2026-01-30 15:57:20.851 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:20.851 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 32 AND year = 2026 AND deleted = 0

2026-01-30 15:57:20.851 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 32 year 2026 based on today 2026-01-30
2026-01-30 15:57:20.852 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:20.852 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 32(Long), 2026(Integer)
2026-01-30 15:57:20.856 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 15:57:20.856 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:20.856 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:20.856 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-30 15:57:20.860 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:20.860 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-30 15:57:20.860 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:20.860 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:20.865 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:20.865 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:20.865 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:20.865 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-30 15:57:20.869 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:20.869 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2026 AND deleted = 0

2026-01-30 15:57:20.869 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 33 year 2026 based on today 2026-01-30
2026-01-30 15:57:20.870 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:20.870 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-30 15:57:20.875 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-30 15:57:20.875 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:20.875 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":462,"userId":32,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"renzhipeng","realName":"ä»»å¿—é¹","employeeNumber":"CBJ-092","entryDate":"2022-03-30","records":[{"id":848,"userId":32,"startDate":"2026-12-31","endDate":"2026-12-31","days":-5.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:10","deleted":0},{"id":813,"userId":32,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:49:48","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":463,"userId":33,"year":2026,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":1.0,"deleted":null,"totalBalance":0.0,"username":"zhangningbo","realName":"å¼ å®åš","employeeNumber":"CBJ-104","entryDate":"2022-06-21","records":[{"id":849,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-4.0,"type":"EXPIRED","remarks":"å¹´å‡å·²è¿‡æœŸè‡ªåŠ¨æ¸…ç† (åˆ°æœŸæ—¥æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T15:56:10","deleted":0},{"id":424,"userId":33,"startDate":"2026-01-28","endDate":"2026-01-28","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T14:49:11","deleted":0},{"id":423,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-30T14:49:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":4,"pages":4}}
2026-01-30 15:57:25.057 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2027&current=4&size=10
2026-01-30 15:57:25.062 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:57:25.062 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:57:25.067 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:57:25.067 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:57:25.069 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2027&current=4&size=10
2026-01-30 15:57:25.069 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:57:25.069 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:57:25.069 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2027, 4, 10]
2026-01-30 15:57:25.071 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:57:25.071 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:57:25.075 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:57:25.075 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:57:25.075 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?,?
2026-01-30 15:57:25.075 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 30(Long), 10(Long)
2026-01-30 15:57:25.081 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 2
2026-01-30 15:57:25.081 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:57:25.081 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:25.081 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 32(Long)
2026-01-30 15:57:25.085 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:25.086 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 32 AND deleted = 0

2026-01-30 15:57:25.086 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:25.086 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:25.091 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:25.091 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:25.092 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:25.092 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 32(Long), 2027(Integer)
2026-01-30 15:57:25.095 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:25.095 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 32 AND year = 2027 AND deleted = 0

2026-01-30 15:57:25.095 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:25.096 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 32(Long), 2027(Integer)
2026-01-30 15:57:25.099 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:25.100 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:25.100 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:25.100 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-30 15:57:25.104 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:25.104 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-30 15:57:25.104 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:25.104 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:25.109 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:25.109 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:25.109 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:25.109 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 33(Long), 2027(Integer)
2026-01-30 15:57:25.113 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:25.113 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2027 AND deleted = 0

2026-01-30 15:57:25.113 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:25.113 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 33(Long), 2027(Integer)
2026-01-30 15:57:25.119 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:25.120 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:25.120 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":494,"userId":32,"year":2027,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"renzhipeng","realName":"ä»»å¿—é¹","employeeNumber":"CBJ-092","entryDate":"2022-03-30","records":[{"id":880,"userId":32,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":495,"userId":33,"year":2027,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangningbo","realName":"å¼ å®åš","employeeNumber":"CBJ-104","entryDate":"2022-06-21","records":[{"id":881,"userId":33,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":4,"pages":4}}
2026-01-30 15:57:26.714 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2027&current=1&size=10
2026-01-30 15:57:26.724 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:57:26.724 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:57:26.729 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:57:26.729 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:57:26.731 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2027&current=1&size=10
2026-01-30 15:57:26.732 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:57:26.732 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:57:26.732 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2027, 1, 10]
2026-01-30 15:57:26.733 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:57:26.734 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:57:26.737 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:57:26.738 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:57:26.738 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-30 15:57:26.738 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-30 15:57:26.743 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-30 15:57:26.743 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:57:26.743 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.743 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 15:57:26.749 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.749 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 15:57:26.749 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.749 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.755 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.755 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.756 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.756 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2027(Integer)
2026-01-30 15:57:26.759 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.760 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.760 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.760 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2027(Integer)
2026-01-30 15:57:26.764 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.764 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.764 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.764 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-30 15:57:26.773 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.773 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-30 15:57:26.773 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.773 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.777 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.777 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.778 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.778 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2027(Integer)
2026-01-30 15:57:26.783 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.783 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.783 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.783 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2027(Integer)
2026-01-30 15:57:26.788 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.788 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.788 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.788 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-30 15:57:26.793 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.793 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-30 15:57:26.793 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.793 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.797 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.797 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.797 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.797 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2027(Integer)
2026-01-30 15:57:26.801 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.801 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.802 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.802 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2027(Integer)
2026-01-30 15:57:26.807 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.807 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.807 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.807 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-30 15:57:26.811 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.811 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-30 15:57:26.811 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.811 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.816 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.816 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.816 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.816 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2027(Integer)
2026-01-30 15:57:26.821 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.821 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.822 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.822 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2027(Integer)
2026-01-30 15:57:26.829 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.829 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.829 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.829 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-30 15:57:26.841 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.841 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-30 15:57:26.841 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.841 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.846 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.846 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.847 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.847 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2027(Integer)
2026-01-30 15:57:26.851 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.851 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.852 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.852 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2027(Integer)
2026-01-30 15:57:26.856 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.856 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.856 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.856 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-30 15:57:26.861 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.861 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-30 15:57:26.861 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.861 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.866 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.866 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.866 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.866 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2027(Integer)
2026-01-30 15:57:26.875 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.875 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.876 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.876 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2027(Integer)
2026-01-30 15:57:26.879 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.880 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.880 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.880 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-30 15:57:26.885 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.885 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-30 15:57:26.885 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.885 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.891 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.891 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.892 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.892 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2027(Integer)
2026-01-30 15:57:26.897 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.897 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.897 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.897 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2027(Integer)
2026-01-30 15:57:26.902 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.902 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.902 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.902 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-30 15:57:26.906 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.907 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-30 15:57:26.907 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.907 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.912 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.912 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.912 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.912 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2027(Integer)
2026-01-30 15:57:26.917 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.917 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.917 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.917 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2027(Integer)
2026-01-30 15:57:26.922 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.923 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.923 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.923 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-30 15:57:26.929 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.929 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-30 15:57:26.929 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.929 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.933 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.933 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.934 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.934 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2027(Integer)
2026-01-30 15:57:26.939 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.939 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.939 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.939 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2027(Integer)
2026-01-30 15:57:26.944 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.944 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.944 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:57:26.944 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-30 15:57:26.949 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:57:26.949 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-30 15:57:26.949 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:57:26.950 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:57:26.955 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:57:26.955 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:57:26.955 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:57:26.955 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2027(Integer)
2026-01-30 15:57:26.965 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:57:26.965 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2027 AND deleted = 0

2026-01-30 15:57:26.965 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:57:26.965 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2027(Integer)
2026-01-30 15:57:26.970 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:57:26.970 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:57:26.971 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":464,"userId":1,"year":2027,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"ç³»ç»Ÿç®¡ç†å‘˜","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":850,"userId":1,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":465,"userId":2,"year":2027,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"wangjianping","realName":"çŽ‹å»ºå¹³","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":851,"userId":2,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":466,"userId":3,"year":2027,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":-1.5,"currentYearUsed":0,"deleted":null,"totalBalance":-1.5,"username":"wenyongguo","realName":"æ¸©æ°¸å›½","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":852,"userId":3,"startDate":"2027-01-01","endDate":"2027-01-01","days":-1.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":467,"userId":4,"year":2027,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"xujunyi","realName":"å¾å›æ¯…","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":853,"userId":4,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":468,"userId":5,"year":2027,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":2.0,"username":"zhanghao","realName":"å¼ æµ©","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":854,"userId":5,"startDate":"2027-01-01","endDate":"2027-01-01","days":2.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":469,"userId":6,"year":2027,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"zhangjianxin","realName":"å¼ å»ºæ–°","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[{"id":855,"userId":6,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":470,"userId":7,"year":2027,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yuanwei","realName":"è¢ä¼Ÿ","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":856,"userId":7,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":471,"userId":8,"year":2027,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"yangpanqiang","realName":"æ¨ç›¼å¼º","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[{"id":857,"userId":8,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":472,"userId":9,"year":2027,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":-1.5,"currentYearUsed":0,"deleted":null,"totalBalance":-1.5,"username":"xinghaibo","realName":"é‚¢æµ·åš","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":858,"userId":9,"startDate":"2027-01-01","endDate":"2027-01-01","days":-1.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":473,"userId":10,"year":2027,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"jiayulong","realName":"è´¾çŽ‰é¾™","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":859,"userId":10,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:10","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":1,"pages":4}}
2026-01-30 15:58:05.633 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2027&current=2&size=10
2026-01-30 15:58:05.643 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:58:05.644 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:58:05.649 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:58:05.650 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:58:05.651 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2027&current=2&size=10
2026-01-30 15:58:05.653 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:58:05.653 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:58:05.653 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2027, 2, 10]
2026-01-30 15:58:05.655 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:58:05.655 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:58:05.659 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:58:05.659 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:58:05.659 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?,?
2026-01-30 15:58:05.659 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long), 10(Long)
2026-01-30 15:58:05.666 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-30 15:58:05.667 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:58:05.667 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.667 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 11(Long)
2026-01-30 15:58:05.671 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.671 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 11 AND deleted = 0

2026-01-30 15:58:05.671 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.671 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.675 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.675 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.676 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.676 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 11(Long), 2027(Integer)
2026-01-30 15:58:05.681 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.681 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 11 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.681 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.681 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 11(Long), 2027(Integer)
2026-01-30 15:58:05.687 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.687 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 11 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.687 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.687 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 13(Long)
2026-01-30 15:58:05.692 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.692 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 13 AND deleted = 0

2026-01-30 15:58:05.692 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.692 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.696 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.696 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.696 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.696 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 13(Long), 2027(Integer)
2026-01-30 15:58:05.700 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.700 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 13 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.700 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.700 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 13(Long), 2027(Integer)
2026-01-30 15:58:05.704 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.704 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 13 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.704 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.704 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 14(Long)
2026-01-30 15:58:05.709 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.709 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 14 AND deleted = 0

2026-01-30 15:58:05.709 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.709 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.713 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.713 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.713 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.713 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 14(Long), 2027(Integer)
2026-01-30 15:58:05.717 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.717 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 14 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.717 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.717 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 14(Long), 2027(Integer)
2026-01-30 15:58:05.722 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.722 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 14 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.722 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.722 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 15(Long)
2026-01-30 15:58:05.726 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.726 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 15 AND deleted = 0

2026-01-30 15:58:05.726 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.726 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.732 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.732 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.732 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.732 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 15(Long), 2027(Integer)
2026-01-30 15:58:05.736 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.736 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 15 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.736 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.736 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 15(Long), 2027(Integer)
2026-01-30 15:58:05.741 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.741 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 15 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.741 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.741 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 16(Long)
2026-01-30 15:58:05.746 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.746 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 16 AND deleted = 0

2026-01-30 15:58:05.746 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.746 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.752 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.752 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.752 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.752 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 16(Long), 2027(Integer)
2026-01-30 15:58:05.757 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.757 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 16 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.757 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.757 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 16(Long), 2027(Integer)
2026-01-30 15:58:05.762 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.762 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 16 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.762 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.762 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 17(Long)
2026-01-30 15:58:05.767 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.767 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 17 AND deleted = 0

2026-01-30 15:58:05.767 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.767 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.772 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.772 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.772 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.772 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 17(Long), 2027(Integer)
2026-01-30 15:58:05.776 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.776 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 17 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.776 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.776 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 17(Long), 2027(Integer)
2026-01-30 15:58:05.780 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.780 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 17 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.780 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.780 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 18(Long)
2026-01-30 15:58:05.786 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.786 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 18 AND deleted = 0

2026-01-30 15:58:05.786 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.786 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.790 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.790 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.790 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.790 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 18(Long), 2027(Integer)
2026-01-30 15:58:05.794 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.794 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 18 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.794 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.794 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 18(Long), 2027(Integer)
2026-01-30 15:58:05.798 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.798 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 18 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.798 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.798 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 19(Long)
2026-01-30 15:58:05.803 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.803 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 19 AND deleted = 0

2026-01-30 15:58:05.803 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.803 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.807 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.807 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.807 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.807 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 19(Long), 2027(Integer)
2026-01-30 15:58:05.812 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.812 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 19 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.812 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.812 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 19(Long), 2027(Integer)
2026-01-30 15:58:05.815 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.816 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 19 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.816 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.816 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 20(Long)
2026-01-30 15:58:05.820 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.820 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 20 AND deleted = 0

2026-01-30 15:58:05.820 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.820 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.824 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.824 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.824 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.825 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 20(Long), 2027(Integer)
2026-01-30 15:58:05.829 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.829 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 20 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.829 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.829 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 20(Long), 2027(Integer)
2026-01-30 15:58:05.837 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.837 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 20 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.837 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:05.837 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 21(Long)
2026-01-30 15:58:05.841 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:05.841 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 21 AND deleted = 0

2026-01-30 15:58:05.841 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:05.841 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:05.849 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:05.849 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:05.849 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:05.849 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 21(Long), 2027(Integer)
2026-01-30 15:58:05.853 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:05.853 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 21 AND year = 2027 AND deleted = 0

2026-01-30 15:58:05.854 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:05.854 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 21(Long), 2027(Integer)
2026-01-30 15:58:05.857 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:05.857 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 21 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:05.858 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":474,"userId":11,"year":2027,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"weihongyan","realName":"é­çº¢è‰³","employeeNumber":"CBJ-016","entryDate":"2020-10-16","records":[{"id":860,"userId":11,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":475,"userId":13,"year":2027,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"linying","realName":"æž—é¢–","employeeNumber":"CBJ-021","entryDate":"2020-11-24","records":[{"id":861,"userId":13,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":476,"userId":14,"year":2027,"socialSeniority":16,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"renxiang","realName":"ä»»ç¿”","employeeNumber":"CBJ-022","entryDate":"2020-12-07","records":[{"id":862,"userId":14,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":477,"userId":15,"year":2027,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"yanglinlin","realName":"æ¨ç³ç³","employeeNumber":"CBJ-024","entryDate":"2021-01-04","records":[{"id":863,"userId":15,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":478,"userId":16,"year":2027,"socialSeniority":14,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"liyanhong","realName":"æŽè‰³çº¢","employeeNumber":"CBJ-026","entryDate":"2021-01-13","records":[{"id":864,"userId":16,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":479,"userId":17,"year":2027,"socialSeniority":11,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"zhangxuesong","realName":"å¼ é›ªæ¾","employeeNumber":"CBJ-029","entryDate":"2021-03-03","records":[{"id":865,"userId":17,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":480,"userId":18,"year":2027,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"cuixiaohuan","realName":"å´”æ™“æ¬¢","employeeNumber":"CBJ-030","entryDate":"2021-03-09","records":[{"id":866,"userId":18,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":481,"userId":19,"year":2027,"socialSeniority":11,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"wudaming","realName":"å´å¤§æ˜Ž","employeeNumber":"CBJ-032","entryDate":"2021-03-09","records":[{"id":867,"userId":19,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":482,"userId":20,"year":2027,"socialSeniority":11,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.5,"currentYearUsed":0,"deleted":null,"totalBalance":0.5,"username":"wangjianmin","realName":"çŽ‹å»ºæ°‘","employeeNumber":"CBJ-033","entryDate":"2021-03-10","records":[{"id":868,"userId":20,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.5,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":483,"userId":21,"year":2027,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"tianfufa","realName":"ç”°ç¦å‘","employeeNumber":"CBJ-035","entryDate":"2021-03-15","records":[{"id":869,"userId":21,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":2,"pages":4}}
2026-01-30 15:58:06.173 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2027&current=4&size=10
2026-01-30 15:58:06.174 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 15:58:06.174 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 15:58:06.183 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 15:58:06.183 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 15:58:06.184 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2027&current=4&size=10
2026-01-30 15:58:06.185 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 15:58:06.185 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 15:58:06.185 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2027, 4, 10]
2026-01-30 15:58:06.185 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 15:58:06.185 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 15:58:06.189 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 15:58:06.189 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:58:06.189 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?,?
2026-01-30 15:58:06.189 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 30(Long), 10(Long)
2026-01-30 15:58:06.195 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 2
2026-01-30 15:58:06.195 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 15:58:06.195 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:06.195 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 32(Long)
2026-01-30 15:58:06.201 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:06.201 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 32 AND deleted = 0

2026-01-30 15:58:06.201 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:06.201 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:06.205 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:06.205 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:06.205 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:06.205 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 32(Long), 2027(Integer)
2026-01-30 15:58:06.209 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:06.209 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 32 AND year = 2027 AND deleted = 0

2026-01-30 15:58:06.209 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:06.209 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 32(Long), 2027(Integer)
2026-01-30 15:58:06.214 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:06.214 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:06.214 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 15:58:06.214 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-30 15:58:06.219 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 15:58:06.219 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-30 15:58:06.219 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 15:58:06.219 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 15:58:06.223 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 15:58:06.223 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 15:58:06.223 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 15:58:06.223 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 33(Long), 2027(Integer)
2026-01-30 15:58:06.228 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 15:58:06.228 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2027 AND deleted = 0

2026-01-30 15:58:06.228 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 15:58:06.228 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 33(Long), 2027(Integer)
2026-01-30 15:58:06.232 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 15:58:06.232 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2027 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 15:58:06.233 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":494,"userId":32,"year":2027,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"renzhipeng","realName":"ä»»å¿—é¹","employeeNumber":"CBJ-092","entryDate":"2022-03-30","records":[{"id":880,"userId":32,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"},{"id":495,"userId":33,"year":2027,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangningbo","realName":"å¼ å®åš","employeeNumber":"CBJ-104","entryDate":"2022-06-21","records":[{"id":881,"userId":33,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"ä¸Šå¹´ç»“ä½™å¹´å‡ç»“è½¬ (è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-30T15:56:11","deleted":0}],"lastSyncTime":"2026-01-30 11:36:02"}],"total":32,"size":10,"current":4,"pages":4}}
2026-01-30 16:04:37.604 INFO  com.leave.system.LeaveSystemApplication - Starting LeaveSystemApplication using Java 17.0.6 with PID 89002 (/Users/cccc/IdeaProjects/leave-management/backend/target/classes started by cccc in /Users/cccc/IdeaProjects/leave-management)
2026-01-30 16:04:37.605 DEBUG com.leave.system.LeaveSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-30 16:04:37.605 INFO  com.leave.system.LeaveSystemApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-30 16:04:38.353 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 7899 (http)
2026-01-30 16:04:38.357 INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-7899"]
2026-01-30 16:04:38.358 INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-30 16:04:38.358 INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-30 16:04:38.377 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-30 16:04:38.377 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 750 ms
2026-01-30 16:04:38.454 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.leave.system.config.SqlLogInterceptor@76437e9b'
2026-01-30 16:04:38.454 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@15986dd5'
2026-01-30 16:04:38.522 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveAccountMapper.xml]'
2026-01-30 16:04:38.542 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveRecordMapper.xml]'
2026-01-30 16:04:38.555 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/RoleMenuMapper.xml]'
2026-01-30 16:04:38.572 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysJobMapper.xml]'
2026-01-30 16:04:38.590 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysMenuMapper.xml]'
2026-01-30 16:04:38.601 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysRoleMapper.xml]'
2026-01-30 16:04:38.617 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysUserMapper.xml]'
2026-01-30 16:04:38.626 DEBUG com.baomidou.mybatisplus.core.toolkit.Sequence - Initialization Sequence datacenterId:0 workerId:1
2026-01-30 16:04:38.641 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-30 16:04:38.764 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59a09be
2026-01-30 16:04:38.765 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-30 16:04:38.825 DEBUG com.leave.system.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-30 16:04:39.000 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initializing scheduled tasks...
2026-01-30 16:04:39.010 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==>  Preparing: SELECT * FROM sys_job WHERE status = 0
2026-01-30 16:04:39.020 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==> Parameters: 
2026-01-30 16:04:39.037 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - <==      Total: 1
2026-01-30 16:04:39.038 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectActiveJobs
SQL         : SELECT * FROM sys_job WHERE status = 0

2026-01-30 16:04:39.041 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: é’‰é’‰æ•°æ®åŒæ­¥ with cron: 0 00 02 ? * MON
2026-01-30 16:04:39.041 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initialized 1 scheduled tasks.
2026-01-30 16:04:39.141 INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2026-01-30 16:04:39.261 INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a80c534, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fd5689d, org.springframework.security.web.context.SecurityContextHolderFilter@31533eb1, org.springframework.security.web.header.HeaderWriterFilter@533e2f4, org.springframework.web.filter.CorsFilter@36e3321e, org.springframework.security.web.authentication.logout.LogoutFilter@1ef93e01, com.leave.system.security.JwtAuthenticationFilter@12fccff0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8cb7185, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4dac40b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@218f2f51, org.springframework.security.web.session.SessionManagementFilter@e5c5e6, org.springframework.security.web.access.ExceptionTranslationFilter@4ac19bc6, org.springframework.security.web.access.intercept.AuthorizationFilter@48ee3c2d]
2026-01-30 16:04:39.435 INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-7899"]
2026-01-30 16:04:39.452 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 7899 (http) with context path ''
2026-01-30 16:04:39.461 INFO  com.leave.system.LeaveSystemApplication - Started LeaveSystemApplication in 2.206 seconds (process running for 2.514)
2026-01-30 16:04:39.462 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL start create  ...  
2026-01-30 16:04:39.462 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL end create  ...  
2026-01-30 16:04:44.452 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-30 16:04:44.452 INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-30 16:04:44.456 INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-01-30 16:04:44.463 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-30 16:04:44.463 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-30 16:04:44.463 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-30 16:04:44.519 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:04:44.519 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:04:44.519 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:04:44.520 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:04:44.520 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:04:44.520 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:04:44.548 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:04:44.548 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:04:44.548 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:04:44.549 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:04:44.549 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:04:44.549 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:04:44.556 WARN  o.s.web.servlet.handler.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/leave/available-years' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-30 16:04:44.566 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-30 16:04:44.566 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-30 16:04:44.566 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-30 16:04:44.581 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/available-years
2026-01-30 16:04:44.582 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-30 16:04:44.582 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 16:04:44.583 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-30 16:04:44.583 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-30 16:04:44.583 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/system/menu/user-menus
2026-01-30 16:04:44.583 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-30 16:04:44.583 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 16:04:44.583 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-30 16:04:44.583 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 16:04:44.583 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-30 16:04:44.583 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-30 16:04:44.583 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.584 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 16:04:44.590 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.591 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 16:04:44.591 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 1
2026-01-30 16:04:44.591 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-30 16:04:44.591 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-30 16:04:44.591 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-30 16:04:44.608 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[2026]}
2026-01-30 16:04:44.611 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 16:04:44.611 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 16:04:44.613 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-30 16:04:44.614 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-30 16:04:44.620 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 16:04:44.620 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 16:04:44.622 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-30 16:04:44.623 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-30 16:04:44.623 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-30 16:04:44.623 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-30 16:04:44.631 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-30 16:04:44.631 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-30 16:04:44.631 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 16:04:44.632 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-30 16:04:44.632 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.632 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 16:04:44.634 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[{"id":1,"parentId":0,"menuName":"é¦–é¡µ","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"ä¼‘å‡ç®¡ç†","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"æˆ‘çš„ä¼‘å‡","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"ä¼‘å‡ç®¡ç†(ç®¡ç†å‘˜)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"ç³»ç»Ÿç®¡ç†","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"ç”¨æˆ·ç®¡ç†","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"è§’è‰²ç®¡ç†","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"èœå•ç®¡ç†","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"ç³»ç»Ÿç›‘æŽ§","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"å®šæ—¶ä»»åŠ¡","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-30 16:04:44.640 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.640 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 16:04:44.641 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.641 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.646 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.646 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.647 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.647 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 16:04:44.652 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.653 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.653 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 1 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.653 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.654 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 16:04:44.660 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:44.660 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.662 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.662 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-30 16:04:44.669 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.669 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-30 16:04:44.670 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.670 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.676 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.677 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.677 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.678 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 16:04:44.684 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.684 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.684 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 2 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.684 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.685 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 16:04:44.690 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 16:04:44.690 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.690 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.690 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-30 16:04:44.700 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.700 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-30 16:04:44.700 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.700 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.709 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.710 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.710 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.710 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 16:04:44.715 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.715 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.715 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 3 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.715 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.716 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 16:04:44.731 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:44.732 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.733 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.733 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-30 16:04:44.739 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.739 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-30 16:04:44.739 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.739 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.744 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.744 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.745 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.746 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 16:04:44.755 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.756 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.756 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 4 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.756 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.756 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 16:04:44.762 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 16:04:44.762 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.762 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.762 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-30 16:04:44.767 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.767 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-30 16:04:44.768 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.768 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.774 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.774 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.775 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.775 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 16:04:44.780 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.781 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.781 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 5 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.781 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.781 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 16:04:44.785 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:44.785 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.786 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.786 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-30 16:04:44.796 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.797 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-30 16:04:44.798 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.798 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.803 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.804 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.804 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.805 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 16:04:44.812 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.812 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.812 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 6 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.813 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.813 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 16:04:44.820 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-30 16:04:44.820 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.820 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.820 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-30 16:04:44.831 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.831 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-30 16:04:44.832 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.832 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.836 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.836 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.836 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.836 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 16:04:44.845 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.845 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.845 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 7 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.845 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.845 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 16:04:44.850 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:44.850 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.850 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.850 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-30 16:04:44.855 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.855 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-30 16:04:44.855 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.855 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.860 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.860 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.861 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.861 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 16:04:44.867 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.868 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.868 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 8 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.868 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.869 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 16:04:44.883 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:44.884 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.884 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.884 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-30 16:04:44.889 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.890 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-30 16:04:44.890 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.890 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.899 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.899 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.900 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.900 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 16:04:44.909 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.909 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.909 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 9 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.909 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.910 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 16:04:44.915 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:44.916 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.916 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:44.917 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-30 16:04:44.923 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:44.923 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-30 16:04:44.924 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:44.924 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:44.934 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:44.934 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:44.935 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:44.935 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 16:04:44.946 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:44.946 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2026 AND deleted = 0

2026-01-30 16:04:44.946 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 10 year 2026 based on today 2026-01-30
2026-01-30 16:04:44.947 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:44.947 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 16:04:44.954 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 16:04:44.954 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:44.971 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":142,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"ç³»ç»Ÿç®¡ç†å‘˜","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":135,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":141,"userId":2,"year":2026,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":1.0,"deleted":null,"totalBalance":9.5,"username":"wangjianping","realName":"çŽ‹å»ºå¹³","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":210,"userId":2,"startDate":"2026-01-09","endDate":"2026-01-09","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":134,"userId":2,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":143,"userId":3,"year":2026,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":8.0,"currentYearUsed":0,"deleted":null,"totalBalance":8.5,"username":"wenyongguo","realName":"æ¸©æ°¸å›½","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":136,"userId":3,"startDate":"2026-01-01","endDate":"2026-01-01","days":8.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":144,"userId":4,"year":2026,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":8.5,"currentYearUsed":1.0,"deleted":null,"totalBalance":8.0,"username":"xujunyi","realName":"å¾å›æ¯…","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":198,"userId":4,"startDate":"2026-01-04","endDate":"2026-01-04","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":137,"userId":4,"startDate":"2026-01-01","endDate":"2026-01-01","days":8.5,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":145,"userId":5,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"zhanghao","realName":"å¼ æµ©","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":138,"userId":5,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":146,"userId":6,"year":2026,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":1.5,"deleted":null,"totalBalance":9.0,"username":"zhangjianxin","realName":"å¼ å»ºæ–°","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[{"id":204,"userId":6,"startDate":"2026-01-06","endDate":"2026-01-06","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":203,"userId":6,"startDate":"2026-01-05","endDate":"2026-01-05","days":-0.5,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":139,"userId":6,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":147,"userId":7,"year":2026,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":4.0,"currentYearUsed":0,"deleted":null,"totalBalance":4.0,"username":"yuanwei","realName":"è¢ä¼Ÿ","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":140,"userId":7,"startDate":"2026-01-01","endDate":"2026-01-01","days":4.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":148,"userId":8,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.5,"username":"yangpanqiang","realName":"æ¨ç›¼å¼º","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[{"id":141,"userId":8,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":149,"userId":9,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":6.5,"currentYearUsed":0,"deleted":null,"totalBalance":7.0,"username":"xinghaibo","realName":"é‚¢æµ·åš","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":142,"userId":9,"startDate":"2026-01-01","endDate":"2026-01-01","days":6.5,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":150,"userId":10,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":0.0,"currentYearUsed":0.5,"deleted":null,"totalBalance":0.0,"username":"jiayulong","realName":"è´¾çŽ‰é¾™","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":209,"userId":10,"startDate":"2026-01-15","endDate":"2026-01-15","days":-0.5,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":143,"userId":10,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"}],"total":34,"size":10,"current":1,"pages":4}}
2026-01-30 16:04:45.744 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=1&year=2026
2026-01-30 16:04:45.744 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-30 16:04:45.745 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=1&year=2026
2026-01-30 16:04:45.766 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:04:45.766 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:04:45.766 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:04:45.766 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:04:45.766 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:04:45.766 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:04:45.781 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:04:45.781 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:04:45.781 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:04:45.781 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:04:45.781 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:04:45.781 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:04:45.784 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-30 16:04:45.785 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/available-years
2026-01-30 16:04:45.785 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-30 16:04:45.785 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 16:04:45.785 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=1&year=2026
2026-01-30 16:04:45.785 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-30 16:04:45.785 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-30 16:04:45.785 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=1&year=2026
2026-01-30 16:04:45.785 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/account
2026-01-30 16:04:45.785 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-30 16:04:45.785 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-30 16:04:45.786 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:45.786 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/history
2026-01-30 16:04:45.786 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-30 16:04:45.786 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 16:04:45.786 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-30 16:04:45.788 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:45.788 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 16:04:45.791 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 1
2026-01-30 16:04:45.791 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:45.791 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-30 16:04:45.791 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 16:04:45.792 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:45.792 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[2026]}
2026-01-30 16:04:45.792 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:45.794 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 1
2026-01-30 16:04:45.794 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:45.795 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[{"id":135,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}]}
2026-01-30 16:04:45.798 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:45.798 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:45.799 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:45.799 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 16:04:45.804 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:45.804 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-30 16:04:45.804 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 1 year 2026 based on today 2026-01-30
2026-01-30 16:04:45.804 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:45.804 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 16:04:45.810 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:45.810 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:45.810 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"id":142,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"ç³»ç»Ÿç®¡ç†å‘˜","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":135,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"}}
2026-01-30 16:04:46.608 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-30 16:04:46.609 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-30 16:04:46.616 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:04:46.617 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:04:46.617 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:04:46.617 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:04:46.624 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:04:46.625 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:04:46.625 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:04:46.625 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:04:46.627 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-30 16:04:46.627 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/available-years
2026-01-30 16:04:46.627 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-30 16:04:46.627 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 16:04:46.628 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-30 16:04:46.628 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-30 16:04:46.629 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-30 16:04:46.629 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/leave/list
2026-01-30 16:04:46.629 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-30 16:04:46.629 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-30 16:04:46.632 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-30 16:04:46.632 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-30 16:04:46.633 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 1
2026-01-30 16:04:46.633 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-30 16:04:46.633 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[2026]}
2026-01-30 16:04:46.639 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-30 16:04:46.639 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 16:04:46.639 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-30 16:04:46.639 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-30 16:04:46.647 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-30 16:04:46.648 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-30 16:04:46.648 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.649 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 16:04:46.654 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.655 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 16:04:46.655 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.655 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.660 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.660 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.660 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.660 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 16:04:46.665 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.665 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.665 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 1 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.666 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.666 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-30 16:04:46.671 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:46.671 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.671 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.671 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-30 16:04:46.675 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.676 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-30 16:04:46.676 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.676 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.680 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.680 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.680 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.680 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 16:04:46.690 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.690 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.690 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 2 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.690 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.690 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-30 16:04:46.695 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 16:04:46.695 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.695 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.695 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-30 16:04:46.700 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.700 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-30 16:04:46.700 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.700 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.704 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.705 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.705 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.705 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 16:04:46.708 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.708 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.709 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 3 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.709 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.709 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-30 16:04:46.713 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:46.713 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.713 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.713 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-30 16:04:46.718 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.718 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-30 16:04:46.719 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.719 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.722 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.722 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.722 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.722 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 16:04:46.730 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.730 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.730 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 4 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.730 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.730 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-30 16:04:46.734 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 16:04:46.734 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.734 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.734 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-30 16:04:46.738 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.738 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-30 16:04:46.738 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.738 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.743 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.743 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.743 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.743 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 16:04:46.748 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.748 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.748 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 5 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.748 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.748 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-30 16:04:46.752 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:46.752 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.752 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.752 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-30 16:04:46.757 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.757 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-30 16:04:46.757 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.757 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.762 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.762 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.763 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.763 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 16:04:46.767 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.768 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.768 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 6 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.768 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.768 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-30 16:04:46.772 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-30 16:04:46.772 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.772 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.772 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-30 16:04:46.779 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.779 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-30 16:04:46.779 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.779 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.787 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.788 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.788 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.788 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 16:04:46.793 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.793 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.793 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 7 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.793 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.793 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-30 16:04:46.798 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:46.798 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.798 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.798 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-30 16:04:46.803 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.803 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-30 16:04:46.803 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.803 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.807 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.807 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.807 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.807 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 16:04:46.812 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.812 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.812 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 8 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.812 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.812 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-30 16:04:46.820 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:46.820 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.820 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.820 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-30 16:04:46.824 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.824 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-30 16:04:46.825 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.825 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.830 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.830 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.830 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.831 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 16:04:46.836 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.836 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.836 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 9 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.836 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.837 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-30 16:04:46.845 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-30 16:04:46.845 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.845 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:04:46.846 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-30 16:04:46.850 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:04:46.850 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-30 16:04:46.851 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:04:46.851 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:04:46.856 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:04:46.857 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:04:46.857 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-30 16:04:46.857 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 16:04:46.864 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-30 16:04:46.864 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2026 AND deleted = 0

2026-01-30 16:04:46.864 DEBUG com.leave.system.service.impl.LeaveServiceImpl - ðŸ”„ Refreshing account for user 10 year 2026 based on today 2026-01-30
2026-01-30 16:04:46.864 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? AND deleted = 0 ORDER BY start_date DESC
2026-01-30 16:04:46.864 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-30 16:04:46.871 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-30 16:04:46.872 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 AND deleted = 0 ORDER BY start_date DESC

2026-01-30 16:04:46.872 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":{"records":[{"id":142,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"ç³»ç»Ÿç®¡ç†å‘˜","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":135,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":141,"userId":2,"year":2026,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":1.0,"deleted":null,"totalBalance":9.5,"username":"wangjianping","realName":"çŽ‹å»ºå¹³","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":210,"userId":2,"startDate":"2026-01-09","endDate":"2026-01-09","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":134,"userId":2,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":143,"userId":3,"year":2026,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":8.0,"currentYearUsed":0,"deleted":null,"totalBalance":8.5,"username":"wenyongguo","realName":"æ¸©æ°¸å›½","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":136,"userId":3,"startDate":"2026-01-01","endDate":"2026-01-01","days":8.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":144,"userId":4,"year":2026,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":8.5,"currentYearUsed":1.0,"deleted":null,"totalBalance":8.0,"username":"xujunyi","realName":"å¾å›æ¯…","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":198,"userId":4,"startDate":"2026-01-04","endDate":"2026-01-04","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":137,"userId":4,"startDate":"2026-01-01","endDate":"2026-01-01","days":8.5,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":145,"userId":5,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":5.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"zhanghao","realName":"å¼ æµ©","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":138,"userId":5,"startDate":"2026-01-01","endDate":"2026-01-01","days":5.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":146,"userId":6,"year":2026,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":1.5,"deleted":null,"totalBalance":9.0,"username":"zhangjianxin","realName":"å¼ å»ºæ–°","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[{"id":204,"userId":6,"startDate":"2026-01-06","endDate":"2026-01-06","days":-1.0,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":203,"userId":6,"startDate":"2026-01-05","endDate":"2026-01-05","days":-0.5,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªç»“è½¬é¢åº¦, è¿‡æœŸ: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":139,"userId":6,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":147,"userId":7,"year":2026,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":30,"actualQuota":0.0,"lastYearBalance":4.0,"currentYearUsed":0,"deleted":null,"totalBalance":4.0,"username":"yuanwei","realName":"è¢ä¼Ÿ","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":140,"userId":7,"startDate":"2026-01-01","endDate":"2026-01-01","days":4.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":148,"userId":8,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.5,"username":"yangpanqiang","realName":"æ¨ç›¼å¼º","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[{"id":141,"userId":8,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":149,"userId":9,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":6.5,"currentYearUsed":0,"deleted":null,"totalBalance":7.0,"username":"xinghaibo","realName":"é‚¢æµ·åš","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":142,"userId":9,"startDate":"2026-01-01","endDate":"2026-01-01","days":6.5,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"},{"id":150,"userId":10,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":30,"actualQuota":0.5,"lastYearBalance":0.0,"currentYearUsed":0.5,"deleted":null,"totalBalance":0.0,"username":"jiayulong","realName":"è´¾çŽ‰é¾™","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":209,"userId":10,"startDate":"2026-01-15","endDate":"2026-01-15","days":-0.5,"type":"ANNUAL","remarks":"å‘˜å·¥è¯·å‡ (æ¥è‡ªå½“å¹´é¢åº¦, è¿‡æœŸ: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-29T17:16:37","deleted":0},{"id":143,"userId":10,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"2025å¹´å¹´å‡ç»“è½¬ (ç³»ç»ŸåŒæ­¥)","expiryDate":"2026-12-31","createTime":"2026-01-01T00:00:01","deleted":0}],"lastSyncTime":"2026-01-29 11:52:12"}],"total":34,"size":10,"current":1,"pages":4}}
2026-01-30 16:06:01.394 WARN  o.s.scheduling.concurrent.ThreadPoolTaskScheduler - Timed out while waiting for executor 'taskScheduler' to terminate
2026-01-30 16:06:01.402 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-30 16:06:01.417 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-30 16:08:35.411 INFO  com.leave.system.LeaveSystemApplication - Starting LeaveSystemApplication using Java 17.0.6 with PID 89246 (/Users/cccc/IdeaProjects/leave-management/backend/target/classes started by cccc in /Users/cccc/IdeaProjects/leave-management)
2026-01-30 16:08:35.412 DEBUG com.leave.system.LeaveSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-30 16:08:35.413 INFO  com.leave.system.LeaveSystemApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-30 16:08:36.295 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 7899 (http)
2026-01-30 16:08:36.300 INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-7899"]
2026-01-30 16:08:36.301 INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-30 16:08:36.301 INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-30 16:08:36.329 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-30 16:08:36.329 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 867 ms
2026-01-30 16:08:36.428 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.leave.system.config.SqlLogInterceptor@76437e9b'
2026-01-30 16:08:36.429 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@15986dd5'
2026-01-30 16:08:36.496 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveAccountMapper.xml]'
2026-01-30 16:08:36.524 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveRecordMapper.xml]'
2026-01-30 16:08:36.538 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/RoleMenuMapper.xml]'
2026-01-30 16:08:36.557 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysJobMapper.xml]'
2026-01-30 16:08:36.573 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysMenuMapper.xml]'
2026-01-30 16:08:36.587 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysRoleMapper.xml]'
2026-01-30 16:08:36.600 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysUserMapper.xml]'
2026-01-30 16:08:36.606 DEBUG com.baomidou.mybatisplus.core.toolkit.Sequence - Initialization Sequence datacenterId:0 workerId:3
2026-01-30 16:08:36.622 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-30 16:08:36.747 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59a09be
2026-01-30 16:08:36.748 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-30 16:08:36.801 DEBUG com.leave.system.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-30 16:08:37.056 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initializing scheduled tasks...
2026-01-30 16:08:37.066 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==>  Preparing: SELECT * FROM sys_job WHERE status = 0
2026-01-30 16:08:37.079 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==> Parameters: 
2026-01-30 16:08:37.131 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - <==      Total: 1
2026-01-30 16:08:37.132 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectActiveJobs
SQL         : SELECT * FROM sys_job WHERE status = 0

2026-01-30 16:08:37.135 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: é’‰é’‰æ•°æ®åŒæ­¥ with cron: 0 00 02 ? * MON
2026-01-30 16:08:37.135 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initialized 1 scheduled tasks.
2026-01-30 16:08:37.331 INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2026-01-30 16:08:37.473 INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54387873, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a80c534, org.springframework.security.web.context.SecurityContextHolderFilter@2a54c92e, org.springframework.security.web.header.HeaderWriterFilter@492c9892, org.springframework.web.filter.CorsFilter@fd5689d, org.springframework.security.web.authentication.logout.LogoutFilter@5f166f2e, com.leave.system.security.JwtAuthenticationFilter@12fccff0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fb71788, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8cb7185, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36e3321e, org.springframework.security.web.session.SessionManagementFilter@762da62b, org.springframework.security.web.access.ExceptionTranslationFilter@6d9428f3, org.springframework.security.web.access.intercept.AuthorizationFilter@1ff542a3]
2026-01-30 16:08:37.628 INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-7899"]
2026-01-30 16:08:37.637 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 7899 (http) with context path ''
2026-01-30 16:08:37.641 INFO  com.leave.system.LeaveSystemApplication - Started LeaveSystemApplication in 2.666 seconds (process running for 3.048)
2026-01-30 16:08:37.642 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL start create  ...  
2026-01-30 16:08:37.642 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL end create  ...  
2026-01-30 16:08:39.336 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-30 16:08:39.338 INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-30 16:08:39.340 INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-30 16:08:39.350 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-30 16:08:39.350 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /job/list
2026-01-30 16:08:39.399 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:08:39.399 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:08:39.400 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:08:39.403 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:08:39.407 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:08:39.408 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:08:39.410 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:08:39.410 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:08:39.414 WARN  o.s.web.servlet.handler.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/system/menu/user-menus' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-30 16:08:39.420 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /job/list
2026-01-30 16:08:39.420 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-30 16:08:39.428 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/job/list
2026-01-30 16:08:39.428 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.listJobs
2026-01-30 16:08:39.428 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 16:08:39.429 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:08:39.429 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:08:39.432 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/system/menu/user-menus
2026-01-30 16:08:39.432 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-30 16:08:39.432 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-30 16:08:39.432 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-30 16:08:39.433 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:08:39.433 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 16:08:39.434 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:08:39.435 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:08:39.440 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:08:39.440 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 16:08:39.441 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-30 16:08:39.441 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-30 16:08:39.449 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-30 16:08:39.449 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-30 16:08:39.456 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[{"id":1,"jobName":"é’‰é’‰æ•°æ®åŒæ­¥","jobGroup":"DEFAULT","invokeTarget":"dingTalkService.syncLeaveData()","cronExpression":"0 00 02 ? * MON","status":0,"remark":"æ¯å‘¨ä¸€ä¸Šåˆ10ç‚¹è‡ªåŠ¨ä»Žé’‰é’‰åŒæ­¥å¹´å‡æ•°æ®ã€‚ä»Žé’‰é’‰è€ƒå‹¤ç³»ç»Ÿæ‹‰å–è¯·å‡è®°å½•å¹¶æ›´æ–°åˆ°æœ¬åœ°æ•°æ®åº“ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-29T18:54:00","lastRunTime":"2026-01-29T11:52:12","deleted":0},{"id":2,"jobName":"å¹´å‡è¿‡æœŸæ¸…ç†","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.cleanupExpiredLeaveBalances(2026)","cronExpression":"0 00 11 * * ?","status":1,"remark":"æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-23T10:56:06","lastRunTime":null,"deleted":0},{"id":3,"jobName":"å¹´å‡è´¦æˆ·æ‰¹é‡åˆå§‹åŒ–","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.initAllAccounts()","cronExpression":"0 02 11 * * ?","status":1,"remark":"æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨3ç‚¹æ‰¹é‡åˆå§‹åŒ–æ‰€æœ‰å‘˜å·¥çš„æ–°å¹´åº¦è´¦æˆ·ï¼ˆå«ç»“è½¬è®¡ç®—ï¼‰ã€‚æ³¨æ„ï¼šéœ€æ‰‹åŠ¨æ›´æ–°å¹´ä»½å‚æ•°ï¼é»˜è®¤æš‚åœçŠ¶æ€ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-29T07:39:30","lastRunTime":null,"deleted":0}]}
2026-01-30 16:08:39.458 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-30 16:08:39.459 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-30 16:08:39.466 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-30 16:08:39.467 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-30 16:08:39.469 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[{"id":1,"parentId":0,"menuName":"é¦–é¡µ","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"ä¼‘å‡ç®¡ç†","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"æˆ‘çš„ä¼‘å‡","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"ä¼‘å‡ç®¡ç†(ç®¡ç†å‘˜)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"ç³»ç»Ÿç®¡ç†","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"ç”¨æˆ·ç®¡ç†","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"è§’è‰²ç®¡ç†","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"èœå•ç®¡ç†","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"ç³»ç»Ÿç›‘æŽ§","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"å®šæ—¶ä»»åŠ¡","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-30 16:09:14.821 INFO  com.leave.system.LeaveSystemApplication - Starting LeaveSystemApplication using Java 17.0.6 with PID 89301 (/Users/cccc/IdeaProjects/leave-management/backend/target/classes started by cccc in /Users/cccc/IdeaProjects/leave-management)
2026-01-30 16:09:14.822 DEBUG com.leave.system.LeaveSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-30 16:09:14.825 INFO  com.leave.system.LeaveSystemApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-30 16:09:15.424 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 7899 (http)
2026-01-30 16:09:15.429 INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-7899"]
2026-01-30 16:09:15.429 INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-30 16:09:15.429 INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-30 16:09:15.449 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-30 16:09:15.449 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 603 ms
2026-01-30 16:09:15.518 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.leave.system.config.SqlLogInterceptor@76437e9b'
2026-01-30 16:09:15.518 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@15986dd5'
2026-01-30 16:09:15.572 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveAccountMapper.xml]'
2026-01-30 16:09:15.586 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveRecordMapper.xml]'
2026-01-30 16:09:15.594 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/RoleMenuMapper.xml]'
2026-01-30 16:09:15.607 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysJobMapper.xml]'
2026-01-30 16:09:15.615 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysMenuMapper.xml]'
2026-01-30 16:09:15.622 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysRoleMapper.xml]'
2026-01-30 16:09:15.632 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysUserMapper.xml]'
2026-01-30 16:09:15.640 DEBUG com.baomidou.mybatisplus.core.toolkit.Sequence - Initialization Sequence datacenterId:0 workerId:3
2026-01-30 16:09:15.655 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-30 16:09:15.821 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59a09be
2026-01-30 16:09:15.822 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-30 16:09:15.874 DEBUG com.leave.system.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-30 16:09:16.026 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initializing scheduled tasks...
2026-01-30 16:09:16.034 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==>  Preparing: SELECT * FROM sys_job WHERE status = 0
2026-01-30 16:09:16.043 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==> Parameters: 
2026-01-30 16:09:16.058 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - <==      Total: 3
2026-01-30 16:09:16.058 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectActiveJobs
SQL         : SELECT * FROM sys_job WHERE status = 0

2026-01-30 16:09:16.061 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: é’‰é’‰æ•°æ®åŒæ­¥ with cron: 0 00 02 ? * MON
2026-01-30 16:09:16.061 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: å¹´å‡è¿‡æœŸæ¸…ç† with cron: 0 0 1 1 1 ?
2026-01-30 16:09:16.062 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: å¹´å‡è´¦æˆ·æ‰¹é‡åˆå§‹åŒ– with cron: 0 0 2 1 1 ?
2026-01-30 16:09:16.062 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initialized 3 scheduled tasks.
2026-01-30 16:09:16.165 INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2026-01-30 16:09:16.278 INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@fd5689d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36e3321e, org.springframework.security.web.context.SecurityContextHolderFilter@1fb71788, org.springframework.security.web.header.HeaderWriterFilter@436a563f, org.springframework.web.filter.CorsFilter@218f2f51, org.springframework.security.web.authentication.logout.LogoutFilter@4fafd27e, com.leave.system.security.JwtAuthenticationFilter@12fccff0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4dac40b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c54c497, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d9af731, org.springframework.security.web.session.SessionManagementFilter@76dc36e5, org.springframework.security.web.access.ExceptionTranslationFilter@2a075e70, org.springframework.security.web.access.intercept.AuthorizationFilter@54387873]
2026-01-30 16:09:16.434 INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-7899"]
2026-01-30 16:09:16.442 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 7899 (http) with context path ''
2026-01-30 16:09:16.447 INFO  com.leave.system.LeaveSystemApplication - Started LeaveSystemApplication in 1.894 seconds (process running for 2.196)
2026-01-30 16:09:16.448 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL start create  ...  
2026-01-30 16:09:16.448 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL end create  ...  
2026-01-30 16:09:18.420 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-30 16:09:18.420 INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-30 16:09:18.421 INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-30 16:09:18.424 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /job/list
2026-01-30 16:09:18.424 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-30 16:09:18.458 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:09:18.459 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:09:18.462 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-30 16:09:18.462 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-30 16:09:18.467 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:09:18.467 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:09:18.468 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-30 16:09:18.469 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-30 16:09:18.471 WARN  o.s.web.servlet.handler.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/job/list' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-30 16:09:18.476 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-30 16:09:18.476 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /job/list
2026-01-30 16:09:18.482 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/job/list
2026-01-30 16:09:18.483 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.listJobs
2026-01-30 16:09:18.483 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-30 16:09:18.483 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-30 16:09:18.484 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-30 16:09:18.485 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://localhost:7899/system/menu/user-menus
2026-01-30 16:09:18.485 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-30 16:09:18.485 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-30 16:09:18.485 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-30 16:09:18.485 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-30 16:09:18.485 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-30 16:09:18.491 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-30 16:09:18.491 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-30 16:09:18.493 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-30 16:09:18.493 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-30 16:09:18.493 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-30 16:09:18.493 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-30 16:09:18.498 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-30 16:09:18.499 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-30 16:09:18.505 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-30 16:09:18.505 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-30 16:09:18.505 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[{"id":1,"jobName":"é’‰é’‰æ•°æ®åŒæ­¥","jobGroup":"DEFAULT","invokeTarget":"dingTalkService.syncLeaveData()","cronExpression":"0 00 02 ? * MON","status":0,"remark":"æ¯å‘¨ä¸€ä¸Šåˆ10ç‚¹è‡ªåŠ¨ä»Žé’‰é’‰åŒæ­¥å¹´å‡æ•°æ®ã€‚ä»Žé’‰é’‰è€ƒå‹¤ç³»ç»Ÿæ‹‰å–è¯·å‡è®°å½•å¹¶æ›´æ–°åˆ°æœ¬åœ°æ•°æ®åº“ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-29T18:54:00","lastRunTime":"2026-01-30T11:36:02","deleted":0},{"id":2,"jobName":"å¹´å‡è¿‡æœŸæ¸…ç†","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.cleanupExpiredLeaveBalances(2026)","cronExpression":"0 0 1 1 1 ?","status":0,"remark":"æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨1ç‚¹è‡ªåŠ¨æ¸…ç†å·²è¿‡æœŸçš„å¹´å‡ä½™é¢ï¼ˆä¸Šå¹´ç»“è½¬é¢åº¦ï¼‰ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-30T15:56:06","lastRunTime":"2026-01-30T15:56:12","deleted":0},{"id":3,"jobName":"å¹´å‡è´¦æˆ·æ‰¹é‡åˆå§‹åŒ–","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.initAllAccounts(2027)","cronExpression":"0 0 2 1 1 ?","status":0,"remark":"æ¯å¹´1æœˆ1æ—¥å‡Œæ™¨2ç‚¹æ‰¹é‡åˆå§‹åŒ–æ‰€æœ‰å‘˜å·¥çš„æ–°å¹´åº¦è´¦æˆ·ï¼ˆå«ç»“è½¬è®¡ç®—ï¼‰ã€‚æ³¨æ„ï¼šéœ€æ‰‹åŠ¨æ›´æ–°å¹´ä»½å‚æ•°ï¼é»˜è®¤æš‚åœçŠ¶æ€ã€‚","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-30T15:49:15","lastRunTime":"2026-01-30T15:40:25","deleted":0}]}
2026-01-30 16:09:18.511 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-30 16:09:18.511 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-30 16:09:18.512 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"æ“ä½œæˆåŠŸ","data":[{"id":1,"parentId":0,"menuName":"é¦–é¡µ","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"ä¼‘å‡ç®¡ç†","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"æˆ‘çš„ä¼‘å‡","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"ä¼‘å‡ç®¡ç†(ç®¡ç†å‘˜)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"ç³»ç»Ÿç®¡ç†","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"ç”¨æˆ·ç®¡ç†","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"è§’è‰²ç®¡ç†","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"èœå•ç®¡ç†","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"ç³»ç»Ÿç›‘æŽ§","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"å®šæ—¶ä»»åŠ¡","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
