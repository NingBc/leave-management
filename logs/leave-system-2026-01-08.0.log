2026-01-06 16:13:47.203 [main] INFO  com.leave.system.LeaveSystemApplication - Starting LeaveSystemApplication using Java 17.0.6 with PID 22728 (/Users/cccc/IdeaProjects/leave-management/backend/target/classes started by cccc in /Users/cccc/IdeaProjects/leave-management)
2026-01-06 16:13:47.203 [main] DEBUG com.leave.system.LeaveSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-06 16:13:47.204 [main] INFO  com.leave.system.LeaveSystemApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-06 16:13:47.774 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-06 16:13:47.778 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-06 16:13:47.778 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-06 16:13:47.779 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-06 16:13:47.799 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-06 16:13:47.799 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 579 ms
2026-01-06 16:13:47.866 [main] DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.leave.system.config.SqlLogInterceptor@10177794'
2026-01-06 16:13:47.866 [main] DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@798deee8'
2026-01-06 16:13:47.866 [main] DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Property 'mapperLocations' was not specified.
2026-01-06 16:13:47.881 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-06 16:13:48.001 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bf4764d
2026-01-06 16:13:48.002 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-06 16:13:48.119 [main] DEBUG com.leave.system.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-06 16:13:48.250 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Initializing scheduled tasks...
2026-01-06 16:13:48.286 [main] INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectList
SQL         : SELECT id,job_name,job_group,invoke_target,cron_expression,status,remark,create_time,update_time,deleted FROM sys_job WHERE deleted=0 AND (status = 0)
Time Taken  : 16 ms

2026-01-06 16:13:48.289 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 钉钉数据同步 with cron: 0 00 10 ? * MON
2026-01-06 16:13:48.289 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假过期清理 with cron: 0 0 3 1 1 ?
2026-01-06 16:13:48.289 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假账户批量初始化 with cron: 0 0 1 1 1 ?
2026-01-06 16:13:48.289 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Initialized 3 scheduled tasks.
2026-01-06 16:13:48.515 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4272d8cf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e96cb04, org.springframework.security.web.context.SecurityContextHolderFilter@4f676900, org.springframework.security.web.header.HeaderWriterFilter@5f20b6fe, org.springframework.web.filter.CorsFilter@70ecf57b, org.springframework.security.web.authentication.logout.LogoutFilter@48ee3c2d, com.leave.system.security.JwtAuthenticationFilter@afee63, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5eb2972f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29699283, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e5364a3, org.springframework.security.web.session.SessionManagementFilter@58ec8271, org.springframework.security.web.access.ExceptionTranslationFilter@3caa4d85, org.springframework.security.web.access.intercept.AuthorizationFilter@4ede035e]
2026-01-06 16:13:48.652 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-06 16:13:48.660 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-06 16:13:48.664 [main] INFO  com.leave.system.LeaveSystemApplication - Started LeaveSystemApplication in 1.744 seconds (process running for 1.965)
2026-01-06 16:13:48.665 [main] DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL start create  ...  
2026-01-06 16:13:48.665 [main] DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL end create  ...  
2026-01-06 16:14:21.659 [main] INFO  com.leave.system.LeaveSystemApplication - Starting LeaveSystemApplication using Java 17.0.6 with PID 22759 (/Users/cccc/IdeaProjects/leave-management/backend/target/classes started by cccc in /Users/cccc/IdeaProjects/leave-management)
2026-01-06 16:14:21.659 [main] DEBUG com.leave.system.LeaveSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-06 16:14:21.660 [main] INFO  com.leave.system.LeaveSystemApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-06 16:14:22.188 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-06 16:14:22.191 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-06 16:14:22.192 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-06 16:14:22.192 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-06 16:14:22.208 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-06 16:14:22.208 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 532 ms
2026-01-06 16:14:22.266 [main] DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.leave.system.config.SqlLogInterceptor@10177794'
2026-01-06 16:14:22.267 [main] DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@798deee8'
2026-01-06 16:14:22.267 [main] DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Property 'mapperLocations' was not specified.
2026-01-06 16:14:22.279 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-06 16:14:22.395 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@433ef204
2026-01-06 16:14:22.396 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-06 16:14:22.505 [main] DEBUG com.leave.system.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-06 16:14:22.622 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Initializing scheduled tasks...
2026-01-06 16:14:22.659 [main] INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectList
SQL         : SELECT id,job_name,job_group,invoke_target,cron_expression,status,remark,create_time,update_time,deleted FROM sys_job WHERE deleted=0 AND (status = 0)
Time Taken  : 18 ms

2026-01-06 16:14:22.661 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 钉钉数据同步 with cron: 0 00 10 ? * MON
2026-01-06 16:14:22.661 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假过期清理 with cron: 0 0 3 1 1 ?
2026-01-06 16:14:22.662 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假账户批量初始化 with cron: 0 0 1 1 1 ?
2026-01-06 16:14:22.662 [main] INFO  com.leave.system.service.impl.SysJobServiceImpl - Initialized 3 scheduled tasks.
2026-01-06 16:14:22.892 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20184ade, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35fb3209, org.springframework.security.web.context.SecurityContextHolderFilter@578b2dec, org.springframework.security.web.header.HeaderWriterFilter@6ec3a4c2, org.springframework.web.filter.CorsFilter@5855b0ed, org.springframework.security.web.authentication.logout.LogoutFilter@c190cfc, com.leave.system.security.JwtAuthenticationFilter@4eeb14e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39f4a7c4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@111fe921, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92fd091, org.springframework.security.web.session.SessionManagementFilter@4fafd27e, org.springframework.security.web.access.ExceptionTranslationFilter@a6dffdb, org.springframework.security.web.access.intercept.AuthorizationFilter@347b370c]
2026-01-06 16:14:23.028 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-06 16:14:23.036 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-06 16:14:23.040 [main] INFO  com.leave.system.LeaveSystemApplication - Started LeaveSystemApplication in 1.578 seconds (process running for 1.8)
2026-01-06 16:14:23.041 [main] DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL start create  ...  
2026-01-06 16:14:23.041 [main] DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL end create  ...  
2026-01-08 11:15:06.124 INFO  com.leave.system.LeaveSystemApplication - Starting LeaveSystemApplication using Java 17.0.6 with PID 12255 (/Users/cccc/IdeaProjects/leave-management/backend/target/classes started by cccc in /Users/cccc/IdeaProjects/leave-management)
2026-01-08 11:15:06.127 DEBUG com.leave.system.LeaveSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-08 11:15:06.128 INFO  com.leave.system.LeaveSystemApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-08 11:15:06.672 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-08 11:15:06.675 INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-08 11:15:06.675 INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-08 11:15:06.676 INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-08 11:15:06.692 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-08 11:15:06.692 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 547 ms
2026-01-08 11:15:06.760 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.leave.system.config.SqlLogInterceptor@db99785'
2026-01-08 11:15:06.761 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@e5c2463'
2026-01-08 11:15:06.820 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveAccountMapper.xml]'
2026-01-08 11:15:06.836 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveRecordMapper.xml]'
2026-01-08 11:15:06.843 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/RoleMenuMapper.xml]'
2026-01-08 11:15:06.852 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysJobMapper.xml]'
2026-01-08 11:15:06.860 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysMenuMapper.xml]'
2026-01-08 11:15:06.871 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysRoleMapper.xml]'
2026-01-08 11:15:06.879 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysUserMapper.xml]'
2026-01-08 11:15:06.884 DEBUG com.baomidou.mybatisplus.core.toolkit.Sequence - Initialization Sequence datacenterId:0 workerId:1
2026-01-08 11:15:06.894 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-08 11:15:07.047 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@22ae905f
2026-01-08 11:15:07.048 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-08 11:15:07.100 DEBUG com.leave.system.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-08 11:15:07.229 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initializing scheduled tasks...
2026-01-08 11:15:07.236 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==>  Preparing: SELECT * FROM sys_job WHERE status = 0
2026-01-08 11:15:07.246 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==> Parameters: 
2026-01-08 11:15:07.263 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - <==      Total: 2
2026-01-08 11:15:07.263 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectActiveJobs
SQL         : SELECT * FROM sys_job WHERE status = 0

2026-01-08 11:15:07.266 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假过期清理 with cron: 0 0 3 1 1 ?
2026-01-08 11:15:07.266 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 钉钉数据同步 with cron: 0 0 10 ? * MON
2026-01-08 11:15:07.266 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initialized 2 scheduled tasks.
2026-01-08 11:15:07.356 INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2026-01-08 11:15:07.453 INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@459d2ee6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5342eec5, org.springframework.security.web.context.SecurityContextHolderFilter@114b203, org.springframework.security.web.header.HeaderWriterFilter@839755f, org.springframework.web.filter.CorsFilter@60e47aab, org.springframework.security.web.authentication.logout.LogoutFilter@1b19712f, com.leave.system.security.JwtAuthenticationFilter@77ccded4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@537b3be1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15d58530, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@261a66b8, org.springframework.security.web.session.SessionManagementFilter@6b7c4734, org.springframework.security.web.access.ExceptionTranslationFilter@164dea80, org.springframework.security.web.access.intercept.AuthorizationFilter@588d630d]
2026-01-08 11:15:07.588 INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-08 11:15:07.598 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-08 11:15:07.602 INFO  com.leave.system.LeaveSystemApplication - Started LeaveSystemApplication in 1.691 seconds (process running for 1.885)
2026-01-08 11:15:07.603 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL start create  ...  
2026-01-08 11:15:07.603 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL end create  ...  
2026-01-08 11:15:30.477 INFO  com.leave.system.LeaveSystemApplication - Starting LeaveSystemApplication using Java 17.0.6 with PID 12296 (/Users/cccc/IdeaProjects/leave-management/backend/target/classes started by cccc in /Users/cccc/IdeaProjects/leave-management)
2026-01-08 11:15:30.478 DEBUG com.leave.system.LeaveSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-08 11:15:30.479 INFO  com.leave.system.LeaveSystemApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-08 11:15:31.031 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-08 11:15:31.034 INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-08 11:15:31.034 INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-08 11:15:31.035 INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-08 11:15:31.052 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-08 11:15:31.052 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 553 ms
2026-01-08 11:15:31.114 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.leave.system.config.SqlLogInterceptor@db99785'
2026-01-08 11:15:31.114 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@e5c2463'
2026-01-08 11:15:31.167 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveAccountMapper.xml]'
2026-01-08 11:15:31.181 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/LeaveRecordMapper.xml]'
2026-01-08 11:15:31.188 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/RoleMenuMapper.xml]'
2026-01-08 11:15:31.196 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysJobMapper.xml]'
2026-01-08 11:15:31.207 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysMenuMapper.xml]'
2026-01-08 11:15:31.214 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysRoleMapper.xml]'
2026-01-08 11:15:31.223 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'file [/Users/cccc/IdeaProjects/leave-management/backend/target/classes/mapper/SysUserMapper.xml]'
2026-01-08 11:15:31.230 DEBUG com.baomidou.mybatisplus.core.toolkit.Sequence - Initialization Sequence datacenterId:0 workerId:30
2026-01-08 11:15:31.239 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-08 11:15:31.355 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@22ae905f
2026-01-08 11:15:31.356 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-08 11:15:31.406 DEBUG com.leave.system.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-08 11:15:31.532 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initializing scheduled tasks...
2026-01-08 11:15:31.539 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==>  Preparing: SELECT * FROM sys_job WHERE status = 0
2026-01-08 11:15:31.548 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==> Parameters: 
2026-01-08 11:15:31.562 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - <==      Total: 3
2026-01-08 11:15:31.562 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectActiveJobs
SQL         : SELECT * FROM sys_job WHERE status = 0

2026-01-08 11:15:31.564 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 钉钉数据同步 with cron: 0 0 10 ? * MON
2026-01-08 11:15:31.565 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假过期清理 with cron: 0 0 1 1 1 ?
2026-01-08 11:15:31.565 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假账户批量初始化 with cron: 0 0 3 1 1 ?
2026-01-08 11:15:31.565 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initialized 3 scheduled tasks.
2026-01-08 11:15:31.650 INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2026-01-08 11:15:31.746 INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d9428f3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ac19bc6, org.springframework.security.web.context.SecurityContextHolderFilter@714c74eb, org.springframework.security.web.header.HeaderWriterFilter@30a01dd8, org.springframework.web.filter.CorsFilter@2a075e70, org.springframework.security.web.authentication.logout.LogoutFilter@2dc3ece8, com.leave.system.security.JwtAuthenticationFilter@77ccded4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f0cab82, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fcc3745, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@492c9892, org.springframework.security.web.session.SessionManagementFilter@6dc9a56e, org.springframework.security.web.access.ExceptionTranslationFilter@3ca278bc, org.springframework.security.web.access.intercept.AuthorizationFilter@72f24a84]
2026-01-08 11:15:31.876 INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-08 11:15:31.884 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-08 11:15:31.888 INFO  com.leave.system.LeaveSystemApplication - Started LeaveSystemApplication in 1.611 seconds (process running for 1.792)
2026-01-08 11:15:31.888 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL start create  ...  
2026-01-08 11:15:31.888 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL end create  ...  
2026-01-08 11:15:40.225 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-08 11:15:40.225 INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-08 11:15:40.227 INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-08 11:15:40.232 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 11:15:40.237 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:40.238 WARN  o.s.web.servlet.handler.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-08 11:15:40.240 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 11:15:40.254 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:15:40.255 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:15:40.314 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:15:40.314 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:15:40.320 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:40.320 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:40.321 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:15:40.321 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:15:40.546 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-BYV5VKJr.js
2026-01-08 11:15:40.546 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-DaUiO-Ug.css
2026-01-08 11:15:40.546 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:40.546 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:40.547 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-BYV5VKJr.js
2026-01-08 11:15:40.547 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-DaUiO-Ug.css
2026-01-08 11:15:40.600 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /job/list
2026-01-08 11:15:40.600 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 11:15:40.610 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /favicon.svg
2026-01-08 11:15:40.611 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:40.613 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /favicon.svg
2026-01-08 11:15:40.658 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:40.658 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:40.659 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:40.659 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:40.665 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:40.666 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:40.666 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:40.666 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:40.669 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /job/list
2026-01-08 11:15:40.669 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 11:15:40.676 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/job/list
2026-01-08 11:15:40.677 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.listJobs
2026-01-08 11:15:40.677 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:15:40.678 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-08 11:15:40.678 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-08 11:15:40.679 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/user-menus
2026-01-08 11:15:40.679 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:15:40.679 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:15:40.679 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 11:15:40.679 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:40.679 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:15:40.683 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-08 11:15:40.683 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-08 11:15:40.685 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:40.685 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:15:40.685 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:15:40.685 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 11:15:40.691 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 11:15:40.691 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 11:15:40.699 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:15:40.699 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 11:15:40.700 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"jobName":"钉钉数据同步","jobGroup":"DEFAULT","invokeTarget":"dingTalkService.syncLeaveData()","cronExpression":"0 0 10 ? * MON","status":0,"remark":"每周一上午10点自动从钉钉同步年假数据。从钉钉考勤系统拉取请假记录并更新到本地数据库。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T06:54:03","deleted":0},{"id":2,"jobName":"年假过期清理","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.cleanupExpiredLeaveBalances(2026)","cronExpression":"0 0 1 1 1 ?","status":0,"remark":"每年1月1日凌晨3点自动清理已过期的年假余额（上年结转额度）。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-08T11:01:11","deleted":0},{"id":3,"jobName":"年假账户批量初始化","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.initAllAccounts(2027)","cronExpression":"0 0 3 1 1 ?","status":0,"remark":"每年1月1日凌晨1点批量初始化所有员工的新年度账户（含结转计算）。注意：需手动更新年份参数！默认暂停状态。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-08T11:01:39","deleted":0}]}
2026-01-08 11:15:40.705 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 11:15:40.705 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 11:15:40.706 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:15:42.946 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/User-0cp9PUTM.css
2026-01-08 11:15:42.946 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/User-Bk5K4W7h.js
2026-01-08 11:15:42.947 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:42.947 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:42.949 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/User-0cp9PUTM.css
2026-01-08 11:15:42.949 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/User-Bk5K4W7h.js
2026-01-08 11:15:42.986 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/list?current=1&size=10
2026-01-08 11:15:42.986 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:15:43.001 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:43.001 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:43.002 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:43.002 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:43.011 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:43.011 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:43.011 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:43.011 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:43.017 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/list?current=1&size=10
2026-01-08 11:15:43.017 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:15:43.018 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:15:43.018 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:15:43.018 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:15:43.018 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/list
2026-01-08 11:15:43.018 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.list
2026-01-08 11:15:43.018 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 10]
2026-01-08 11:15:43.018 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:15:43.019 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:15:43.032 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:15:43.032 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:15:43.035 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:15:43.056 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE deleted = 0
2026-01-08 11:15:43.056 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:43.061 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:43.062 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:15:43.064 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:15:43.064 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:15:43.070 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - <==      Total: 10
2026-01-08 11:15:43.070 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:15:43.073 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":1,"username":"admin","password":"$2b$12$sDUO0pQ/tZBzMgNQWqVhwujpMkIWLuV97C/Gmb2Fi7GqoWQcXqXlu","realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0},{"id":2,"username":"wangjianping","password":"$2a$10$QIkV.nGgFbWWA8LELUsLo.EAdu6GesyOzL9XdcPZMPCIyLrbAax1m","realName":"王建平","employeeNumber":"CBJ-001","firstWorkDate":"2005-09-01","entryDate":"2020-02-10","socialSeniority":20,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:51","updateTime":"2026-01-08T10:29:44","deleted":0},{"id":3,"username":"wenyongguo","password":"$2a$10$7Ispf3lpXTq.fxNvTfh8Ke87f9zhzJN6y/F2OExEyuHsDJ0ADGT3i","realName":"温永国","employeeNumber":"CBJ-003","firstWorkDate":"2007-11-01","entryDate":"2020-03-01","socialSeniority":18,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:51","updateTime":"2026-01-07T08:29:54","deleted":0},{"id":4,"username":"xujunyi","password":"$2a$10$mh1R4XStbJO9sfBY5IWMDO3g7gs0zgPwj7m6BQRYq1yQ9rv1Bc54G","realName":"徐君毅","employeeNumber":"CBJ-005","firstWorkDate":"2008-07-01","entryDate":"2020-03-16","socialSeniority":17,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:51","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":5,"username":"zhanghao","password":"$2a$10$iIk3pepY3MC/wtpgzIN3fOi2TcOyGycu4l8Iu8fM5rroLnyf1ApCW","realName":"张浩","employeeNumber":"CBJ-007","firstWorkDate":"2017-08-01","entryDate":"2020-04-01","socialSeniority":8,"roleId":2,"dingtalkUserId":"2865622217540402722","status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":6,"username":"zhangjianxin","password":"$2a$10$dRXzkFkhUqsL1uPD3Y/Z5uaiOgOBZf/xk6fzg1qGWbjehzTKpI7n2","realName":"张建新","employeeNumber":"CBJ-009","firstWorkDate":"2015-10-07","entryDate":"2020-04-13","socialSeniority":10,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":7,"username":"yuanwei","password":"$2a$10$BMexDNGXBusOgGTTm1w5V.JAED5Ry67W4p9yAfcN7vDQlXnm2r2kq","realName":"袁伟","employeeNumber":"CBJ-010","firstWorkDate":"2016-06-01","entryDate":"2020-04-27","socialSeniority":9,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":8,"username":"yangpanqiang","password":"$2a$10$NteJjtUu2SFtA91aeib.UOLwaLdCjPaAU6rOpqQqf.Ct.DyD0Ar3.","realName":"杨盼强","employeeNumber":"CBJ-011","firstWorkDate":"2010-10-08","entryDate":"2020-04-27","socialSeniority":15,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":9,"username":"xinghaibo","password":"$2a$10$TfeDAdZgf4/Gz4Zeha8OCOjuppc9F3TK8mC37RzWb0FKwIKk5RBUe","realName":"邢海博","employeeNumber":"CBJ-012","firstWorkDate":"2010-07-01","entryDate":"2020-06-22","socialSeniority":15,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":10,"username":"jiayulong","password":"$2a$10$NSbxnsoV2prCdPdv3pEFZ.90nQJE8Z4nhVALBDfRbfKJsXD2KTYmW","realName":"贾玉龙","employeeNumber":"CBJ-014","firstWorkDate":"2010-09-01","entryDate":"2020-08-24","socialSeniority":15,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0}],"total":35,"size":10,"current":1,"pages":4}}
2026-01-08 11:15:44.007 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Role-EKHOA0Mi.css
2026-01-08 11:15:44.007 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Role-BkldY2pb.js
2026-01-08 11:15:44.007 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:44.007 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:44.008 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Role-EKHOA0Mi.css
2026-01-08 11:15:44.008 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Role-BkldY2pb.js
2026-01-08 11:15:44.035 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:15:44.035 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:15:44.052 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:44.052 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:44.052 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:44.052 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:44.060 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:44.060 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:44.060 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:44.060 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:44.084 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:15:44.086 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:15:44.086 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:15:44.086 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:15:44.086 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:15:44.087 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:15:44.087 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:15:44.087 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:15:44.087 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:15:44.087 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:15:44.088 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:15:44.088 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:15:44.095 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:15:44.096 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:15:44.096 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:15:44.096 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:15:44.096 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:15:44.097 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:15:44.528 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Menu-Bwl73dr4.js
2026-01-08 11:15:44.528 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Menu-C6gTQSrN.css
2026-01-08 11:15:44.529 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:44.529 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:44.529 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Menu-Bwl73dr4.js
2026-01-08 11:15:44.529 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Menu-C6gTQSrN.css
2026-01-08 11:15:44.550 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:15:44.554 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:44.554 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:44.560 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:44.561 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:44.566 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:15:44.566 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:15:44.566 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:15:44.566 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:15:44.567 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:15:44.567 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:15:44.574 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:15:44.574 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:15:44.575 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:15:45.939 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/MyLeave-CabasMHM.js
2026-01-08 11:15:45.939 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/MyLeave---36RhSz.css
2026-01-08 11:15:45.940 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:45.940 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:45.941 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/MyLeave-CabasMHM.js
2026-01-08 11:15:45.941 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/MyLeave---36RhSz.css
2026-01-08 11:15:45.977 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=1&year=2026
2026-01-08 11:15:45.977 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:15:45.977 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=1&year=2026
2026-01-08 11:15:45.990 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:45.990 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:45.990 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:45.990 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:45.990 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:45.990 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:45.997 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:45.997 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:45.997 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:45.997 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:45.997 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:45.997 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:46.002 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:15:46.002 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=1&year=2026
2026-01-08 11:15:46.002 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=1&year=2026
2026-01-08 11:15:46.003 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/available-years
2026-01-08 11:15:46.004 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:15:46.004 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:15:46.004 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/account
2026-01-08 11:15:46.004 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/history
2026-01-08 11:15:46.004 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-08 11:15:46.004 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:15:46.004 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-08 11:15:46.004 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-08 11:15:46.006 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:46.006 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:15:46.006 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:15:46.006 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:15:46.012 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:46.013 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-08 11:15:46.013 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:46.013 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:15:46.013 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:15:46.013 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:15:46.014 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2027,2026,2025]}
2026-01-08 11:15:46.014 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:46.014 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:15:46.019 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:46.019 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 2
2026-01-08 11:15:46.019 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:15:46.019 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:46.019 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:15:46.020 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:46.020 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:15:46.026 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":314,"userId":1,"startDate":"2026-12-31","endDate":"2026-12-31","days":-3.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":279,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":3.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]}
2026-01-08 11:15:46.027 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:46.028 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:46.031 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":256,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":3.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":314,"userId":1,"startDate":"2026-12-31","endDate":"2026-12-31","days":-3.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":279,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":3.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]}}
2026-01-08 11:15:46.911 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/ManageLeave-kf3F_Qhm.js
2026-01-08 11:15:46.911 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/ManageLeave-C1SFdn-P.css
2026-01-08 11:15:46.912 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:46.912 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:15:46.913 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/ManageLeave-kf3F_Qhm.js
2026-01-08 11:15:46.913 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/ManageLeave-C1SFdn-P.css
2026-01-08 11:15:46.934 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:15:46.934 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:15:46.941 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:46.941 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:46.942 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:46.942 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:46.948 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:46.948 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:46.948 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:46.948 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:46.951 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:15:46.951 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:15:46.952 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/available-years
2026-01-08 11:15:46.952 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:15:46.952 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:15:46.952 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:15:46.952 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:15:46.952 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:15:46.952 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-08 11:15:46.952 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:15:46.959 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:15:46.960 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:46.961 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-08 11:15:46.961 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:15:46.962 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2027,2026,2025]}
2026-01-08 11:15:46.966 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:46.966 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:46.966 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:15:46.967 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:15:46.972 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-08 11:15:46.972 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:46.973 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:46.973 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:15:46.979 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:46.980 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:15:46.980 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:46.981 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:15:46.986 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:46.987 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:15:46.987 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:15:46.987 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:46.987 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:15:46.993 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:46.993 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:46.993 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:46.994 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-08 11:15:46.998 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:46.998 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-08 11:15:46.998 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:46.999 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-08 11:15:47.003 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.003 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.004 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 2 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.004 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.004 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-08 11:15:47.011 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:47.012 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.012 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:47.012 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-08 11:15:47.017 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:47.017 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-08 11:15:47.018 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:47.018 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-08 11:15:47.023 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.023 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.023 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 3 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.023 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.024 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-08 11:15:47.029 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:47.029 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.029 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:47.030 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-08 11:15:47.035 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:47.035 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-08 11:15:47.035 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:47.036 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-08 11:15:47.040 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.040 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.040 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 4 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.040 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.041 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-08 11:15:47.049 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:47.049 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.049 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:47.050 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-08 11:15:47.054 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:47.054 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-08 11:15:47.054 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:47.055 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-08 11:15:47.059 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.059 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.059 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 5 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.060 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.060 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-08 11:15:47.065 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:47.065 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.066 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:47.066 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-08 11:15:47.070 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:47.071 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-08 11:15:47.071 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:47.071 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-08 11:15:47.077 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.077 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.078 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 6 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.078 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.078 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-08 11:15:47.084 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:47.085 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.085 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:47.085 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-08 11:15:47.090 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:47.090 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-08 11:15:47.090 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:47.091 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-08 11:15:47.102 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.102 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.102 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 7 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.103 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.103 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-08 11:15:47.109 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:47.109 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.110 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:47.110 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-08 11:15:47.115 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:47.115 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-08 11:15:47.115 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:47.115 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-08 11:15:47.120 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.120 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.121 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 8 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.121 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.121 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-08 11:15:47.130 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:47.130 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.131 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:47.131 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-08 11:15:47.136 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:47.136 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-08 11:15:47.137 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:47.137 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-08 11:15:47.143 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.143 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.143 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 9 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.144 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.144 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-08 11:15:47.151 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:47.151 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.152 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:47.152 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-08 11:15:47.160 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:47.160 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-08 11:15:47.160 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:47.161 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-08 11:15:47.168 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:47.168 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2026 AND deleted = 0

2026-01-08 11:15:47.168 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 10 year 2026 based on today 2026-01-08
2026-01-08 11:15:47.168 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:47.169 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-08 11:15:47.174 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-08 11:15:47.175 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:47.178 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":256,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":3.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":314,"userId":1,"startDate":"2026-12-31","endDate":"2026-12-31","days":-3.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":279,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":3.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":257,"userId":2,"year":2026,"socialSeniority":20,"standardQuota":15.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"wangjianping","realName":"王建平","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":315,"userId":2,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":280,"userId":2,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":258,"userId":3,"year":2026,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"wenyongguo","realName":"温永国","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":316,"userId":3,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":281,"userId":3,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":259,"userId":4,"year":2026,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"xujunyi","realName":"徐君毅","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":317,"userId":4,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":282,"userId":4,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":260,"userId":5,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhanghao","realName":"张浩","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":318,"userId":5,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":283,"userId":5,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":261,"userId":6,"year":2026,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangjianxin","realName":"张建新","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[]},{"id":262,"userId":7,"year":2026,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yuanwei","realName":"袁伟","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":284,"userId":7,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":263,"userId":8,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yangpanqiang","realName":"杨盼强","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[]},{"id":264,"userId":9,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":12.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"xinghaibo","realName":"邢海博","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":319,"userId":9,"startDate":"2026-12-31","endDate":"2026-12-31","days":-12.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":285,"userId":9,"startDate":"2026-01-01","endDate":"2026-01-01","days":12.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":265,"userId":10,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":-2.0,"currentYearUsed":3.0,"deleted":null,"totalBalance":1.0,"username":"jiayulong","realName":"贾玉龙","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":313,"userId":10,"startDate":"2026-01-08","endDate":"2026-01-08","days":6.0,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2027-12-31","createTime":"2026-01-08T11:00:52","deleted":0},{"id":312,"userId":10,"startDate":"2026-01-08","endDate":"2026-01-08","days":-3.0,"type":"ANNUAL","remarks":" (额度透支)","expiryDate":null,"createTime":"2026-01-08T11:00:39","deleted":0},{"id":286,"userId":10,"startDate":"2026-01-01","endDate":"2026-01-01","days":-2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:04","deleted":0}]}],"total":35,"size":10,"current":1,"pages":4}}
2026-01-08 11:15:49.918 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2027&current=1&size=10
2026-01-08 11:15:49.926 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:49.927 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:49.933 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:49.934 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:49.938 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2027&current=1&size=10
2026-01-08 11:15:49.939 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:15:49.939 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:15:49.939 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2027, 1, 10]
2026-01-08 11:15:49.942 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:15:49.943 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:49.948 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:49.948 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:49.948 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:15:49.949 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:15:49.958 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-08 11:15:49.959 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:49.959 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:49.959 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:15:49.968 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:49.968 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:15:49.969 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:49.969 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2027(Integer)
2026-01-08 11:15:49.975 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:49.976 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2027 AND deleted = 0

2026-01-08 11:15:49.976 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:49.977 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2027(Integer)
2026-01-08 11:15:49.984 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:49.984 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:49.984 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:49.985 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-08 11:15:49.992 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:49.993 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-08 11:15:49.993 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:49.994 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2027(Integer)
2026-01-08 11:15:49.999 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:49.999 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.000 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.000 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2027(Integer)
2026-01-08 11:15:50.007 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.007 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.008 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:50.008 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-08 11:15:50.013 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:50.013 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-08 11:15:50.014 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:50.014 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2027(Integer)
2026-01-08 11:15:50.019 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:50.019 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.020 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.020 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2027(Integer)
2026-01-08 11:15:50.025 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.026 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.027 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:50.027 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-08 11:15:50.036 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:50.036 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-08 11:15:50.036 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:50.037 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2027(Integer)
2026-01-08 11:15:50.042 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:50.042 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.043 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.044 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2027(Integer)
2026-01-08 11:15:50.049 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.049 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.049 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:50.050 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-08 11:15:50.057 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:50.057 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-08 11:15:50.059 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:50.061 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2027(Integer)
2026-01-08 11:15:50.070 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:50.071 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.071 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.072 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2027(Integer)
2026-01-08 11:15:50.078 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.078 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.079 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:50.079 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-08 11:15:50.085 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:50.085 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-08 11:15:50.087 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:50.087 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2027(Integer)
2026-01-08 11:15:50.094 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:50.094 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.094 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.095 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2027(Integer)
2026-01-08 11:15:50.100 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.101 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.101 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:50.102 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-08 11:15:50.107 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:50.107 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-08 11:15:50.108 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:50.109 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2027(Integer)
2026-01-08 11:15:50.114 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:50.114 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.115 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.115 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2027(Integer)
2026-01-08 11:15:50.120 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.120 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.120 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:50.121 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-08 11:15:50.128 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:50.128 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-08 11:15:50.128 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:50.128 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2027(Integer)
2026-01-08 11:15:50.141 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:50.142 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.143 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.143 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2027(Integer)
2026-01-08 11:15:50.152 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.153 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.154 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:50.154 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-08 11:15:50.159 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:50.159 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-08 11:15:50.160 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:50.160 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2027(Integer)
2026-01-08 11:15:50.165 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:50.165 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.165 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.165 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2027(Integer)
2026-01-08 11:15:50.170 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.170 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.170 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:50.170 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-08 11:15:50.175 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:50.175 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-08 11:15:50.175 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:50.175 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2027(Integer)
2026-01-08 11:15:50.180 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:50.180 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2027 AND deleted = 0

2026-01-08 11:15:50.181 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:50.181 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2027(Integer)
2026-01-08 11:15:50.186 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:50.187 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:15:50.187 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":291,"userId":1,"year":2027,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":345,"userId":1,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":292,"userId":2,"year":2027,"socialSeniority":20,"standardQuota":15.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"wangjianping","realName":"王建平","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":346,"userId":2,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":293,"userId":3,"year":2027,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"wenyongguo","realName":"温永国","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":347,"userId":3,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":294,"userId":4,"year":2027,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"xujunyi","realName":"徐君毅","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":348,"userId":4,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":295,"userId":5,"year":2027,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhanghao","realName":"张浩","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":349,"userId":5,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":296,"userId":6,"year":2027,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangjianxin","realName":"张建新","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[{"id":350,"userId":6,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":297,"userId":7,"year":2027,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yuanwei","realName":"袁伟","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":351,"userId":7,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":298,"userId":8,"year":2027,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yangpanqiang","realName":"杨盼强","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[{"id":352,"userId":8,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":299,"userId":9,"year":2027,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"xinghaibo","realName":"邢海博","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":353,"userId":9,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]},{"id":300,"userId":10,"year":2027,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":0,"actualQuota":0.0,"lastYearBalance":1.0,"currentYearUsed":0,"deleted":null,"totalBalance":1.0,"username":"jiayulong","realName":"贾玉龙","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":354,"userId":10,"startDate":"2027-01-01","endDate":"2027-01-01","days":1.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:41","deleted":0}]}],"total":35,"size":10,"current":1,"pages":4}}
2026-01-08 11:15:51.093 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:15:51.102 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:51.103 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:51.110 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:51.110 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:51.116 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:15:51.118 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:15:51.118 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:15:51.118 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-08 11:15:51.124 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:15:51.125 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:51.132 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:51.132 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:51.132 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:15:51.132 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:15:51.137 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-08 11:15:51.137 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:51.137 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.138 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:15:51.142 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.143 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:15:51.143 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.143 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:15:51.149 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.149 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.150 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.150 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.150 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:15:51.154 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:51.155 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.155 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.155 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-08 11:15:51.164 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.164 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-08 11:15:51.165 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.165 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-08 11:15:51.170 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.170 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.170 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 2 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.170 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.170 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-08 11:15:51.175 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:51.175 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.175 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.175 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-08 11:15:51.180 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.180 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-08 11:15:51.180 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.180 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-08 11:15:51.185 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.185 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.185 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 3 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.185 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.186 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-08 11:15:51.190 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:51.190 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.191 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.191 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-08 11:15:51.195 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.195 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-08 11:15:51.195 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.195 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-08 11:15:51.199 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.200 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.200 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 4 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.200 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.201 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-08 11:15:51.205 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:51.205 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.206 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.206 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-08 11:15:51.211 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.211 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-08 11:15:51.211 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.212 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-08 11:15:51.216 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.216 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.216 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 5 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.216 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.216 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-08 11:15:51.221 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:51.221 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.222 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.222 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-08 11:15:51.226 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.227 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-08 11:15:51.227 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.227 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-08 11:15:51.232 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.232 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.232 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 6 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.232 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.233 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-08 11:15:51.237 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:51.237 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.237 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.238 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-08 11:15:51.242 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.242 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-08 11:15:51.242 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.243 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-08 11:15:51.249 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.249 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.250 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 7 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.250 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.250 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-08 11:15:51.255 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:51.255 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.255 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.256 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-08 11:15:51.262 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.262 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-08 11:15:51.262 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.263 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-08 11:15:51.270 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.270 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.271 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 8 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.271 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.271 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-08 11:15:51.279 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:51.280 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.280 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.280 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-08 11:15:51.287 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.287 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-08 11:15:51.287 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.288 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-08 11:15:51.294 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.294 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.294 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 9 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.295 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.295 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-08 11:15:51.302 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:51.302 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.303 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:51.303 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-08 11:15:51.309 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:51.309 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-08 11:15:51.310 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:51.310 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-08 11:15:51.315 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:51.316 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2026 AND deleted = 0

2026-01-08 11:15:51.316 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 10 year 2026 based on today 2026-01-08
2026-01-08 11:15:51.316 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:51.316 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-08 11:15:51.322 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-08 11:15:51.322 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:15:51.323 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":256,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":3.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":314,"userId":1,"startDate":"2026-12-31","endDate":"2026-12-31","days":-3.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":279,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":3.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":257,"userId":2,"year":2026,"socialSeniority":20,"standardQuota":15.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"wangjianping","realName":"王建平","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":315,"userId":2,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":280,"userId":2,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":258,"userId":3,"year":2026,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"wenyongguo","realName":"温永国","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":316,"userId":3,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":281,"userId":3,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":259,"userId":4,"year":2026,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"xujunyi","realName":"徐君毅","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":317,"userId":4,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":282,"userId":4,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":260,"userId":5,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhanghao","realName":"张浩","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":318,"userId":5,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":283,"userId":5,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":261,"userId":6,"year":2026,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangjianxin","realName":"张建新","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[]},{"id":262,"userId":7,"year":2026,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yuanwei","realName":"袁伟","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":284,"userId":7,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":263,"userId":8,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yangpanqiang","realName":"杨盼强","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[]},{"id":264,"userId":9,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":12.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"xinghaibo","realName":"邢海博","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":319,"userId":9,"startDate":"2026-12-31","endDate":"2026-12-31","days":-12.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":285,"userId":9,"startDate":"2026-01-01","endDate":"2026-01-01","days":12.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":265,"userId":10,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":-2.0,"currentYearUsed":3.0,"deleted":null,"totalBalance":1.0,"username":"jiayulong","realName":"贾玉龙","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":313,"userId":10,"startDate":"2026-01-08","endDate":"2026-01-08","days":6.0,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2027-12-31","createTime":"2026-01-08T11:00:52","deleted":0},{"id":312,"userId":10,"startDate":"2026-01-08","endDate":"2026-01-08","days":-3.0,"type":"ANNUAL","remarks":" (额度透支)","expiryDate":null,"createTime":"2026-01-08T11:00:39","deleted":0},{"id":286,"userId":10,"startDate":"2026-01-01","endDate":"2026-01-01","days":-2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:04","deleted":0}]}],"total":35,"size":10,"current":1,"pages":4}}
2026-01-08 11:15:52.265 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2025&current=1&size=10
2026-01-08 11:15:52.277 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:52.277 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:52.284 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:52.285 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:52.288 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2025&current=1&size=10
2026-01-08 11:15:52.289 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:15:52.289 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:15:52.289 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2025, 1, 10]
2026-01-08 11:15:52.291 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:15:52.291 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:52.297 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:52.297 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:52.297 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:15:52.297 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:15:52.302 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-08 11:15:52.303 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:52.303 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.303 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:15:52.308 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.308 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:15:52.308 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.309 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2025(Integer)
2026-01-08 11:15:52.314 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:52.314 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.314 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:52.315 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2025(Integer)
2026-01-08 11:15:52.319 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-08 11:15:52.319 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:52.320 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.320 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-08 11:15:52.324 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.324 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-08 11:15:52.325 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.325 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2025(Integer)
2026-01-08 11:15:52.335 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:52.335 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.335 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:52.335 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2025(Integer)
2026-01-08 11:15:52.343 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-08 11:15:52.343 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:52.343 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.343 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-08 11:15:52.348 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.348 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-08 11:15:52.348 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.349 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2025(Integer)
2026-01-08 11:15:52.353 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:52.353 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.354 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:52.354 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2025(Integer)
2026-01-08 11:15:52.358 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:52.358 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:52.359 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.359 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-08 11:15:52.365 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.365 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-08 11:15:52.365 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.365 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2025(Integer)
2026-01-08 11:15:52.372 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:52.373 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.373 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:52.374 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2025(Integer)
2026-01-08 11:15:52.378 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:52.379 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:52.379 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.380 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-08 11:15:52.385 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.385 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-08 11:15:52.386 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.386 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2025(Integer)
2026-01-08 11:15:52.393 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:52.393 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.394 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:52.394 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2025(Integer)
2026-01-08 11:15:52.401 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:52.401 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:52.401 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.402 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-08 11:15:52.408 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.408 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-08 11:15:52.409 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.409 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2025(Integer)
2026-01-08 11:15:52.414 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 0
2026-01-08 11:15:52.415 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.415 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.415 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-08 11:15:52.420 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.420 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-08 11:15:52.421 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.421 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2025(Integer)
2026-01-08 11:15:52.426 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:52.427 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.427 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:52.428 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2025(Integer)
2026-01-08 11:15:52.433 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:52.433 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:52.434 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.434 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-08 11:15:52.441 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.441 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-08 11:15:52.442 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.443 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2025(Integer)
2026-01-08 11:15:52.450 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 0
2026-01-08 11:15:52.450 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.450 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.450 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-08 11:15:52.455 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.456 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-08 11:15:52.456 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.456 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2025(Integer)
2026-01-08 11:15:52.461 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:52.461 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.461 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:52.461 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2025(Integer)
2026-01-08 11:15:52.467 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:52.467 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:52.469 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:52.470 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-08 11:15:52.477 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:52.478 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-08 11:15:52.479 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:52.479 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2025(Integer)
2026-01-08 11:15:52.486 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:52.487 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2025 AND deleted = 0

2026-01-08 11:15:52.487 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:52.488 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2025(Integer)
2026-01-08 11:15:52.497 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:52.497 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:52.499 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":36,"userId":1,"year":2025,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":3.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":200,"userId":1,"startDate":"2025-12-08","endDate":"2025-12-08","days":-2.0,"type":"ADJUSTMENT_DEDUCT","remarks":"额度扣除 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:51:22","deleted":0},{"id":199,"userId":1,"startDate":"2025-12-08","endDate":"2025-12-08","days":-2.0,"type":"ADJUSTMENT_DEDUCT","remarks":"额度扣除 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:51:22","deleted":0},{"id":178,"userId":1,"startDate":"2025-01-01","endDate":"2025-01-01","days":2.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":37,"userId":2,"year":2025,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":3.0,"currentYearUsed":1.0,"deleted":null,"totalBalance":10.0,"username":"wangjianping","realName":"王建平","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":276,"userId":2,"startDate":"2025-12-31","endDate":"2025-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:59:51","deleted":0},{"id":201,"userId":2,"startDate":"2025-12-08","endDate":"2025-12-08","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:51:35","deleted":0},{"id":179,"userId":2,"startDate":"2025-01-01","endDate":"2025-01-01","days":3.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":38,"userId":3,"year":2025,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":4.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"wenyongguo","realName":"温永国","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":277,"userId":3,"startDate":"2025-12-31","endDate":"2025-12-31","days":-4.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:59:51","deleted":0},{"id":180,"userId":3,"startDate":"2025-01-01","endDate":"2025-01-01","days":4.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":39,"userId":4,"year":2025,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"xujunyi","realName":"徐君毅","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":278,"userId":4,"startDate":"2025-12-31","endDate":"2025-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:59:51","deleted":0},{"id":181,"userId":4,"startDate":"2025-01-01","endDate":"2025-01-01","days":2.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":40,"userId":5,"year":2025,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":-3.0,"currentYearUsed":0,"deleted":null,"totalBalance":2.0,"username":"zhanghao","realName":"张浩","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":182,"userId":5,"startDate":"2025-01-01","endDate":"2025-01-01","days":-3.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":null,"userId":6,"year":2025,"socialSeniority":0,"standardQuota":0,"daysEmployed":0,"actualQuota":0,"lastYearBalance":0,"currentYearUsed":0,"deleted":null,"totalBalance":0,"username":"zhangjianxin","realName":"张建新","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[]},{"id":42,"userId":7,"year":2025,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":5.0,"deleted":null,"totalBalance":0.0,"username":"yuanwei","realName":"袁伟","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":198,"userId":7,"startDate":"2025-12-08","endDate":"2025-12-08","days":-5.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:51:00","deleted":0}]},{"id":null,"userId":8,"year":2025,"socialSeniority":0,"standardQuota":0,"daysEmployed":0,"actualQuota":0,"lastYearBalance":0,"currentYearUsed":0,"deleted":null,"totalBalance":0,"username":"yangpanqiang","realName":"杨盼强","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[]},{"id":44,"userId":9,"year":2025,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":12.0,"username":"xinghaibo","realName":"邢海博","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":202,"userId":9,"startDate":"2025-12-08","endDate":"2025-12-08","days":2.0,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2026-12-31","createTime":"2026-01-08T10:52:28","deleted":0}]},{"id":45,"userId":10,"year":2025,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":12.0,"deleted":null,"totalBalance":-2.0,"username":"jiayulong","realName":"贾玉龙","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":275,"userId":10,"startDate":"2025-12-01","endDate":"2025-12-01","days":-2.0,"type":"ANNUAL","remarks":" (额度透支)","expiryDate":null,"createTime":"2026-01-08T10:59:39","deleted":0},{"id":274,"userId":10,"startDate":"2025-12-01","endDate":"2025-12-01","days":-10.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:59:39","deleted":0}]}],"total":35,"size":10,"current":1,"pages":4}}
2026-01-08 11:15:53.588 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2025&current=2&size=10
2026-01-08 11:15:53.601 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:53.602 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:53.608 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:53.608 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:53.611 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2025&current=2&size=10
2026-01-08 11:15:53.612 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:15:53.612 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:15:53.612 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2025, 2, 10]
2026-01-08 11:15:53.614 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:15:53.614 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:53.619 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:53.619 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:53.620 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?,?
2026-01-08 11:15:53.620 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long), 10(Long)
2026-01-08 11:15:53.629 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-08 11:15:53.629 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:53.630 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.630 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 11(Long)
2026-01-08 11:15:53.634 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.635 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 11 AND deleted = 0

2026-01-08 11:15:53.636 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.636 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 11(Long), 2025(Integer)
2026-01-08 11:15:53.643 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.644 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 11 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.644 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.644 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 11(Long), 2025(Integer)
2026-01-08 11:15:53.648 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.649 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 11 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.649 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.649 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 12(Long)
2026-01-08 11:15:53.655 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.655 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 12 AND deleted = 0

2026-01-08 11:15:53.655 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.655 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 12(Long), 2025(Integer)
2026-01-08 11:15:53.661 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.662 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 12 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.662 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.662 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 12(Long), 2025(Integer)
2026-01-08 11:15:53.667 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.667 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 12 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.667 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.668 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 13(Long)
2026-01-08 11:15:53.672 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.672 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 13 AND deleted = 0

2026-01-08 11:15:53.672 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.672 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 13(Long), 2025(Integer)
2026-01-08 11:15:53.678 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.678 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 13 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.678 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.679 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 13(Long), 2025(Integer)
2026-01-08 11:15:53.683 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.683 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 13 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.684 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.684 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 14(Long)
2026-01-08 11:15:53.688 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.689 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 14 AND deleted = 0

2026-01-08 11:15:53.689 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.689 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 14(Long), 2025(Integer)
2026-01-08 11:15:53.693 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.693 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 14 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.694 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.694 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 14(Long), 2025(Integer)
2026-01-08 11:15:53.700 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.701 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 14 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.701 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.701 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 15(Long)
2026-01-08 11:15:53.706 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.706 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 15 AND deleted = 0

2026-01-08 11:15:53.706 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.706 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 15(Long), 2025(Integer)
2026-01-08 11:15:53.711 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.711 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 15 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.711 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.711 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 15(Long), 2025(Integer)
2026-01-08 11:15:53.715 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.716 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 15 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.716 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.716 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 16(Long)
2026-01-08 11:15:53.722 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.722 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 16 AND deleted = 0

2026-01-08 11:15:53.723 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.723 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 16(Long), 2025(Integer)
2026-01-08 11:15:53.727 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.728 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 16 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.728 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.728 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 16(Long), 2025(Integer)
2026-01-08 11:15:53.732 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.732 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 16 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.732 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.733 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 17(Long)
2026-01-08 11:15:53.738 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.738 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 17 AND deleted = 0

2026-01-08 11:15:53.739 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.739 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 17(Long), 2025(Integer)
2026-01-08 11:15:53.744 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.744 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 17 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.744 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.744 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 17(Long), 2025(Integer)
2026-01-08 11:15:53.749 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.749 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 17 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.749 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.750 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 18(Long)
2026-01-08 11:15:53.754 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.754 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 18 AND deleted = 0

2026-01-08 11:15:53.755 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.755 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 18(Long), 2025(Integer)
2026-01-08 11:15:53.760 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.760 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 18 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.761 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.761 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 18(Long), 2025(Integer)
2026-01-08 11:15:53.765 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.766 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 18 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.766 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.766 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 19(Long)
2026-01-08 11:15:53.771 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.772 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 19 AND deleted = 0

2026-01-08 11:15:53.772 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.772 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 19(Long), 2025(Integer)
2026-01-08 11:15:53.777 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.777 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 19 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.778 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.778 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 19(Long), 2025(Integer)
2026-01-08 11:15:53.783 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.784 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 19 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.785 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:53.785 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 20(Long)
2026-01-08 11:15:53.790 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:53.790 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 20 AND deleted = 0

2026-01-08 11:15:53.791 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:53.791 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 20(Long), 2025(Integer)
2026-01-08 11:15:53.798 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:53.798 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 20 AND year = 2025 AND deleted = 0

2026-01-08 11:15:53.799 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:53.799 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 20(Long), 2025(Integer)
2026-01-08 11:15:53.804 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:53.805 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 20 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:53.806 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":46,"userId":11,"year":2025,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"weihongyan","realName":"魏红艳","employeeNumber":"CBJ-016","entryDate":"2020-10-16","records":[]},{"id":47,"userId":12,"year":2025,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"liulu","realName":"刘露","employeeNumber":"CBJ-018","entryDate":"2020-11-06","records":[]},{"id":48,"userId":13,"year":2025,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"linying","realName":"林颖","employeeNumber":"CBJ-021","entryDate":"2020-11-24","records":[]},{"id":49,"userId":14,"year":2025,"socialSeniority":16,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"renxiang","realName":"任翔","employeeNumber":"CBJ-022","entryDate":"2020-12-07","records":[]},{"id":50,"userId":15,"year":2025,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"yanglinlin","realName":"杨琳琳","employeeNumber":"CBJ-024","entryDate":"2021-01-04","records":[]},{"id":51,"userId":16,"year":2025,"socialSeniority":14,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"liyanhong","realName":"李艳红","employeeNumber":"CBJ-026","entryDate":"2021-01-13","records":[]},{"id":52,"userId":17,"year":2025,"socialSeniority":11,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"zhangxuesong","realName":"张雪松","employeeNumber":"CBJ-029","entryDate":"2021-03-03","records":[]},{"id":53,"userId":18,"year":2025,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"cuixiaohuan","realName":"崔晓欢","employeeNumber":"CBJ-030","entryDate":"2021-03-09","records":[]},{"id":54,"userId":19,"year":2025,"socialSeniority":11,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"wudaming","realName":"吴大明","employeeNumber":"CBJ-032","entryDate":"2021-03-09","records":[]},{"id":55,"userId":20,"year":2025,"socialSeniority":11,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"wangjianmin","realName":"王建民","employeeNumber":"CBJ-033","entryDate":"2021-03-10","records":[]}],"total":35,"size":10,"current":2,"pages":4}}
2026-01-08 11:15:54.255 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2025&current=3&size=10
2026-01-08 11:15:54.263 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:54.264 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:54.272 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:54.272 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:54.277 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2025&current=3&size=10
2026-01-08 11:15:54.278 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:15:54.278 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:15:54.278 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2025, 3, 10]
2026-01-08 11:15:54.281 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:15:54.286 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:54.303 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:54.303 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:54.303 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?,?
2026-01-08 11:15:54.303 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 20(Long), 10(Long)
2026-01-08 11:15:54.307 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-08 11:15:54.308 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:54.308 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.308 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 21(Long)
2026-01-08 11:15:54.314 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.314 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 21 AND deleted = 0

2026-01-08 11:15:54.314 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.315 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 21(Long), 2025(Integer)
2026-01-08 11:15:54.317 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.317 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 21 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.318 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.318 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 21(Long), 2025(Integer)
2026-01-08 11:15:54.321 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.322 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 21 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.322 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.322 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 22(Long)
2026-01-08 11:15:54.326 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.326 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 22 AND deleted = 0

2026-01-08 11:15:54.327 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.327 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 22(Long), 2025(Integer)
2026-01-08 11:15:54.330 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.330 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 22 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.331 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.331 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 22(Long), 2025(Integer)
2026-01-08 11:15:54.334 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.335 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 22 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.335 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.335 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 23(Long)
2026-01-08 11:15:54.340 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.341 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 23 AND deleted = 0

2026-01-08 11:15:54.341 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.341 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 23(Long), 2025(Integer)
2026-01-08 11:15:54.345 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.346 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 23 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.346 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.346 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 23(Long), 2025(Integer)
2026-01-08 11:15:54.352 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.353 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 23 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.353 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.353 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 24(Long)
2026-01-08 11:15:54.357 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.357 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 24 AND deleted = 0

2026-01-08 11:15:54.358 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.358 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 24(Long), 2025(Integer)
2026-01-08 11:15:54.364 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.364 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 24 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.364 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.364 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 24(Long), 2025(Integer)
2026-01-08 11:15:54.368 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.368 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 24 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.369 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.369 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 25(Long)
2026-01-08 11:15:54.374 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.374 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 25 AND deleted = 0

2026-01-08 11:15:54.375 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.375 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 25(Long), 2025(Integer)
2026-01-08 11:15:54.380 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.380 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 25 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.381 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.381 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 25(Long), 2025(Integer)
2026-01-08 11:15:54.385 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.385 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 25 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.385 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.385 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 26(Long)
2026-01-08 11:15:54.389 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.389 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 26 AND deleted = 0

2026-01-08 11:15:54.389 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.390 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 26(Long), 2025(Integer)
2026-01-08 11:15:54.394 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.394 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 26 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.395 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.395 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 26(Long), 2025(Integer)
2026-01-08 11:15:54.411 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.412 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 26 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.412 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.412 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 27(Long)
2026-01-08 11:15:54.418 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.418 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 27 AND deleted = 0

2026-01-08 11:15:54.418 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.418 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 27(Long), 2025(Integer)
2026-01-08 11:15:54.423 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.423 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 27 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.423 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.424 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 27(Long), 2025(Integer)
2026-01-08 11:15:54.428 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.428 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 27 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.428 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.429 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 28(Long)
2026-01-08 11:15:54.434 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.435 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 28 AND deleted = 0

2026-01-08 11:15:54.435 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.435 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 28(Long), 2025(Integer)
2026-01-08 11:15:54.439 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.440 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 28 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.440 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.440 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 28(Long), 2025(Integer)
2026-01-08 11:15:54.446 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.446 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 28 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.446 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.446 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 29(Long)
2026-01-08 11:15:54.451 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.451 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 29 AND deleted = 0

2026-01-08 11:15:54.451 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.451 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 29(Long), 2025(Integer)
2026-01-08 11:15:54.460 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.461 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 29 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.461 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.461 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 29(Long), 2025(Integer)
2026-01-08 11:15:54.471 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:54.471 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 29 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.471 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:54.471 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 30(Long)
2026-01-08 11:15:54.488 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:54.488 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 30 AND deleted = 0

2026-01-08 11:15:54.489 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:54.489 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 30(Long), 2025(Integer)
2026-01-08 11:15:54.494 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:54.494 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 30 AND year = 2025 AND deleted = 0

2026-01-08 11:15:54.494 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:54.494 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 30(Long), 2025(Integer)
2026-01-08 11:15:54.505 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:54.506 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 30 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:54.506 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":56,"userId":21,"year":2025,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"tianfufa","realName":"田福发","employeeNumber":"CBJ-035","entryDate":"2021-03-15","records":[]},{"id":57,"userId":22,"year":2025,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"zhaohongming","realName":"赵宏鸣","employeeNumber":"CBJ-049","entryDate":"2021-05-06","records":[]},{"id":58,"userId":23,"year":2025,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"gongshengmin","realName":"巩盛民","employeeNumber":"CBJ-052","entryDate":"2021-05-26","records":[]},{"id":59,"userId":24,"year":2025,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"xialu","realName":"夏露","employeeNumber":"CBJ-055","entryDate":"2021-06-21","records":[]},{"id":60,"userId":25,"year":2025,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"taixiaomin","realName":"邰潇敏","employeeNumber":"CBJ-061","entryDate":"2021-07-14","records":[]},{"id":61,"userId":26,"year":2025,"socialSeniority":5,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"wangying","realName":"王颖","employeeNumber":"CBJ-068","entryDate":"2021-08-30","records":[]},{"id":62,"userId":27,"year":2025,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"caoliping","realName":"曹莉平","employeeNumber":"CBJ-072","entryDate":"2021-10-25","records":[]},{"id":63,"userId":28,"year":2025,"socialSeniority":16,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"yangjimei","realName":"杨继梅","employeeNumber":"CBJ-077","entryDate":"2021-12-13","records":[]},{"id":64,"userId":29,"year":2025,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"guanyu","realName":"管宇","employeeNumber":"CBJ-078","entryDate":"2021-12-14","records":[]},{"id":65,"userId":30,"year":2025,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":1.0,"deleted":null,"totalBalance":9.0,"username":"siguorui","realName":"司国瑞","employeeNumber":"CBJ-080","entryDate":"2021-12-27","records":[{"id":185,"userId":30,"startDate":"2025-12-24","endDate":"2025-12-24","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:53","deleted":0}]}],"total":35,"size":10,"current":3,"pages":4}}
2026-01-08 11:15:55.050 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2025&current=4&size=10
2026-01-08 11:15:55.062 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:55.062 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:55.072 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:55.073 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:55.076 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2025&current=4&size=10
2026-01-08 11:15:55.077 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:15:55.077 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:15:55.077 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2025, 4, 10]
2026-01-08 11:15:55.079 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:15:55.079 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:55.098 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:55.098 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:55.099 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?,?
2026-01-08 11:15:55.099 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 30(Long), 10(Long)
2026-01-08 11:15:55.113 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 5
2026-01-08 11:15:55.113 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:55.114 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:55.114 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 31(Long)
2026-01-08 11:15:55.124 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:55.124 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 31 AND deleted = 0

2026-01-08 11:15:55.125 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:55.125 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 31(Long), 2025(Integer)
2026-01-08 11:15:55.131 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:55.131 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 31 AND year = 2025 AND deleted = 0

2026-01-08 11:15:55.131 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:55.131 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 31(Long), 2025(Integer)
2026-01-08 11:15:55.138 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:55.138 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 31 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:55.138 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:55.138 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 32(Long)
2026-01-08 11:15:55.157 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:55.157 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 32 AND deleted = 0

2026-01-08 11:15:55.157 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:55.158 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 32(Long), 2025(Integer)
2026-01-08 11:15:55.165 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:55.166 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 32 AND year = 2025 AND deleted = 0

2026-01-08 11:15:55.166 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:55.166 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 32(Long), 2025(Integer)
2026-01-08 11:15:55.188 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:55.188 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 32 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:55.189 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:55.189 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:15:55.206 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:55.207 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:15:55.207 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:55.207 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 33(Long), 2025(Integer)
2026-01-08 11:15:55.234 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:55.234 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2025 AND deleted = 0

2026-01-08 11:15:55.235 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:55.235 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 33(Long), 2025(Integer)
2026-01-08 11:15:55.272 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 11
2026-01-08 11:15:55.272 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:55.273 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:55.274 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 34(Long)
2026-01-08 11:15:55.291 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:55.292 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 34 AND deleted = 0

2026-01-08 11:15:55.292 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:55.292 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 34(Long), 2025(Integer)
2026-01-08 11:15:55.296 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:55.296 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 34 AND year = 2025 AND deleted = 0

2026-01-08 11:15:55.297 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:55.297 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 34(Long), 2025(Integer)
2026-01-08 11:15:55.304 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:55.304 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 34 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:55.304 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:55.304 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 35(Long)
2026-01-08 11:15:55.327 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:55.327 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 35 AND deleted = 0

2026-01-08 11:15:55.328 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:55.328 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 35(Long), 2025(Integer)
2026-01-08 11:15:55.345 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:55.345 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 35 AND year = 2025 AND deleted = 0

2026-01-08 11:15:55.345 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:55.345 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 35(Long), 2025(Integer)
2026-01-08 11:15:55.367 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:15:55.367 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 35 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:55.367 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":66,"userId":31,"year":2025,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"yaoyan","realName":"要妍","employeeNumber":"CBJ-082","entryDate":"2022-03-07","records":[]},{"id":67,"userId":32,"year":2025,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"renzhipeng","realName":"任志鹏","employeeNumber":"CBJ-092","entryDate":"2022-03-30","records":[]},{"id":68,"userId":33,"year":2025,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":7.0,"currentYearUsed":10.0,"deleted":null,"totalBalance":2.0,"username":"zhangningbo","realName":"张宁博","employeeNumber":"CBJ-104","entryDate":"2022-06-21","records":[{"id":195,"userId":33,"startDate":"2025-12-31","endDate":"2025-12-31","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":194,"userId":33,"startDate":"2025-12-25","endDate":"2025-12-25","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":193,"userId":33,"startDate":"2025-12-24","endDate":"2025-12-24","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":192,"userId":33,"startDate":"2025-12-23","endDate":"2025-12-23","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":191,"userId":33,"startDate":"2025-12-22","endDate":"2025-12-22","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":190,"userId":33,"startDate":"2025-12-19","endDate":"2025-12-19","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":189,"userId":33,"startDate":"2025-12-18","endDate":"2025-12-18","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":188,"userId":33,"startDate":"2025-12-17","endDate":"2025-12-17","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":187,"userId":33,"startDate":"2025-12-16","endDate":"2025-12-16","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":186,"userId":33,"startDate":"2025-12-15","endDate":"2025-12-15","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":183,"userId":33,"startDate":"2025-01-01","endDate":"2025-01-01","days":7.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":69,"userId":34,"year":2025,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"xubin","realName":"许滨","employeeNumber":"CBJ-106","entryDate":"2023-02-13","records":[]},{"id":70,"userId":35,"year":2025,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":5.0,"username":"xiaonan","realName":"肖南","employeeNumber":"CBJ-108","entryDate":"2023-02-22","records":[]}],"total":35,"size":10,"current":4,"pages":4}}
2026-01-08 11:15:56.389 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2025&current=1&size=10
2026-01-08 11:15:56.396 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:15:56.396 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:15:56.421 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:15:56.421 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:15:56.427 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2025&current=1&size=10
2026-01-08 11:15:56.428 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:15:56.428 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:15:56.428 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2025, 1, 10]
2026-01-08 11:15:56.433 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:15:56.433 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:15:56.449 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:15:56.449 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:56.450 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:15:56.450 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:15:56.464 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-08 11:15:56.464 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:15:56.465 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.465 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:15:56.498 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.498 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:15:56.499 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.499 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2025(Integer)
2026-01-08 11:15:56.546 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:56.547 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.548 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:56.548 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2025(Integer)
2026-01-08 11:15:56.570 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-08 11:15:56.570 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:56.571 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.571 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-08 11:15:56.598 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.600 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-08 11:15:56.601 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.601 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2025(Integer)
2026-01-08 11:15:56.619 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:56.620 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.620 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:56.621 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2025(Integer)
2026-01-08 11:15:56.639 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-08 11:15:56.639 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:56.639 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.640 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-08 11:15:56.651 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.651 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-08 11:15:56.651 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.651 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2025(Integer)
2026-01-08 11:15:56.661 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:56.661 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.662 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:56.662 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2025(Integer)
2026-01-08 11:15:56.667 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:56.667 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:56.667 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.667 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-08 11:15:56.676 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.676 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-08 11:15:56.676 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.676 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2025(Integer)
2026-01-08 11:15:56.684 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:56.685 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.685 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:56.685 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2025(Integer)
2026-01-08 11:15:56.695 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:56.695 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:56.695 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.696 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-08 11:15:56.702 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.702 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-08 11:15:56.702 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.702 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2025(Integer)
2026-01-08 11:15:56.707 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:56.707 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.708 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:56.708 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2025(Integer)
2026-01-08 11:15:56.724 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:56.724 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:56.724 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.724 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-08 11:15:56.730 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.730 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-08 11:15:56.730 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.730 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2025(Integer)
2026-01-08 11:15:56.736 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 0
2026-01-08 11:15:56.736 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.736 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.736 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-08 11:15:56.741 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.741 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-08 11:15:56.741 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.741 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2025(Integer)
2026-01-08 11:15:56.746 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:56.746 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.746 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:56.746 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2025(Integer)
2026-01-08 11:15:56.751 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:56.751 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:56.751 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.751 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-08 11:15:56.761 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.762 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-08 11:15:56.762 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.762 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2025(Integer)
2026-01-08 11:15:56.772 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 0
2026-01-08 11:15:56.772 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.772 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.772 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-08 11:15:56.784 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.784 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-08 11:15:56.785 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.785 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2025(Integer)
2026-01-08 11:15:56.799 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:56.800 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.800 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:56.800 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2025(Integer)
2026-01-08 11:15:56.817 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:15:56.817 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:56.817 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:15:56.818 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-08 11:15:56.866 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:15:56.866 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-08 11:15:56.866 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:15:56.867 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2025(Integer)
2026-01-08 11:15:56.904 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:15:56.904 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2025 AND deleted = 0

2026-01-08 11:15:56.905 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:15:56.905 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2025(Integer)
2026-01-08 11:15:56.924 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:15:56.925 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:15:56.925 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":36,"userId":1,"year":2025,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":3.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":200,"userId":1,"startDate":"2025-12-08","endDate":"2025-12-08","days":-2.0,"type":"ADJUSTMENT_DEDUCT","remarks":"额度扣除 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:51:22","deleted":0},{"id":199,"userId":1,"startDate":"2025-12-08","endDate":"2025-12-08","days":-2.0,"type":"ADJUSTMENT_DEDUCT","remarks":"额度扣除 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:51:22","deleted":0},{"id":178,"userId":1,"startDate":"2025-01-01","endDate":"2025-01-01","days":2.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":37,"userId":2,"year":2025,"socialSeniority":19,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":3.0,"currentYearUsed":1.0,"deleted":null,"totalBalance":10.0,"username":"wangjianping","realName":"王建平","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":276,"userId":2,"startDate":"2025-12-31","endDate":"2025-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:59:51","deleted":0},{"id":201,"userId":2,"startDate":"2025-12-08","endDate":"2025-12-08","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:51:35","deleted":0},{"id":179,"userId":2,"startDate":"2025-01-01","endDate":"2025-01-01","days":3.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":38,"userId":3,"year":2025,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":4.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"wenyongguo","realName":"温永国","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":277,"userId":3,"startDate":"2025-12-31","endDate":"2025-12-31","days":-4.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:59:51","deleted":0},{"id":180,"userId":3,"startDate":"2025-01-01","endDate":"2025-01-01","days":4.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":39,"userId":4,"year":2025,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":10.0,"username":"xujunyi","realName":"徐君毅","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":278,"userId":4,"startDate":"2025-12-31","endDate":"2025-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:59:51","deleted":0},{"id":181,"userId":4,"startDate":"2025-01-01","endDate":"2025-01-01","days":2.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":40,"userId":5,"year":2025,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":-3.0,"currentYearUsed":0,"deleted":null,"totalBalance":2.0,"username":"zhanghao","realName":"张浩","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":182,"userId":5,"startDate":"2025-01-01","endDate":"2025-01-01","days":-3.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]},{"id":null,"userId":6,"year":2025,"socialSeniority":0,"standardQuota":0,"daysEmployed":0,"actualQuota":0,"lastYearBalance":0,"currentYearUsed":0,"deleted":null,"totalBalance":0,"username":"zhangjianxin","realName":"张建新","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[]},{"id":42,"userId":7,"year":2025,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":365,"actualQuota":5.0,"lastYearBalance":0.0,"currentYearUsed":5.0,"deleted":null,"totalBalance":0.0,"username":"yuanwei","realName":"袁伟","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":198,"userId":7,"startDate":"2025-12-08","endDate":"2025-12-08","days":-5.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:51:00","deleted":0}]},{"id":null,"userId":8,"year":2025,"socialSeniority":0,"standardQuota":0,"daysEmployed":0,"actualQuota":0,"lastYearBalance":0,"currentYearUsed":0,"deleted":null,"totalBalance":0,"username":"yangpanqiang","realName":"杨盼强","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[]},{"id":44,"userId":9,"year":2025,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":12.0,"username":"xinghaibo","realName":"邢海博","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":202,"userId":9,"startDate":"2025-12-08","endDate":"2025-12-08","days":2.0,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2026-12-31","createTime":"2026-01-08T10:52:28","deleted":0}]},{"id":45,"userId":10,"year":2025,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":365,"actualQuota":10.0,"lastYearBalance":0.0,"currentYearUsed":12.0,"deleted":null,"totalBalance":-2.0,"username":"jiayulong","realName":"贾玉龙","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":275,"userId":10,"startDate":"2025-12-01","endDate":"2025-12-01","days":-2.0,"type":"ANNUAL","remarks":" (额度透支)","expiryDate":null,"createTime":"2026-01-08T10:59:39","deleted":0},{"id":274,"userId":10,"startDate":"2025-12-01","endDate":"2025-12-01","days":-10.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:59:39","deleted":0}]}],"total":35,"size":10,"current":1,"pages":4}}
2026-01-08 11:17:13.954 INFO  com.leave.system.LeaveSystemApplication - Starting LeaveSystemApplication v0.0.1-SNAPSHOT using Java 17.0.6 with PID 12465 (/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar started by cccc in /Users/cccc/IdeaProjects/leave-management)
2026-01-08 11:17:13.955 DEBUG com.leave.system.LeaveSystemApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2026-01-08 11:17:13.956 INFO  com.leave.system.LeaveSystemApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-08 11:17:14.668 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-08 11:17:14.675 INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-08 11:17:14.676 INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2026-01-08 11:17:14.676 INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2026-01-08 11:17:14.693 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-08 11:17:14.693 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 694 ms
2026-01-08 11:17:14.783 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.leave.system.config.SqlLogInterceptor@20801cbb'
2026-01-08 11:17:14.784 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Registered plugin: 'com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor@46fc522d'
2026-01-08 11:17:14.867 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'URL [jar:nested:/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/mapper/SysUserMapper.xml]'
2026-01-08 11:17:14.882 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'URL [jar:nested:/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/mapper/SysRoleMapper.xml]'
2026-01-08 11:17:14.893 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'URL [jar:nested:/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/mapper/RoleMenuMapper.xml]'
2026-01-08 11:17:14.906 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'URL [jar:nested:/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/mapper/SysMenuMapper.xml]'
2026-01-08 11:17:14.919 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'URL [jar:nested:/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/mapper/LeaveRecordMapper.xml]'
2026-01-08 11:17:14.935 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'URL [jar:nested:/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/mapper/LeaveAccountMapper.xml]'
2026-01-08 11:17:14.945 DEBUG c.b.m.e.spring.MybatisSqlSessionFactoryBean - Parsed mapper file: 'URL [jar:nested:/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/mapper/SysJobMapper.xml]'
2026-01-08 11:17:14.956 DEBUG com.baomidou.mybatisplus.core.toolkit.Sequence - Initialization Sequence datacenterId:0 workerId:2
2026-01-08 11:17:14.968 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-08 11:17:15.138 INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13ca16bf
2026-01-08 11:17:15.139 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-08 11:17:15.193 DEBUG com.leave.system.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-01-08 11:17:15.264 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initializing scheduled tasks...
2026-01-08 11:17:15.275 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==>  Preparing: SELECT * FROM sys_job WHERE status = 0
2026-01-08 11:17:15.286 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - ==> Parameters: 
2026-01-08 11:17:15.306 DEBUG c.l.system.mapper.SysJobMapper.selectActiveJobs - <==      Total: 3
2026-01-08 11:17:15.306 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectActiveJobs
SQL         : SELECT * FROM sys_job WHERE status = 0

2026-01-08 11:17:15.309 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 钉钉数据同步 with cron: 0 0 10 ? * MON
2026-01-08 11:17:15.309 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假过期清理 with cron: 0 0 1 1 1 ?
2026-01-08 11:17:15.309 INFO  com.leave.system.service.impl.SysJobServiceImpl - Scheduled job: 年假账户批量初始化 with cron: 0 0 3 1 1 ?
2026-01-08 11:17:15.309 INFO  com.leave.system.service.impl.SysJobServiceImpl - Initialized 3 scheduled tasks.
2026-01-08 11:17:15.487 INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2026-01-08 11:17:15.588 INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67c0c90b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8549c5f, org.springframework.security.web.context.SecurityContextHolderFilter@290c266c, org.springframework.security.web.header.HeaderWriterFilter@6b751cb1, org.springframework.web.filter.CorsFilter@35454c7a, org.springframework.security.web.authentication.logout.LogoutFilter@6480a063, com.leave.system.security.JwtAuthenticationFilter@7b377a53, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ea3a513, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c4059a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50f3ba6a, org.springframework.security.web.session.SessionManagementFilter@2abedbbd, org.springframework.security.web.access.ExceptionTranslationFilter@6f112f70, org.springframework.security.web.access.intercept.AuthorizationFilter@2e426dd2]
2026-01-08 11:17:15.700 INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-0.0.0.0-8080"]
2026-01-08 11:17:15.709 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2026-01-08 11:17:15.714 INFO  com.leave.system.LeaveSystemApplication - Started LeaveSystemApplication in 2.058 seconds (process running for 2.308)
2026-01-08 11:17:15.715 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL start create  ...  
2026-01-08 11:17:15.715 DEBUG c.b.mybatisplus.autoconfigure.DdlApplicationRunner -   ...  DDL end create  ...  
2026-01-08 11:17:35.521 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-08 11:17:35.522 INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-08 11:17:35.524 INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-08 11:17:35.529 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 11:17:35.535 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:17:35.536 WARN  o.s.web.servlet.handler.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2026-01-08 11:17:35.538 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 11:17:35.555 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:17:35.558 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:17:35.623 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:17:35.624 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:17:35.629 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:17:35.629 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:17:35.632 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:17:35.632 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:17:35.910 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /favicon.svg
2026-01-08 11:17:35.912 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:17:35.917 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /favicon.svg
2026-01-08 11:17:40.453 DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-08 11:17:40.456 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:17:40.462 DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-08 11:17:40.544 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/auth/login
2026-01-08 11:17:40.545 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.login
2026-01-08 11:17:40.545 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [AuthController.LoginRequest(username=admin, password=123456)]
2026-01-08 11:17:40.630 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:17:40.630 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:17:40.641 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:17:40.641 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:17:40.919 DEBUG o.s.s.authentication.dao.DaoAuthenticationProvider - Authenticated user
2026-01-08 11:17:40.940 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:17:40.941 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:17:40.949 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:17:40.949 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:17:40.954 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"登录成功","data":{"userId":1,"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2Nzg0MjI2MCwiZXhwIjoxNzY4NDQ3MDYwfQ.OKkjc_9lA0BKvp2kHlSDihvNhSaPYIpEE_U01otoQtM","username":"admin"}}
2026-01-08 11:17:40.964 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-GGIENcfT.js
2026-01-08 11:17:40.964 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-ChGYV_At.css
2026-01-08 11:17:40.965 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:17:40.965 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:17:40.965 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-GGIENcfT.js
2026-01-08 11:17:40.965 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-ChGYV_At.css
2026-01-08 11:17:40.991 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/1
2026-01-08 11:17:40.992 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 11:17:41.014 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:17:41.014 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:17:41.019 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:17:41.019 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:17:41.020 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:17:41.020 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:17:41.023 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 11:17:41.024 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:17:41.024 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:17:41.025 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/user-menus
2026-01-08 11:17:41.025 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:17:41.026 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:17:41.026 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 11:17:41.026 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/1
2026-01-08 11:17:41.026 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:17:41.026 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:17:41.026 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/1
2026-01-08 11:17:41.026 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:17:41.026 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:17:41.026 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:17:41.027 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:17:41.035 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:17:41.036 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:17:41.036 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:17:41.036 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:17:41.036 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:17:41.036 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 11:17:41.038 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"username":"admin","password":null,"realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}}
2026-01-08 11:17:41.043 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 11:17:41.043 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 11:17:41.050 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:17:41.050 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 11:17:41.056 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 11:17:41.056 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 11:17:41.058 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:17:41.061 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 11:17:41.062 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:17:41.062 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:17:41.067 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:17:41.067 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:17:41.069 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 11:17:41.069 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/user-menus
2026-01-08 11:17:41.069 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:17:41.069 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:17:41.069 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 11:17:41.069 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:17:41.069 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:17:41.075 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:17:41.075 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:17:41.075 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:17:41.076 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 11:17:41.082 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 11:17:41.082 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 11:17:41.082 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:17:41.083 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 11:17:41.090 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 11:17:41.090 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 11:17:41.091 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:18:39.766 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 11:18:39.771 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:18:39.774 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 11:18:39.777 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:18:39.780 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:18:39.939 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:18:39.943 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:18:39.944 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:18:39.952 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:18:39.953 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:18:39.954 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:18:41.383 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-GGIENcfT.js
2026-01-08 11:18:41.384 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:18:41.383 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-ChGYV_At.css
2026-01-08 11:18:41.385 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-GGIENcfT.js
2026-01-08 11:18:41.385 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:18:41.386 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-ChGYV_At.css
2026-01-08 11:18:41.748 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/1
2026-01-08 11:18:41.748 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 11:18:41.761 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:18:41.761 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:18:41.762 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:18:41.762 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:18:41.769 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:18:41.769 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:18:41.777 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 11:18:41.779 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/menu/user-menus
2026-01-08 11:18:41.779 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:18:41.779 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:18:41.779 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 11:18:41.780 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:18:41.781 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:18:41.787 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:18:41.788 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:18:41.789 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:18:41.789 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 11:18:41.797 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 11:18:41.798 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 11:18:41.799 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:18:41.799 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 11:18:41.806 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 11:18:41.806 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 11:18:41.807 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:18:41.953 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 11:18:41.958 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:18:41.958 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:18:41.965 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:18:41.966 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:18:41.971 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 11:18:41.972 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/menu/user-menus
2026-01-08 11:18:41.972 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:18:41.972 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:18:41.972 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 11:18:41.973 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:18:41.973 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:18:41.985 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:18:41.985 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:18:41.986 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:18:41.986 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 11:18:41.990 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 11:18:41.991 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 11:18:41.992 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:18:41.992 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 11:18:42.000 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 11:18:42.001 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 11:18:42.001 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:19:21.380 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 11:19:21.384 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:19:21.385 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 11:19:21.388 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:19:21.390 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:19:21.563 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:19:21.565 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:19:21.566 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:19:21.567 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:19:21.568 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:19:21.569 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:19:22.997 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-ChGYV_At.css
2026-01-08 11:19:22.997 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-GGIENcfT.js
2026-01-08 11:19:22.999 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:19:22.999 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:19:23.002 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-ChGYV_At.css
2026-01-08 11:19:23.002 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-GGIENcfT.js
2026-01-08 11:19:23.221 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=33
2026-01-08 11:19:23.222 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/33
2026-01-08 11:19:23.233 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:23.233 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:23.234 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:23.234 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:23.240 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:23.241 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:23.241 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:23.241 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:23.246 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=33
2026-01-08 11:19:23.246 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/33
2026-01-08 11:19:23.247 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/menu/user-menus
2026-01-08 11:19:23.247 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:19:23.247 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/user/33
2026-01-08 11:19:23.247 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33]
2026-01-08 11:19:23.247 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:19:23.247 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 33
2026-01-08 11:19:23.247 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33]
2026-01-08 11:19:23.247 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:19:23.247 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:19:23.248 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:19:23.248 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:19:23.252 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:19:23.253 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:19:23.253 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:19:23.253 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 2(Long)
2026-01-08 11:19:23.254 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:19:23.255 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:19:23.255 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":33,"username":"zhangningbo","password":null,"realName":"张宁博","employeeNumber":"CBJ-104","firstWorkDate":"2018-07-01","entryDate":"2022-06-21","socialSeniority":7,"roleId":2,"dingtalkUserId":"01525237116824149785","status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:56","updateTime":"2026-01-07T08:29:59","deleted":0}}
2026-01-08 11:19:23.262 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 3
2026-01-08 11:19:23.262 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 2

2026-01-08 11:19:23.262 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:19:23.263 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 5(Long)
2026-01-08 11:19:23.267 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 3
2026-01-08 11:19:23.268 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 5 ) ORDER BY parent_id, order_num, id

2026-01-08 11:19:23.268 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:19:28.680 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/MyLeave-CabasMHM.js
2026-01-08 11:19:28.680 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/MyLeave---36RhSz.css
2026-01-08 11:19:28.682 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:19:28.682 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:19:28.684 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/MyLeave-CabasMHM.js
2026-01-08 11:19:28.684 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/MyLeave---36RhSz.css
2026-01-08 11:19:29.595 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=33&year=2026
2026-01-08 11:19:29.600 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=33&year=2026
2026-01-08 11:19:29.605 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:19:29.605 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:29.606 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:29.610 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:29.611 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:29.613 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:29.614 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:29.616 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:29.616 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:29.616 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:29.616 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:29.620 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:29.621 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:29.621 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=33&year=2026
2026-01-08 11:19:29.623 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=33&year=2026
2026-01-08 11:19:29.624 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/history
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/account
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/available-years
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:19:29.624 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:19:29.625 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:19:29.625 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:19:29.625 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:19:29.625 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:19:29.628 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:29.628 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:29.628 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:19:29.629 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:19:29.629 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:19:29.629 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:29.632 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-08 11:19:29.632 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:19:29.633 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 2
2026-01-08 11:19:29.633 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2027,2026,2025]}
2026-01-08 11:19:29.633 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:19:29.633 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:19:29.633 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2026 AND deleted = 0

2026-01-08 11:19:29.634 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 33 year 2026 based on today 2026-01-08
2026-01-08 11:19:29.634 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:29.634 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:29.638 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}
2026-01-08 11:19:29.639 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:19:29.640 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:19:29.643 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":288,"userId":33,"year":2026,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangningbo","realName":"张宁博","employeeNumber":"CBJ-104","entryDate":"2022-06-21","records":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}}
2026-01-08 11:19:32.589 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=33&year=2025
2026-01-08 11:19:32.601 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:32.601 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:32.609 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:32.609 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:32.615 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=33&year=2025
2026-01-08 11:19:32.616 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/history
2026-01-08 11:19:32.617 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:19:32.617 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2025]
2026-01-08 11:19:32.618 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:32.618 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 33(Long), 2025(Integer)
2026-01-08 11:19:32.625 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 11
2026-01-08 11:19:32.626 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:19:32.628 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":195,"userId":33,"startDate":"2025-12-31","endDate":"2025-12-31","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":194,"userId":33,"startDate":"2025-12-25","endDate":"2025-12-25","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":193,"userId":33,"startDate":"2025-12-24","endDate":"2025-12-24","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":192,"userId":33,"startDate":"2025-12-23","endDate":"2025-12-23","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":191,"userId":33,"startDate":"2025-12-22","endDate":"2025-12-22","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":190,"userId":33,"startDate":"2025-12-19","endDate":"2025-12-19","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":189,"userId":33,"startDate":"2025-12-18","endDate":"2025-12-18","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":188,"userId":33,"startDate":"2025-12-17","endDate":"2025-12-17","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":187,"userId":33,"startDate":"2025-12-16","endDate":"2025-12-16","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":186,"userId":33,"startDate":"2025-12-15","endDate":"2025-12-15","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":183,"userId":33,"startDate":"2025-01-01","endDate":"2025-01-01","days":7.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]}
2026-01-08 11:19:36.037 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=33&year=2026
2026-01-08 11:19:36.050 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:36.051 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:36.070 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:36.071 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:36.077 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=33&year=2026
2026-01-08 11:19:36.078 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/history
2026-01-08 11:19:36.078 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:19:36.078 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:19:36.079 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:36.079 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:36.086 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 2
2026-01-08 11:19:36.086 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:19:36.086 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}
2026-01-08 11:19:37.979 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=33&year=2027
2026-01-08 11:19:37.992 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:37.994 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:38.003 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:38.003 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:38.008 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=33&year=2027
2026-01-08 11:19:38.009 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/history
2026-01-08 11:19:38.009 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:19:38.010 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2027]
2026-01-08 11:19:38.010 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:38.011 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 33(Long), 2027(Integer)
2026-01-08 11:19:38.017 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 1
2026-01-08 11:19:38.017 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2027 ORDER BY start_date DESC

2026-01-08 11:19:38.017 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":377,"userId":33,"startDate":"2027-01-01","endDate":"2027-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2027-12-31)","expiryDate":"2027-12-31","createTime":"2026-01-08T11:01:43","deleted":0}]}
2026-01-08 11:19:41.621 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/33
2026-01-08 11:19:41.632 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:41.633 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:41.639 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:41.640 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:41.647 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/33
2026-01-08 11:19:41.649 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/user/33
2026-01-08 11:19:41.649 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:19:41.649 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33]
2026-01-08 11:19:41.649 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:19:41.650 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:19:41.659 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:19:41.659 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:19:41.660 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":33,"username":"zhangningbo","password":null,"realName":"张宁博","employeeNumber":"CBJ-104","firstWorkDate":"2018-07-01","entryDate":"2022-06-21","socialSeniority":7,"roleId":2,"dingtalkUserId":"01525237116824149785","status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:56","updateTime":"2026-01-07T08:29:59","deleted":0}}
2026-01-08 11:19:42.738 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=33&year=2026
2026-01-08 11:19:42.750 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=33&year=2026
2026-01-08 11:19:42.750 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:42.750 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:42.757 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:42.757 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:42.757 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:42.757 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:42.761 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=33&year=2026
2026-01-08 11:19:42.762 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:42.762 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/account
2026-01-08 11:19:42.762 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-08 11:19:42.762 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:19:42.762 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:42.762 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:19:42.763 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:19:42.766 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=33&year=2026
2026-01-08 11:19:42.767 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/history
2026-01-08 11:19:42.767 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:19:42.767 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:19:42.768 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:42.768 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:42.771 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:19:42.771 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:19:42.771 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:19:42.771 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:42.773 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 2
2026-01-08 11:19:42.773 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:19:42.774 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}
2026-01-08 11:19:42.776 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:19:42.777 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2026 AND deleted = 0

2026-01-08 11:19:42.777 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 33 year 2026 based on today 2026-01-08
2026-01-08 11:19:42.777 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:42.777 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:42.781 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:19:42.781 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:19:42.781 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":288,"userId":33,"year":2026,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangningbo","realName":"张宁博","employeeNumber":"CBJ-104","entryDate":"2022-06-21","records":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}}
2026-01-08 11:19:42.795 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:19:42.801 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:42.802 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:42.809 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:42.809 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:42.817 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:19:42.817 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/available-years
2026-01-08 11:19:42.817 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:19:42.817 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:19:42.817 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:19:42.818 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:19:42.823 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-08 11:19:42.824 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:19:42.824 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2027,2026,2025]}
2026-01-08 11:19:52.189 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/33
2026-01-08 11:19:52.205 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:52.205 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:52.215 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:52.215 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:52.222 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/33
2026-01-08 11:19:52.223 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/user/33
2026-01-08 11:19:52.223 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:19:52.223 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33]
2026-01-08 11:19:52.224 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:19:52.224 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:19:52.230 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:19:52.230 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:19:52.231 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":33,"username":"zhangningbo","password":null,"realName":"张宁博","employeeNumber":"CBJ-104","firstWorkDate":"2018-07-01","entryDate":"2022-06-21","socialSeniority":7,"roleId":2,"dingtalkUserId":"01525237116824149785","status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:56","updateTime":"2026-01-07T08:29:59","deleted":0}}
2026-01-08 11:19:54.554 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=33&year=2026
2026-01-08 11:19:54.555 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=33&year=2026
2026-01-08 11:19:54.567 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:54.567 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:19:54.568 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:54.570 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:54.570 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:54.576 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:54.576 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:54.577 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:54.578 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:54.581 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:54.581 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=33&year=2026
2026-01-08 11:19:54.581 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:54.581 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=33&year=2026
2026-01-08 11:19:54.582 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/history
2026-01-08 11:19:54.582 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/account
2026-01-08 11:19:54.582 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:19:54.582 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-08 11:19:54.582 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:19:54.582 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:19:54.582 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:19:54.582 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:54.582 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:54.582 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:19:54.588 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 2
2026-01-08 11:19:54.588 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:19:54.588 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}
2026-01-08 11:19:54.589 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:19:54.589 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:19:54.589 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:54.589 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:54.589 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:19:54.589 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:54.591 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:19:54.591 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/available-years
2026-01-08 11:19:54.591 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:19:54.591 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:19:54.591 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:19:54.591 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:19:54.594 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:19:54.594 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2026 AND deleted = 0

2026-01-08 11:19:54.594 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 33 year 2026 based on today 2026-01-08
2026-01-08 11:19:54.594 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:54.595 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:19:54.595 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-08 11:19:54.595 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:19:54.595 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2027,2026,2025]}
2026-01-08 11:19:54.599 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:19:54.599 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:19:54.599 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":288,"userId":33,"year":2026,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangningbo","realName":"张宁博","employeeNumber":"CBJ-104","entryDate":"2022-06-21","records":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}}
2026-01-08 11:19:56.870 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=33&year=2025
2026-01-08 11:19:56.882 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:19:56.882 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:19:56.889 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:19:56.889 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:19:56.895 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=33&year=2025
2026-01-08 11:19:56.896 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/history
2026-01-08 11:19:56.896 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:19:56.896 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2025]
2026-01-08 11:19:56.896 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:19:56.897 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 33(Long), 2025(Integer)
2026-01-08 11:19:56.903 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 11
2026-01-08 11:19:56.903 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2025 ORDER BY start_date DESC

2026-01-08 11:19:56.904 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":195,"userId":33,"startDate":"2025-12-31","endDate":"2025-12-31","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":194,"userId":33,"startDate":"2025-12-25","endDate":"2025-12-25","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":193,"userId":33,"startDate":"2025-12-24","endDate":"2025-12-24","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自当年额度, 过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":192,"userId":33,"startDate":"2025-12-23","endDate":"2025-12-23","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":191,"userId":33,"startDate":"2025-12-22","endDate":"2025-12-22","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":190,"userId":33,"startDate":"2025-12-19","endDate":"2025-12-19","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":189,"userId":33,"startDate":"2025-12-18","endDate":"2025-12-18","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":188,"userId":33,"startDate":"2025-12-17","endDate":"2025-12-17","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":187,"userId":33,"startDate":"2025-12-16","endDate":"2025-12-16","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":186,"userId":33,"startDate":"2025-12-15","endDate":"2025-12-15","days":-1.0,"type":"ANNUAL","remarks":"员工请假 (来自结转额度, 过期: 2025-12-31)","expiryDate":"2025-12-31","createTime":"2026-01-08T10:45:54","deleted":0},{"id":183,"userId":33,"startDate":"2025-01-01","endDate":"2025-01-01","days":7.0,"type":"CARRY_OVER","remarks":"2024年年假结转 (系统同步)","expiryDate":"2025-12-31","createTime":"2025-01-01T00:00:01","deleted":0}]}
2026-01-08 11:20:04.630 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/33
2026-01-08 11:20:04.641 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:20:04.641 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:20:04.646 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:20:04.646 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:20:04.651 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/33
2026-01-08 11:20:04.651 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/user/33
2026-01-08 11:20:04.651 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:20:04.651 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33]
2026-01-08 11:20:04.652 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:20:04.652 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:20:04.659 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:20:04.659 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:20:04.659 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":33,"username":"zhangningbo","password":null,"realName":"张宁博","employeeNumber":"CBJ-104","firstWorkDate":"2018-07-01","entryDate":"2022-06-21","socialSeniority":7,"roleId":2,"dingtalkUserId":"01525237116824149785","status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:56","updateTime":"2026-01-07T08:29:59","deleted":0}}
2026-01-08 11:20:06.321 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=33&year=2026
2026-01-08 11:20:06.321 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=33&year=2026
2026-01-08 11:20:06.337 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:20:06.338 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:20:06.338 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:20:06.339 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:20:06.339 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:20:06.345 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:20:06.345 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:20:06.345 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:20:06.345 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:20:06.346 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:20:06.346 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:20:06.348 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=33&year=2026
2026-01-08 11:20:06.348 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=33&year=2026
2026-01-08 11:20:06.348 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/account
2026-01-08 11:20:06.348 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-08 11:20:06.348 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/history
2026-01-08 11:20:06.349 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:20:06.349 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:20:06.349 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [33, 2026]
2026-01-08 11:20:06.349 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:20:06.349 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 33(Long)
2026-01-08 11:20:06.349 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:20:06.350 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:20:06.350 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:20:06.350 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:20:06.352 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:20:06.352 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/leave/available-years
2026-01-08 11:20:06.353 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:20:06.353 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:20:06.353 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:20:06.353 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:20:06.354 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:20:06.354 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 33 AND deleted = 0

2026-01-08 11:20:06.354 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 2
2026-01-08 11:20:06.354 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:20:06.354 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:20:06.354 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:20:06.354 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}
2026-01-08 11:20:06.356 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-08 11:20:06.356 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:20:06.356 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2027,2026,2025]}
2026-01-08 11:20:06.358 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:20:06.358 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 33 AND year = 2026 AND deleted = 0

2026-01-08 11:20:06.359 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 33 year 2026 based on today 2026-01-08
2026-01-08 11:20:06.359 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:20:06.359 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 33(Long), 2026(Integer)
2026-01-08 11:20:06.364 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:20:06.364 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 33 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:20:06.365 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":288,"userId":33,"year":2026,"socialSeniority":7,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangningbo","realName":"张宁博","employeeNumber":"CBJ-104","entryDate":"2022-06-21","records":[{"id":342,"userId":33,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:16","deleted":0},{"id":309,"userId":33,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:05","deleted":0}]}}
2026-01-08 11:24:38.999 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/MyLeave---36RhSz.css
2026-01-08 11:24:38.999 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/MyLeave-CabasMHM.js
2026-01-08 11:24:39.005 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:39.005 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:39.007 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/MyLeave-CabasMHM.js
2026-01-08 11:24:39.007 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/MyLeave---36RhSz.css
2026-01-08 11:24:39.051 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=1&year=2026
2026-01-08 11:24:39.051 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=1&year=2026
2026-01-08 11:24:39.051 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:24:39.066 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:39.066 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:39.066 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:39.067 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:39.067 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:39.067 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:39.075 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:39.075 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:39.075 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:39.076 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:39.076 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:39.076 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:39.080 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:24:39.080 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=1&year=2026
2026-01-08 11:24:39.080 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=1&year=2026
2026-01-08 11:24:39.081 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/available-years
2026-01-08 11:24:39.081 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:24:39.081 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:24:39.081 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:24:39.082 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:24:39.082 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/history
2026-01-08 11:24:39.082 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:24:39.082 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/account
2026-01-08 11:24:39.082 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-08 11:24:39.082 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-08 11:24:39.082 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-08 11:24:39.083 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:39.083 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:24:39.083 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:39.083 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:24:39.087 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-08 11:24:39.087 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:24:39.087 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2027,2026,2025]}
2026-01-08 11:24:39.088 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:39.088 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:24:39.089 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:39.089 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:24:39.089 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 2
2026-01-08 11:24:39.090 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:39.090 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":314,"userId":1,"startDate":"2026-12-31","endDate":"2026-12-31","days":-3.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":279,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":3.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]}
2026-01-08 11:24:39.094 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:39.094 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:24:39.094 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:24:39.095 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:39.095 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:24:39.100 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:24:39.101 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:39.102 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":256,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":3.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":314,"userId":1,"startDate":"2026-12-31","endDate":"2026-12-31","days":-3.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":279,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":3.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]}}
2026-01-08 11:24:39.822 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/ManageLeave-C1SFdn-P.css
2026-01-08 11:24:39.822 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/ManageLeave-kf3F_Qhm.js
2026-01-08 11:24:39.823 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:39.823 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:39.824 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/ManageLeave-kf3F_Qhm.js
2026-01-08 11:24:39.824 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/ManageLeave-C1SFdn-P.css
2026-01-08 11:24:39.851 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:24:39.851 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:24:39.858 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:39.858 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:39.859 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:39.859 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:39.864 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:39.864 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:39.864 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:39.864 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:39.868 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:24:39.868 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:24:39.868 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/available-years
2026-01-08 11:24:39.869 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:24:39.869 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:24:39.869 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:24:39.869 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:24:39.871 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:24:39.871 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:24:39.871 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-08 11:24:39.873 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 3
2026-01-08 11:24:39.874 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:24:39.874 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2027,2026,2025]}
2026-01-08 11:24:39.904 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:24:39.904 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:24:39.910 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:24:39.910 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:24:39.911 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:24:39.911 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:24:39.916 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 10
2026-01-08 11:24:39.916 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:24:39.917 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:39.917 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:24:39.921 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:39.921 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:24:39.921 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:39.921 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:24:39.925 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:39.925 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:24:39.925 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:24:39.926 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:39.926 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:24:39.930 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:24:39.930 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:39.930 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:39.930 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 2(Long)
2026-01-08 11:24:39.934 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:39.934 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 2 AND deleted = 0

2026-01-08 11:24:39.934 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:39.935 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-08 11:24:39.938 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:39.938 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 2 AND year = 2026 AND deleted = 0

2026-01-08 11:24:39.939 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 2 year 2026 based on today 2026-01-08
2026-01-08 11:24:39.939 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:39.939 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 2(Long), 2026(Integer)
2026-01-08 11:24:39.943 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:24:39.943 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 2 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:39.943 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:39.944 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 3(Long)
2026-01-08 11:24:39.949 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:39.949 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 3 AND deleted = 0

2026-01-08 11:24:39.950 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:39.950 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-08 11:24:39.953 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:39.953 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 3 AND year = 2026 AND deleted = 0

2026-01-08 11:24:39.953 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 3 year 2026 based on today 2026-01-08
2026-01-08 11:24:39.954 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:39.954 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 3(Long), 2026(Integer)
2026-01-08 11:24:39.958 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:24:39.958 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 3 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:39.958 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:39.958 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 4(Long)
2026-01-08 11:24:39.965 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:39.965 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 4 AND deleted = 0

2026-01-08 11:24:39.965 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:39.965 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-08 11:24:39.970 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:39.970 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 4 AND year = 2026 AND deleted = 0

2026-01-08 11:24:39.970 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 4 year 2026 based on today 2026-01-08
2026-01-08 11:24:39.970 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:39.971 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 4(Long), 2026(Integer)
2026-01-08 11:24:39.975 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:24:39.975 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 4 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:39.975 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:39.975 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 5(Long)
2026-01-08 11:24:39.983 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:39.983 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 5 AND deleted = 0

2026-01-08 11:24:39.983 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:39.983 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-08 11:24:39.987 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:39.987 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 5 AND year = 2026 AND deleted = 0

2026-01-08 11:24:39.987 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 5 year 2026 based on today 2026-01-08
2026-01-08 11:24:39.987 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:39.987 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 5(Long), 2026(Integer)
2026-01-08 11:24:39.992 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:24:39.992 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 5 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:39.992 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:39.992 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 6(Long)
2026-01-08 11:24:39.996 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:39.996 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 6 AND deleted = 0

2026-01-08 11:24:39.996 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:39.996 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-08 11:24:40.000 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:40.000 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 6 AND year = 2026 AND deleted = 0

2026-01-08 11:24:40.000 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 6 year 2026 based on today 2026-01-08
2026-01-08 11:24:40.000 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:40.000 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 6(Long), 2026(Integer)
2026-01-08 11:24:40.005 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:24:40.005 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 6 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:40.005 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:40.005 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 7(Long)
2026-01-08 11:24:40.010 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:40.010 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 7 AND deleted = 0

2026-01-08 11:24:40.010 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:40.010 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-08 11:24:40.015 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:40.015 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 7 AND year = 2026 AND deleted = 0

2026-01-08 11:24:40.015 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 7 year 2026 based on today 2026-01-08
2026-01-08 11:24:40.015 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:40.015 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 7(Long), 2026(Integer)
2026-01-08 11:24:40.019 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 1
2026-01-08 11:24:40.019 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 7 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:40.020 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:40.020 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 8(Long)
2026-01-08 11:24:40.026 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:40.026 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 8 AND deleted = 0

2026-01-08 11:24:40.026 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:40.026 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-08 11:24:40.030 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:40.030 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 8 AND year = 2026 AND deleted = 0

2026-01-08 11:24:40.030 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 8 year 2026 based on today 2026-01-08
2026-01-08 11:24:40.031 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:40.031 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 8(Long), 2026(Integer)
2026-01-08 11:24:40.035 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:24:40.035 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 8 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:40.035 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:40.035 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 9(Long)
2026-01-08 11:24:40.039 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:40.039 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 9 AND deleted = 0

2026-01-08 11:24:40.039 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:40.039 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-08 11:24:40.044 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:40.044 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 9 AND year = 2026 AND deleted = 0

2026-01-08 11:24:40.044 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 9 year 2026 based on today 2026-01-08
2026-01-08 11:24:40.044 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:40.044 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 9(Long), 2026(Integer)
2026-01-08 11:24:40.049 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 2
2026-01-08 11:24:40.049 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 9 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:40.049 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:40.049 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 10(Long)
2026-01-08 11:24:40.054 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:40.054 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 10 AND deleted = 0

2026-01-08 11:24:40.054 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:24:40.054 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-08 11:24:40.059 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:24:40.059 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 10 AND year = 2026 AND deleted = 0

2026-01-08 11:24:40.059 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 10 year 2026 based on today 2026-01-08
2026-01-08 11:24:40.059 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:24:40.059 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 10(Long), 2026(Integer)
2026-01-08 11:24:40.064 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 3
2026-01-08 11:24:40.064 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 10 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:24:40.067 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":256,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":3.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[{"id":314,"userId":1,"startDate":"2026-12-31","endDate":"2026-12-31","days":-3.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":279,"userId":1,"startDate":"2026-01-01","endDate":"2026-01-01","days":3.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":257,"userId":2,"year":2026,"socialSeniority":20,"standardQuota":15.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"wangjianping","realName":"王建平","employeeNumber":"CBJ-001","entryDate":"2020-02-10","records":[{"id":315,"userId":2,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":280,"userId":2,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":258,"userId":3,"year":2026,"socialSeniority":18,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"wenyongguo","realName":"温永国","employeeNumber":"CBJ-003","entryDate":"2020-03-01","records":[{"id":316,"userId":3,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":281,"userId":3,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":259,"userId":4,"year":2026,"socialSeniority":17,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":10.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"xujunyi","realName":"徐君毅","employeeNumber":"CBJ-005","entryDate":"2020-03-16","records":[{"id":317,"userId":4,"startDate":"2026-12-31","endDate":"2026-12-31","days":-10.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":282,"userId":4,"startDate":"2026-01-01","endDate":"2026-01-01","days":10.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":260,"userId":5,"year":2026,"socialSeniority":8,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":2.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhanghao","realName":"张浩","employeeNumber":"CBJ-007","entryDate":"2020-04-01","records":[{"id":318,"userId":5,"startDate":"2026-12-31","endDate":"2026-12-31","days":-2.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":283,"userId":5,"startDate":"2026-01-01","endDate":"2026-01-01","days":2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":261,"userId":6,"year":2026,"socialSeniority":10,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"zhangjianxin","realName":"张建新","employeeNumber":"CBJ-009","entryDate":"2020-04-13","records":[]},{"id":262,"userId":7,"year":2026,"socialSeniority":9,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yuanwei","realName":"袁伟","employeeNumber":"CBJ-010","entryDate":"2020-04-27","records":[{"id":284,"userId":7,"startDate":"2026-01-01","endDate":"2026-01-01","days":0.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":263,"userId":8,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"yangpanqiang","realName":"杨盼强","employeeNumber":"CBJ-011","entryDate":"2020-04-27","records":[]},{"id":264,"userId":9,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":12.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"xinghaibo","realName":"邢海博","employeeNumber":"CBJ-012","entryDate":"2020-06-22","records":[{"id":319,"userId":9,"startDate":"2026-12-31","endDate":"2026-12-31","days":-12.0,"type":"EXPIRED","remarks":"年假已过期自动清理 (到期日期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:01:15","deleted":0},{"id":285,"userId":9,"startDate":"2026-01-01","endDate":"2026-01-01","days":12.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:03","deleted":0}]},{"id":265,"userId":10,"year":2026,"socialSeniority":15,"standardQuota":10.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":-2.0,"currentYearUsed":3.0,"deleted":null,"totalBalance":1.0,"username":"jiayulong","realName":"贾玉龙","employeeNumber":"CBJ-014","entryDate":"2020-08-24","records":[{"id":313,"userId":10,"startDate":"2026-01-08","endDate":"2026-01-08","days":6.0,"type":"ADJUSTMENT_ADD","remarks":"","expiryDate":"2027-12-31","createTime":"2026-01-08T11:00:52","deleted":0},{"id":312,"userId":10,"startDate":"2026-01-08","endDate":"2026-01-08","days":-3.0,"type":"ANNUAL","remarks":" (额度透支)","expiryDate":null,"createTime":"2026-01-08T11:00:39","deleted":0},{"id":286,"userId":10,"startDate":"2026-01-01","endDate":"2026-01-01","days":-2.0,"type":"CARRY_OVER","remarks":"上年结余年假结转 (过期: 2026-12-31)","expiryDate":"2026-12-31","createTime":"2026-01-08T11:00:04","deleted":0}]}],"total":35,"size":10,"current":1,"pages":4}}
2026-01-08 11:24:41.646 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/User-0cp9PUTM.css
2026-01-08 11:24:41.646 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/User-Bk5K4W7h.js
2026-01-08 11:24:41.647 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:41.647 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:41.648 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/User-0cp9PUTM.css
2026-01-08 11:24:41.648 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/User-Bk5K4W7h.js
2026-01-08 11:24:41.682 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/list?current=1&size=10
2026-01-08 11:24:41.682 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:24:41.690 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:41.690 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:41.690 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:41.690 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:41.695 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:41.695 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:41.695 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:41.696 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:41.698 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/list?current=1&size=10
2026-01-08 11:24:41.699 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:24:41.699 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/list
2026-01-08 11:24:41.699 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:24:41.699 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.list
2026-01-08 11:24:41.699 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:24:41.699 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 10]
2026-01-08 11:24:41.699 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:24:41.700 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:24:41.700 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:24:41.700 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE deleted = 0
2026-01-08 11:24:41.701 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:24:41.706 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - <==      Total: 1
2026-01-08 11:24:41.706 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:24:41.706 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:24:41.706 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:24:41.706 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:24:41.706 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:24:41.707 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:24:41.711 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - <==      Total: 10
2026-01-08 11:24:41.711 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:24:41.713 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":1,"username":"admin","password":"$2b$12$sDUO0pQ/tZBzMgNQWqVhwujpMkIWLuV97C/Gmb2Fi7GqoWQcXqXlu","realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0},{"id":2,"username":"wangjianping","password":"$2a$10$QIkV.nGgFbWWA8LELUsLo.EAdu6GesyOzL9XdcPZMPCIyLrbAax1m","realName":"王建平","employeeNumber":"CBJ-001","firstWorkDate":"2005-09-01","entryDate":"2020-02-10","socialSeniority":20,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:51","updateTime":"2026-01-08T10:29:44","deleted":0},{"id":3,"username":"wenyongguo","password":"$2a$10$7Ispf3lpXTq.fxNvTfh8Ke87f9zhzJN6y/F2OExEyuHsDJ0ADGT3i","realName":"温永国","employeeNumber":"CBJ-003","firstWorkDate":"2007-11-01","entryDate":"2020-03-01","socialSeniority":18,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:51","updateTime":"2026-01-07T08:29:54","deleted":0},{"id":4,"username":"xujunyi","password":"$2a$10$mh1R4XStbJO9sfBY5IWMDO3g7gs0zgPwj7m6BQRYq1yQ9rv1Bc54G","realName":"徐君毅","employeeNumber":"CBJ-005","firstWorkDate":"2008-07-01","entryDate":"2020-03-16","socialSeniority":17,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:51","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":5,"username":"zhanghao","password":"$2a$10$iIk3pepY3MC/wtpgzIN3fOi2TcOyGycu4l8Iu8fM5rroLnyf1ApCW","realName":"张浩","employeeNumber":"CBJ-007","firstWorkDate":"2017-08-01","entryDate":"2020-04-01","socialSeniority":8,"roleId":2,"dingtalkUserId":"2865622217540402722","status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":6,"username":"zhangjianxin","password":"$2a$10$dRXzkFkhUqsL1uPD3Y/Z5uaiOgOBZf/xk6fzg1qGWbjehzTKpI7n2","realName":"张建新","employeeNumber":"CBJ-009","firstWorkDate":"2015-10-07","entryDate":"2020-04-13","socialSeniority":10,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":7,"username":"yuanwei","password":"$2a$10$BMexDNGXBusOgGTTm1w5V.JAED5Ry67W4p9yAfcN7vDQlXnm2r2kq","realName":"袁伟","employeeNumber":"CBJ-010","firstWorkDate":"2016-06-01","entryDate":"2020-04-27","socialSeniority":9,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":8,"username":"yangpanqiang","password":"$2a$10$NteJjtUu2SFtA91aeib.UOLwaLdCjPaAU6rOpqQqf.Ct.DyD0Ar3.","realName":"杨盼强","employeeNumber":"CBJ-011","firstWorkDate":"2010-10-08","entryDate":"2020-04-27","socialSeniority":15,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":9,"username":"xinghaibo","password":"$2a$10$TfeDAdZgf4/Gz4Zeha8OCOjuppc9F3TK8mC37RzWb0FKwIKk5RBUe","realName":"邢海博","employeeNumber":"CBJ-012","firstWorkDate":"2010-07-01","entryDate":"2020-06-22","socialSeniority":15,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0},{"id":10,"username":"jiayulong","password":"$2a$10$NSbxnsoV2prCdPdv3pEFZ.90nQJE8Z4nhVALBDfRbfKJsXD2KTYmW","realName":"贾玉龙","employeeNumber":"CBJ-014","firstWorkDate":"2010-09-01","entryDate":"2020-08-24","socialSeniority":15,"roleId":2,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T16:29:52","updateTime":"2026-01-07T08:29:55","deleted":0}],"total":35,"size":10,"current":1,"pages":4}}
2026-01-08 11:24:42.218 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Role-BkldY2pb.js
2026-01-08 11:24:42.218 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Role-EKHOA0Mi.css
2026-01-08 11:24:42.219 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:42.220 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:42.221 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Role-BkldY2pb.js
2026-01-08 11:24:42.221 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Role-EKHOA0Mi.css
2026-01-08 11:24:42.252 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:24:42.253 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:24:42.262 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:42.262 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:42.262 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:42.262 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:42.267 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:42.267 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:42.267 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:42.267 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:42.270 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:24:42.270 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:24:42.270 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:24:42.270 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:24:42.270 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:24:42.270 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:24:42.270 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:24:42.270 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:24:42.270 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:24:42.270 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:24:42.270 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:24:42.270 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:24:42.275 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:24:42.275 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:24:42.275 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:24:42.275 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:24:42.275 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:24:42.275 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:24:42.770 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Menu-C6gTQSrN.css
2026-01-08 11:24:42.770 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Menu-Bwl73dr4.js
2026-01-08 11:24:42.771 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:42.771 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:24:42.772 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Menu-Bwl73dr4.js
2026-01-08 11:24:42.772 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Menu-C6gTQSrN.css
2026-01-08 11:24:42.797 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:24:42.806 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:42.807 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:42.813 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:42.813 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:42.819 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:24:42.820 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:24:42.820 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:24:42.820 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:24:42.820 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:24:42.821 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:24:42.828 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:24:42.828 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:24:42.829 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:24:44.238 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/1
2026-01-08 11:24:44.247 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:44.248 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:44.254 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:44.255 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:44.260 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/1
2026-01-08 11:24:44.266 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/1
2026-01-08 11:24:44.266 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:24:44.268 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:24:44.269 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:24:44.272 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:24:44.282 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:24:44.282 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:24:44.282 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"username":"admin","password":null,"realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}}
2026-01-08 11:24:47.772 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:24:47.774 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:24:47.780 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:47.780 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:24:47.780 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:47.780 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:24:47.786 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:47.786 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:24:47.786 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:47.786 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:24:47.790 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:24:47.790 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:24:47.791 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:24:47.791 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:24:47.791 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:24:47.791 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:24:47.791 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:24:47.791 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:24:47.791 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:24:47.791 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:24:47.791 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:24:47.792 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:24:47.798 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:24:47.799 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:24:47.799 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:24:47.799 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:24:47.799 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:24:47.799 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:26:57.272 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 11:26:57.279 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:26:57.281 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 11:26:57.287 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:26:57.289 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:26:57.355 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:26:57.355 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:26:57.356 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:26:57.356 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:26:57.356 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:26:57.356 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:26:57.589 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Role-BkldY2pb.js
2026-01-08 11:26:57.589 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Role-EKHOA0Mi.css
2026-01-08 11:26:57.589 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:26:57.589 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:26:57.590 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Role-BkldY2pb.js
2026-01-08 11:26:57.590 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Role-EKHOA0Mi.css
2026-01-08 11:26:57.648 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:26:57.649 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 11:26:57.648 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:26:57.665 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /favicon.svg
2026-01-08 11:26:57.665 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:26:57.666 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /favicon.svg
2026-01-08 11:26:57.669 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:26:57.670 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:26:57.670 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:26:57.670 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:26:57.671 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:26:57.671 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:26:57.677 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:26:57.676 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:26:57.677 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:26:57.677 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:26:57.676 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:26:57.677 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:26:57.681 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 11:26:57.681 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:26:57.683 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/user-menus
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:26:57.683 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 11:26:57.683 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:26:57.683 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:26:57.683 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:26:57.683 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:26:57.684 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:26:57.684 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:26:57.684 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:26:57.692 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:26:57.692 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:26:57.692 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:26:57.692 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:26:57.692 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:26:57.692 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:26:57.694 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:26:57.694 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 11:26:57.698 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:26:57.698 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:26:57.699 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 11:26:57.699 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 11:26:57.700 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:26:57.701 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 11:26:57.706 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 11:26:57.706 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 11:26:57.706 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:26:58.943 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-DaUiO-Ug.css
2026-01-08 11:26:58.943 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-BYV5VKJr.js
2026-01-08 11:26:58.944 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:26:58.944 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:26:58.946 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-DaUiO-Ug.css
2026-01-08 11:26:58.946 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-BYV5VKJr.js
2026-01-08 11:26:58.985 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /job/list
2026-01-08 11:26:58.998 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:26:58.999 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:26:59.007 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:26:59.008 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:26:59.014 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /job/list
2026-01-08 11:26:59.021 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/job/list
2026-01-08 11:26:59.022 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.listJobs
2026-01-08 11:26:59.022 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:26:59.022 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-08 11:26:59.022 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-08 11:26:59.031 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-08 11:26:59.031 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-08 11:26:59.033 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"jobName":"钉钉数据同步","jobGroup":"DEFAULT","invokeTarget":"dingTalkService.syncLeaveData()","cronExpression":"0 0 10 ? * MON","status":0,"remark":"每周一上午10点自动从钉钉同步年假数据。从钉钉考勤系统拉取请假记录并更新到本地数据库。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T06:54:03","deleted":0},{"id":2,"jobName":"年假过期清理","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.cleanupExpiredLeaveBalances()","cronExpression":"0 0 1 1 1 ?","status":0,"remark":"每年1月1日凌晨1点自动清理已过期的年假余额（上年结转额度）。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T06:54:03","deleted":0},{"id":3,"jobName":"年假账户批量初始化","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.initAllAccounts()","cronExpression":"0 0 3 1 1 ?","status":0,"remark":"每年1月1日凌晨3点批量初始化所有员工的新年度账户（含结转计算）。注意：需手动更新年份参数！默认暂停状态。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T14:54:54","deleted":0}]}
2026-01-08 11:27:09.143 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Menu-Bwl73dr4.js
2026-01-08 11:27:09.143 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Menu-C6gTQSrN.css
2026-01-08 11:27:09.143 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:09.143 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:09.144 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Menu-Bwl73dr4.js
2026-01-08 11:27:09.144 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Menu-C6gTQSrN.css
2026-01-08 11:27:09.166 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:27:09.177 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:09.178 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:09.183 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:09.183 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:09.186 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:27:09.186 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:27:09.186 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:27:09.186 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:09.186 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:27:09.186 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:27:09.191 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:27:09.192 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:27:09.192 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:27:10.083 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:27:10.083 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:27:10.090 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:10.090 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:10.091 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:10.091 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:10.096 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:10.096 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:10.099 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:10.099 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:10.101 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:27:10.102 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:27:10.102 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:27:10.102 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:10.102 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:27:10.102 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:27:10.107 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:27:10.107 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:27:10.107 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:27:10.107 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:10.108 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:27:10.108 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:27:10.116 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:27:10.117 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:27:10.117 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:27:10.117 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:27:10.118 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:27:10.118 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:27:10.718 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/User-0cp9PUTM.css
2026-01-08 11:27:10.718 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/User-Bk5K4W7h.js
2026-01-08 11:27:10.719 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:10.719 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:10.720 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/User-0cp9PUTM.css
2026-01-08 11:27:10.720 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/User-Bk5K4W7h.js
2026-01-08 11:27:10.738 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/list?current=1&size=10
2026-01-08 11:27:10.740 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:27:10.744 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:10.745 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:10.745 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:10.745 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:10.751 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:10.751 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:10.752 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:10.752 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:10.755 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/list?current=1&size=10
2026-01-08 11:27:10.755 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:27:10.755 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:27:10.756 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:27:10.756 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:10.756 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/list
2026-01-08 11:27:10.756 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:27:10.756 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.list
2026-01-08 11:27:10.756 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 10]
2026-01-08 11:27:10.756 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:27:10.758 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE deleted = 0
2026-01-08 11:27:10.758 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:27:10.761 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:27:10.761 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:27:10.762 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:27:10.764 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - <==      Total: 1
2026-01-08 11:27:10.764 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:27:10.765 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:27:10.765 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:27:10.771 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - <==      Total: 1
2026-01-08 11:27:10.771 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:27:10.771 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":1,"username":"admin","password":"$2b$12$sDUO0pQ/tZBzMgNQWqVhwujpMkIWLuV97C/Gmb2Fi7GqoWQcXqXlu","realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}],"total":1,"size":10,"current":1,"pages":1}}
2026-01-08 11:27:14.664 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/MyLeave-CabasMHM.js
2026-01-08 11:27:14.664 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/MyLeave---36RhSz.css
2026-01-08 11:27:14.666 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:14.666 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:14.667 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/MyLeave---36RhSz.css
2026-01-08 11:27:14.667 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/MyLeave-CabasMHM.js
2026-01-08 11:27:14.697 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=1&year=2026
2026-01-08 11:27:14.697 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:27:14.698 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=1&year=2026
2026-01-08 11:27:14.705 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:14.705 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:14.705 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:14.706 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:14.706 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:14.706 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:14.714 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:14.714 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:14.714 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:14.714 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:14.715 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:14.714 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:14.724 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=1&year=2026
2026-01-08 11:27:14.724 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:27:14.725 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/history
2026-01-08 11:27:14.725 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:27:14.726 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-08 11:27:14.725 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/available-years
2026-01-08 11:27:14.726 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:27:14.726 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:14.726 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=1&year=2026
2026-01-08 11:27:14.727 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:27:14.727 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/account
2026-01-08 11:27:14.727 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-08 11:27:14.727 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-08 11:27:14.727 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:27:14.727 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:27:14.727 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:14.727 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:27:14.728 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:27:14.732 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 0
2026-01-08 11:27:14.732 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 1
2026-01-08 11:27:14.732 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:27:14.733 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:27:14.733 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2026]}
2026-01-08 11:27:14.733 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:27:14.733 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:27:14.733 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[]}
2026-01-08 11:27:14.734 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:27:14.734 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:14.742 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:27:14.742 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:27:14.742 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:27:14.745 DEBUG c.l.system.mapper.LeaveAccountMapper.updateAccount - ==>  Preparing: UPDATE leave_account SET user_id = ?, year = ?, social_seniority = ?, standard_quota = ?, days_employed = ?, actual_quota = ?, last_year_balance = ?, current_year_used = ?, deleted = ? WHERE id = ?
2026-01-08 11:27:14.746 DEBUG c.l.system.mapper.LeaveAccountMapper.updateAccount - ==> Parameters: 1(Long), 2026(Integer), 6(Integer), 5.0(BigDecimal), 8(Integer), 0.0(BigDecimal), 0.0(BigDecimal), 0.0(BigDecimal), 0(Integer), 1(Long)
2026-01-08 11:27:14.754 DEBUG c.l.system.mapper.LeaveAccountMapper.updateAccount - <==    Updates: 1
2026-01-08 11:27:14.755 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.updateAccount
SQL         : UPDATE leave_account SET user_id = 1, year = 2026, social_seniority = 6, standard_quota = 5.0, days_employed = 8, actual_quota = 0.0, last_year_balance = 0.0, current_year_used = 0.0, deleted = 0 WHERE id = 1

2026-01-08 11:27:14.755 INFO  com.leave.system.service.impl.LeaveServiceImpl - ✅ Refreshed dynamic quota for user 1: employed=8 days, quota=0.0
2026-01-08 11:27:14.755 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:27:14.755 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:14.759 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:27:14.759 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:27:14.759 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[]}}
2026-01-08 11:27:15.420 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/ManageLeave-kf3F_Qhm.js
2026-01-08 11:27:15.420 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/ManageLeave-C1SFdn-P.css
2026-01-08 11:27:15.421 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:15.421 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:15.422 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/ManageLeave-C1SFdn-P.css
2026-01-08 11:27:15.422 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/ManageLeave-kf3F_Qhm.js
2026-01-08 11:27:15.448 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:27:15.448 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:27:15.462 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:15.462 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:15.462 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:15.462 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:15.468 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:15.468 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:15.472 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:15.472 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:15.475 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:27:15.475 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:27:15.476 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/available-years
2026-01-08 11:27:15.476 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:27:15.476 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:15.476 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:27:15.476 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:27:15.476 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-08 11:27:15.477 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:27:15.477 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:27:15.479 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:27:15.480 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:27:15.483 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 1
2026-01-08 11:27:15.483 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:27:15.483 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2026]}
2026-01-08 11:27:15.485 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:27:15.486 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:27:15.486 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:27:15.486 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:27:15.490 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 1
2026-01-08 11:27:15.490 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:27:15.490 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:27:15.491 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:27:15.497 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:27:15.497 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:27:15.498 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:27:15.498 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:15.507 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:27:15.507 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:27:15.507 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:27:15.507 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:27:15.508 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:15.514 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:27:15.514 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:27:15.514 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":1,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[]}],"total":1,"size":10,"current":1,"pages":1}}
2026-01-08 11:27:18.277 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/list?current=1&size=10
2026-01-08 11:27:18.277 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:27:18.288 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:18.288 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:18.289 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:18.289 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:18.295 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:18.295 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:18.296 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:18.296 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:18.301 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:27:18.301 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:27:18.301 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:27:18.302 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:18.301 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/list?current=1&size=10
2026-01-08 11:27:18.302 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:27:18.302 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:27:18.303 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/list
2026-01-08 11:27:18.303 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.list
2026-01-08 11:27:18.303 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 10]
2026-01-08 11:27:18.306 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE deleted = 0
2026-01-08 11:27:18.306 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:27:18.308 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:27:18.308 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:27:18.309 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:27:18.311 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - <==      Total: 1
2026-01-08 11:27:18.311 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:27:18.312 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:27:18.312 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:27:18.316 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - <==      Total: 1
2026-01-08 11:27:18.317 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:27:18.317 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":1,"username":"admin","password":"$2b$12$sDUO0pQ/tZBzMgNQWqVhwujpMkIWLuV97C/Gmb2Fi7GqoWQcXqXlu","realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}],"total":1,"size":10,"current":1,"pages":1}}
2026-01-08 11:27:18.928 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:27:18.928 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:27:18.934 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:18.934 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:18.935 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:18.935 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:18.940 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:18.941 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:18.941 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:18.942 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:18.951 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:27:18.953 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:27:18.954 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:27:18.955 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:27:18.955 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:18.955 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:27:18.956 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:27:18.956 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:18.956 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:27:18.956 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:27:18.957 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:27:18.957 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:27:18.964 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:27:18.964 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:27:18.965 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:27:18.966 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:27:18.966 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:27:18.966 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:27:20.255 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/2/menus
2026-01-08 11:27:20.264 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:20.264 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:20.273 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:20.273 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:20.279 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/2/menus
2026-01-08 11:27:20.282 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/2/menus
2026-01-08 11:27:20.282 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.getRoleMenus
2026-01-08 11:27:20.282 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2]
2026-01-08 11:27:20.283 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:27:20.283 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 2(Long)
2026-01-08 11:27:20.288 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 3
2026-01-08 11:27:20.289 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 2

2026-01-08 11:27:20.289 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[1,2,5]}
2026-01-08 11:27:23.259 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /job/list
2026-01-08 11:27:23.268 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:23.269 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:23.273 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:23.273 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:23.276 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /job/list
2026-01-08 11:27:23.276 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/job/list
2026-01-08 11:27:23.276 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.listJobs
2026-01-08 11:27:23.276 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:23.277 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-08 11:27:23.277 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-08 11:27:23.284 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-08 11:27:23.285 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-08 11:27:23.285 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"jobName":"钉钉数据同步","jobGroup":"DEFAULT","invokeTarget":"dingTalkService.syncLeaveData()","cronExpression":"0 0 10 ? * MON","status":0,"remark":"每周一上午10点自动从钉钉同步年假数据。从钉钉考勤系统拉取请假记录并更新到本地数据库。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T06:54:03","deleted":0},{"id":2,"jobName":"年假过期清理","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.cleanupExpiredLeaveBalances()","cronExpression":"0 0 1 1 1 ?","status":0,"remark":"每年1月1日凌晨1点自动清理已过期的年假余额（上年结转额度）。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T06:54:03","deleted":0},{"id":3,"jobName":"年假账户批量初始化","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.initAllAccounts()","cronExpression":"0 0 3 1 1 ?","status":0,"remark":"每年1月1日凌晨3点批量初始化所有员工的新年度账户（含结转计算）。注意：需手动更新年份参数！默认暂停状态。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T14:54:54","deleted":0}]}
2026-01-08 11:27:24.048 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:27:24.048 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/account?userId=1&year=2026
2026-01-08 11:27:24.048 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/history?userId=1&year=2026
2026-01-08 11:27:24.055 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:24.055 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:24.055 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:24.056 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:24.056 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:24.056 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:24.061 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:24.062 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:24.061 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:24.061 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:24.062 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:24.062 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:24.066 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/history?userId=1&year=2026
2026-01-08 11:27:24.066 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/account?userId=1&year=2026
2026-01-08 11:27:24.066 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/available-years
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/history
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getHistory
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/account
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAccount
2026-01-08 11:27:24.066 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 2026]
2026-01-08 11:27:24.066 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:27:24.067 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:27:24.067 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:27:24.067 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:27:24.067 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:27:24.067 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:24.072 DEBUG c.l.system.mapper.LeaveRecordMapper.selectHistory - <==      Total: 0
2026-01-08 11:27:24.072 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:27:24.073 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:27:24.073 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 1
2026-01-08 11:27:24.073 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:27:24.073 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2026]}
2026-01-08 11:27:24.073 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectHistory
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:27:24.073 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:27:24.073 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[]}
2026-01-08 11:27:24.074 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:24.080 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:27:24.080 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:27:24.080 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:27:24.080 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:27:24.081 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:24.085 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:27:24.085 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:27:24.086 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[]}}
2026-01-08 11:27:24.674 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/available-years
2026-01-08 11:27:24.674 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:27:24.682 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:24.682 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:24.682 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:24.682 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:24.692 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:24.692 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:24.693 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:24.693 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:24.704 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/list?year=2026&current=1&size=10
2026-01-08 11:27:24.705 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /leave/available-years
2026-01-08 11:27:24.705 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/list
2026-01-08 11:27:24.705 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.list
2026-01-08 11:27:24.705 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [2026, 1, 10]
2026-01-08 11:27:24.705 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/leave/available-years
2026-01-08 11:27:24.706 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.LeaveController.getAvailableYears
2026-01-08 11:27:24.706 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:24.706 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==>  Preparing: SELECT DISTINCT year FROM leave_account ORDER BY year DESC
2026-01-08 11:27:24.706 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - ==> Parameters: 
2026-01-08 11:27:24.709 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0
2026-01-08 11:27:24.710 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:27:24.713 DEBUG c.l.s.m.LeaveAccountMapper.selectDistinctYears - <==      Total: 1
2026-01-08 11:27:24.713 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectDistinctYears
SQL         : SELECT DISTINCT year FROM leave_account ORDER BY year DESC

2026-01-08 11:27:24.713 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[2026]}
2026-01-08 11:27:24.715 DEBUG c.l.s.m.S.selectActiveUsersPage_mpCount - <==      Total: 1
2026-01-08 11:27:24.715 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:27:24.716 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:27:24.716 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:27:24.724 DEBUG c.l.s.mapper.SysUserMapper.selectActiveUsersPage - <==      Total: 1
2026-01-08 11:27:24.724 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectActiveUsersPage
SQL         : SELECT * FROM sys_user WHERE (status != 'RESIGNED' OR status IS NULL) AND deleted = 0 ORDER BY id ASC

2026-01-08 11:27:24.724 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:27:24.725 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:27:24.729 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:27:24.729 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:27:24.729 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==>  Preparing: SELECT * FROM leave_account WHERE user_id = ? AND year = ? AND deleted = 0
2026-01-08 11:27:24.729 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:24.733 DEBUG c.l.s.m.L.selectAccountByUserIdAndYear - <==      Total: 1
2026-01-08 11:27:24.733 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveAccountMapper.selectAccountByUserIdAndYear
SQL         : SELECT * FROM leave_account WHERE user_id = 1 AND year = 2026 AND deleted = 0

2026-01-08 11:27:24.733 DEBUG com.leave.system.service.impl.LeaveServiceImpl - 🔄 Refreshing account for user 1 year 2026 based on today 2026-01-08
2026-01-08 11:27:24.734 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==>  Preparing: SELECT * FROM leave_record WHERE user_id = ? AND YEAR(start_date) = ? ORDER BY start_date DESC
2026-01-08 11:27:24.734 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - ==> Parameters: 1(Long), 2026(Integer)
2026-01-08 11:27:24.739 DEBUG c.l.s.mapper.LeaveRecordMapper.selectRecordsByYear - <==      Total: 0
2026-01-08 11:27:24.739 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.LeaveRecordMapper.selectRecordsByYear
SQL         : SELECT * FROM leave_record WHERE user_id = 1 AND YEAR(start_date) = 2026 ORDER BY start_date DESC

2026-01-08 11:27:24.740 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":1,"userId":1,"year":2026,"socialSeniority":6,"standardQuota":5.0,"daysEmployed":8,"actualQuota":0.0,"lastYearBalance":0.0,"currentYearUsed":0,"deleted":null,"totalBalance":0.0,"username":"admin","realName":"系统管理员","employeeNumber":"ADMIN001","entryDate":"2020-01-01","records":[]}],"total":1,"size":10,"current":1,"pages":1}}
2026-01-08 11:27:25.256 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-GGIENcfT.js
2026-01-08 11:27:25.256 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-ChGYV_At.css
2026-01-08 11:27:25.257 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:25.257 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:27:25.258 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-GGIENcfT.js
2026-01-08 11:27:25.258 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-ChGYV_At.css
2026-01-08 11:27:25.285 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/1
2026-01-08 11:27:25.295 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:25.295 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:25.301 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:25.302 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:25.306 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/1
2026-01-08 11:27:25.307 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/1
2026-01-08 11:27:25.307 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:27:25.307 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:27:25.307 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:27:25.308 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:27:25.313 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:27:25.313 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:27:25.313 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"username":"admin","password":null,"realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}}
2026-01-08 11:27:29.159 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /job/list
2026-01-08 11:27:29.166 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:29.166 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:29.172 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:29.172 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:29.175 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /job/list
2026-01-08 11:27:29.176 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/job/list
2026-01-08 11:27:29.176 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.JobController.listJobs
2026-01-08 11:27:29.176 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:29.176 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==>  Preparing: SELECT * FROM sys_job
2026-01-08 11:27:29.176 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - ==> Parameters: 
2026-01-08 11:27:29.181 DEBUG c.leave.system.mapper.SysJobMapper.selectAllJobs - <==      Total: 3
2026-01-08 11:27:29.181 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysJobMapper.selectAllJobs
SQL         : SELECT * FROM sys_job

2026-01-08 11:27:29.181 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"jobName":"钉钉数据同步","jobGroup":"DEFAULT","invokeTarget":"dingTalkService.syncLeaveData()","cronExpression":"0 0 10 ? * MON","status":0,"remark":"每周一上午10点自动从钉钉同步年假数据。从钉钉考勤系统拉取请假记录并更新到本地数据库。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T06:54:03","deleted":0},{"id":2,"jobName":"年假过期清理","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.cleanupExpiredLeaveBalances()","cronExpression":"0 0 1 1 1 ?","status":0,"remark":"每年1月1日凌晨1点自动清理已过期的年假余额（上年结转额度）。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T06:54:03","deleted":0},{"id":3,"jobName":"年假账户批量初始化","jobGroup":"DEFAULT","invokeTarget":"scheduledTasks.initAllAccounts()","cronExpression":"0 0 3 1 1 ?","status":0,"remark":"每年1月1日凌晨3点批量初始化所有员工的新年度账户（含结转计算）。注意：需手动更新年份参数！默认暂停状态。","createTime":"2026-01-07T06:54:03","updateTime":"2026-01-07T14:54:54","deleted":0}]}
2026-01-08 11:27:29.679 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:27:29.688 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:29.689 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:29.697 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:29.700 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:29.710 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:27:29.711 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:27:29.711 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:27:29.711 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:29.713 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:27:29.714 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:27:29.726 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:27:29.727 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:27:29.727 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:27:30.122 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/list
2026-01-08 11:27:30.122 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:27:30.129 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:30.129 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:30.130 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:30.130 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:30.135 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:30.135 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:30.136 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:30.136 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:30.139 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:27:30.139 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/list
2026-01-08 11:27:30.140 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:27:30.140 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/list
2026-01-08 11:27:30.140 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.list
2026-01-08 11:27:30.140 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:27:30.140 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:30.140 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:30.140 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==>  Preparing: SELECT * FROM sys_menu ORDER BY parent_id, order_num, id
2026-01-08 11:27:30.140 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:27:30.140 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - ==> Parameters: 
2026-01-08 11:27:30.140 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:27:30.145 DEBUG c.leave.system.mapper.SysMenuMapper.selectAllMenus - <==      Total: 10
2026-01-08 11:27:30.145 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:27:30.146 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:27:30.146 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectAllMenus
SQL         : SELECT * FROM sys_menu ORDER BY parent_id, order_num, id

2026-01-08 11:27:30.146 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:27:30.146 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:27:30.557 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/list?current=1&size=10
2026-01-08 11:27:30.557 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/role/list
2026-01-08 11:27:30.559 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:30.560 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:30.567 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:30.568 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:30.568 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:30.568 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:30.572 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/role/list
2026-01-08 11:27:30.572 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/role/list
2026-01-08 11:27:30.572 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.RoleController.list
2026-01-08 11:27:30.572 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:27:30.573 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==>  Preparing: SELECT * FROM sys_role WHERE deleted = 0
2026-01-08 11:27:30.573 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - ==> Parameters: 
2026-01-08 11:27:30.575 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:30.575 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:30.577 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/list?current=1&size=10
2026-01-08 11:27:30.578 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/list
2026-01-08 11:27:30.578 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.list
2026-01-08 11:27:30.578 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1, 10]
2026-01-08 11:27:30.580 DEBUG c.l.system.mapper.SysRoleMapper.selectActiveRoles - <==      Total: 2
2026-01-08 11:27:30.580 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysRoleMapper.selectActiveRoles
SQL         : SELECT * FROM sys_role WHERE deleted = 0

2026-01-08 11:27:30.580 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"roleName":"系统管理员","roleKey":"ROLE_ADMIN","description":"拥有系统所有权限","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T06:53:33","deleted":0,"menuIds":null},{"id":2,"roleName":"普通员工","roleKey":"ROLE_USER","description":"只能查看和管理自己的年假","createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:44","deleted":0,"menuIds":null}]}
2026-01-08 11:27:30.581 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==>  Preparing: SELECT COUNT(*) AS total FROM sys_user WHERE deleted = 0
2026-01-08 11:27:30.581 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - ==> Parameters: 
2026-01-08 11:27:30.586 DEBUG c.l.s.m.SysUserMapper.selectAllUsersPage_mpCount - <==      Total: 1
2026-01-08 11:27:30.587 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage_mpCount
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:27:30.587 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==>  Preparing: SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC LIMIT ?
2026-01-08 11:27:30.588 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - ==> Parameters: 10(Long)
2026-01-08 11:27:30.594 DEBUG c.l.system.mapper.SysUserMapper.selectAllUsersPage - <==      Total: 1
2026-01-08 11:27:30.594 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectAllUsersPage
SQL         : SELECT * FROM sys_user WHERE deleted = 0 ORDER BY id ASC

2026-01-08 11:27:30.595 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"records":[{"id":1,"username":"admin","password":"$2b$12$sDUO0pQ/tZBzMgNQWqVhwujpMkIWLuV97C/Gmb2Fi7GqoWQcXqXlu","realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}],"total":1,"size":10,"current":1,"pages":1}}
2026-01-08 11:27:32.549 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/1
2026-01-08 11:27:32.557 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:27:32.557 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:27:32.562 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:27:32.563 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:27:32.569 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/1
2026-01-08 11:27:32.570 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/1
2026-01-08 11:27:32.571 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:27:32.571 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:27:32.572 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:27:32.572 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:27:32.578 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:27:32.579 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:27:32.579 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"username":"admin","password":null,"realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}}
2026-01-08 11:28:28.089 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 11:28:28.098 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:28.101 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 11:28:28.106 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:28:28.107 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:28:28.292 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:28:28.294 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:28.295 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:28:28.305 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:28:28.306 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:28.307 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:28:29.706 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-GGIENcfT.js
2026-01-08 11:28:29.707 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-ChGYV_At.css
2026-01-08 11:28:29.708 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:29.711 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:29.713 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-ChGYV_At.css
2026-01-08 11:28:29.714 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-GGIENcfT.js
2026-01-08 11:28:29.950 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=33
2026-01-08 11:28:29.950 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/33
2026-01-08 11:28:29.962 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:28:29.962 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:28:29.963 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:28:29.963 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: zhangningbo(String)
2026-01-08 11:28:29.968 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 0
2026-01-08 11:28:29.968 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 0
2026-01-08 11:28:29.969 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:28:29.969 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'zhangningbo' AND deleted = 0

2026-01-08 11:28:29.970 WARN  com.leave.system.security.JwtAuthenticationFilter - JWT parsing failed: User not found: zhangningbo
2026-01-08 11:28:29.970 WARN  com.leave.system.security.JwtAuthenticationFilter - JWT parsing failed: User not found: zhangningbo
2026-01-08 11:28:29.970 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:29.970 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:29.974 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error?userId=33
2026-01-08 11:28:29.975 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2026-01-08 11:28:29.975 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error?userId=33
2026-01-08 11:28:29.975 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2026-01-08 11:28:29.978 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/error
2026-01-08 11:28:29.978 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/error
2026-01-08 11:28:29.978 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.SpaErrorController.handleError
2026-01-08 11:28:29.978 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.SpaErrorController.handleError
2026-01-08 11:28:29.978 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:28:29.978 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:28:29.979 INFO  com.leave.system.aspect.WebLogAspect - Response     : "forward:/index.html"
2026-01-08 11:28:29.979 INFO  com.leave.system.aspect.WebLogAspect - Response     : "forward:/index.html"
2026-01-08 11:28:29.983 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:28:29.983 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html?userId=33
2026-01-08 11:28:29.984 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html?userId=33
2026-01-08 11:28:29.984 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:28:29.986 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:29.986 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:31.924 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /login
2026-01-08 11:28:31.925 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:31.928 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2026-01-08 11:28:31.929 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2026-01-08 11:28:31.929 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/error
2026-01-08 11:28:31.929 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.SpaErrorController.handleError
2026-01-08 11:28:31.929 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:28:31.931 INFO  com.leave.system.aspect.WebLogAspect - Response     : "forward:/index.html"
2026-01-08 11:28:31.932 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:28:31.933 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:28:31.935 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:32.132 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:28:32.133 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:32.133 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:28:32.136 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:28:32.136 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:32.137 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:28:33.007 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /auth/config/dingtalk
2026-01-08 11:28:33.007 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:33.009 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /auth/config/dingtalk
2026-01-08 11:28:33.010 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/auth/config/dingtalk
2026-01-08 11:28:33.011 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.getDingTalkConfig
2026-01-08 11:28:33.011 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:28:33.011 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"corpId":"ding7087a447c2e569cbf5bf40eda33b7ba0"}}
2026-01-08 11:28:33.495 DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/dingtalk/login
2026-01-08 11:28:33.497 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:28:33.498 DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/dingtalk/login
2026-01-08 11:28:33.509 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/auth/dingtalk/login
2026-01-08 11:28:33.510 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.dingtalkLogin
2026-01-08 11:28:33.510 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [{code=adda2c3c6cc537dbb13fbd9060a5e406}]
2026-01-08 11:28:33.510 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Exchanging authCode for DingTalk userid using App Config...
2026-01-08 11:28:34.565 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Successfully fetched DingTalk userid: 01525237116824149785
2026-01-08 11:28:34.574 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - ==>  Preparing: SELECT * FROM sys_user WHERE dingtalk_userid = ? AND deleted = 0
2026-01-08 11:28:34.574 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - ==> Parameters: 01525237116824149785(String)
2026-01-08 11:28:34.587 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - <==      Total: 0
2026-01-08 11:28:34.588 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByDingtalkUserId
SQL         : SELECT * FROM sys_user WHERE dingtalk_userid = '01525237116824149785' AND deleted = 0

2026-01-08 11:28:34.588 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":500,"message":"未找到此钉钉账号对应的系统用户","data":null}
2026-01-08 11:42:42.304 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 11:42:42.307 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:42:42.309 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 11:42:42.314 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:42:42.314 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:42:42.480 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:42:42.481 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:42:42.482 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:42:42.485 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:42:42.486 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:42:42.486 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:42:44.351 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /auth/config/dingtalk
2026-01-08 11:42:44.352 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:42:44.354 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /auth/config/dingtalk
2026-01-08 11:42:44.355 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/auth/config/dingtalk
2026-01-08 11:42:44.355 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.getDingTalkConfig
2026-01-08 11:42:44.355 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:42:44.357 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"corpId":"ding7087a447c2e569cbf5bf40eda33b7ba0"}}
2026-01-08 11:42:44.571 DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/dingtalk/login
2026-01-08 11:42:44.572 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:42:44.573 DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/dingtalk/login
2026-01-08 11:42:44.578 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/auth/dingtalk/login
2026-01-08 11:42:44.578 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.dingtalkLogin
2026-01-08 11:42:44.578 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [{code=cd3983b6dcb73250bb2ccab90cfb09b2}]
2026-01-08 11:42:44.578 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Exchanging authCode for DingTalk userid using App Config...
2026-01-08 11:42:44.736 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Successfully fetched DingTalk userid: 01525237116824149785
2026-01-08 11:42:44.741 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - ==>  Preparing: SELECT * FROM sys_user WHERE dingtalk_userid = ? AND deleted = 0
2026-01-08 11:42:44.742 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - ==> Parameters: 01525237116824149785(String)
2026-01-08 11:42:44.748 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - <==      Total: 0
2026-01-08 11:42:44.751 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByDingtalkUserId
SQL         : SELECT * FROM sys_user WHERE dingtalk_userid = '01525237116824149785' AND deleted = 0

2026-01-08 11:42:44.751 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":500,"message":"未找到此钉钉账号对应的系统用户","data":null}
2026-01-08 11:42:57.556 DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-08 11:42:57.559 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:42:57.559 DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-08 11:42:57.561 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/auth/login
2026-01-08 11:42:57.561 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.login
2026-01-08 11:42:57.561 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [AuthController.LoginRequest(username=admin, password=123456)]
2026-01-08 11:42:57.568 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:42:57.568 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:42:57.579 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:42:57.579 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:42:57.874 DEBUG o.s.s.authentication.dao.DaoAuthenticationProvider - Authenticated user
2026-01-08 11:42:57.877 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:42:57.877 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:42:57.884 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:42:57.884 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:42:57.884 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"登录成功","data":{"userId":1,"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2Nzg0Mzc3NywiZXhwIjoxNzY4NDQ4NTc3fQ.hFfq5S5h-q0hPOwxIAETJFLCIzaJG-5KKoQh1wgq9RE","username":"admin"}}
2026-01-08 11:42:58.057 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-ChGYV_At.css
2026-01-08 11:42:58.057 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-GGIENcfT.js
2026-01-08 11:42:58.057 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:42:58.057 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:42:58.058 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-GGIENcfT.js
2026-01-08 11:42:58.058 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-ChGYV_At.css
2026-01-08 11:42:58.283 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/1
2026-01-08 11:42:58.288 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:42:58.288 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 11:42:58.288 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:42:58.294 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:42:58.294 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:42:58.295 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:42:58.295 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:42:58.298 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/1
2026-01-08 11:42:58.299 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/user/1
2026-01-08 11:42:58.299 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:42:58.299 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:42:58.299 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:42:58.299 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:42:58.300 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:42:58.300 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:42:58.302 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 11:42:58.303 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/menu/user-menus
2026-01-08 11:42:58.303 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:42:58.303 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:42:58.303 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 11:42:58.303 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:42:58.303 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:42:58.303 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:42:58.304 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:42:58.304 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"username":"admin","password":null,"realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}}
2026-01-08 11:42:58.309 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:42:58.310 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:42:58.310 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:42:58.310 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 11:42:58.315 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 11:42:58.315 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 11:42:58.316 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:42:58.316 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 11:42:58.322 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 11:42:58.322 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 11:42:58.322 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:43:04.523 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 11:43:04.524 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:43:04.525 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 11:43:04.526 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 11:43:04.527 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 11:43:04.707 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 11:43:04.709 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:43:04.709 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 11:43:04.710 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 11:43:04.710 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:43:04.711 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 11:43:05.662 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-ChGYV_At.css
2026-01-08 11:43:05.662 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-GGIENcfT.js
2026-01-08 11:43:05.663 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:43:05.663 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:43:05.664 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-ChGYV_At.css
2026-01-08 11:43:05.664 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-GGIENcfT.js
2026-01-08 11:43:05.862 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 11:43:05.862 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/1
2026-01-08 11:43:05.870 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:43:05.870 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 11:43:05.870 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:43:05.870 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 11:43:05.875 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:43:05.875 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 11:43:05.876 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:43:05.876 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 11:43:05.878 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 11:43:05.878 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/1
2026-01-08 11:43:05.879 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/user/1
2026-01-08 11:43:05.879 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/system/menu/user-menus
2026-01-08 11:43:05.879 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 11:43:05.879 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 11:43:05.879 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:43:05.879 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 11:43:05.879 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:43:05.879 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:43:05.880 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 11:43:05.880 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 11:43:05.880 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 11:43:05.885 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:43:05.885 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 11:43:05.885 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:43:05.885 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 11:43:05.886 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 11:43:05.886 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"username":"admin","password":null,"realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}}
2026-01-08 11:43:05.886 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 11:43:05.890 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 11:43:05.890 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 11:43:05.891 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 11:43:05.891 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 11:43:05.895 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 11:43:05.896 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 11:43:05.896 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 11:43:08.839 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /auth/config/dingtalk
2026-01-08 11:43:08.840 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:43:08.841 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /auth/config/dingtalk
2026-01-08 11:43:08.841 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/auth/config/dingtalk
2026-01-08 11:43:08.841 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.getDingTalkConfig
2026-01-08 11:43:08.841 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 11:43:08.842 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"corpId":"ding7087a447c2e569cbf5bf40eda33b7ba0"}}
2026-01-08 11:43:09.195 DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/dingtalk/login
2026-01-08 11:43:09.197 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 11:43:09.198 DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/dingtalk/login
2026-01-08 11:43:09.200 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/auth/dingtalk/login
2026-01-08 11:43:09.200 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.dingtalkLogin
2026-01-08 11:43:09.200 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [{code=b81ca98e212236b3a6c3e7ba70d0ca7a}]
2026-01-08 11:43:09.200 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Exchanging authCode for DingTalk userid using App Config...
2026-01-08 11:43:09.324 INFO  com.leave.system.service.impl.DingTalkServiceImpl - Successfully fetched DingTalk userid: 01525237116824149785
2026-01-08 11:43:09.328 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - ==>  Preparing: SELECT * FROM sys_user WHERE dingtalk_userid = ? AND deleted = 0
2026-01-08 11:43:09.328 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - ==> Parameters: 01525237116824149785(String)
2026-01-08 11:43:09.335 DEBUG c.l.s.mapper.SysUserMapper.selectByDingtalkUserId - <==      Total: 0
2026-01-08 11:43:09.335 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByDingtalkUserId
SQL         : SELECT * FROM sys_user WHERE dingtalk_userid = '01525237116824149785' AND deleted = 0

2026-01-08 11:43:09.336 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":500,"message":"未找到此钉钉账号对应的系统用户","data":null}
2026-01-08 13:57:12.525 WARN  com.zaxxer.hikari.pool.ProxyConnection - HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@13ca16bf marked as broken because of SQLSTATE(08S01), ErrorCode(0)
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 9,510,755 milliseconds ago. The last packet sent successfully to the server was 9,510,759 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:175)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at jdk.proxy3/jdk.proxy3.$Proxy96.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at jdk.proxy2/jdk.proxy2.$Proxy95.query(Unknown Source)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.apache.ibatis.plugin.Invocation.proceed(Invocation.java:49)
	at com.leave.system.config.SqlLogInterceptor.intercept(SqlLogInterceptor.java:40)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy94.query(Unknown Source)
	at com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor.intercept(MybatisPlusInterceptor.java:81)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:59)
	at jdk.proxy2/jdk.proxy2.$Proxy94.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	at jdk.proxy2/jdk.proxy2.$Proxy84.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:160)
	at com.baomidou.mybatisplus.core.override.MybatisMapperMethod.execute(MybatisMapperMethod.java:87)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy$PlainMethodInvoker.invoke(MybatisMapperProxy.java:152)
	at com.baomidou.mybatisplus.core.override.MybatisMapperProxy.invoke(MybatisMapperProxy.java:89)
	at jdk.proxy2/jdk.proxy2.$Proxy85.selectByUsername(Unknown Source)
	at com.leave.system.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:24)
	at com.leave.system.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:46)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 9,510,755 milliseconds ago. The last packet sent successfully to the server was 9,510,759 milliseconds ago.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:62)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:150)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:166)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:582)
	at com.mysql.cj.protocol.a.NativeProtocol.checkErrorMessage(NativeProtocol.java:762)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:701)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1052)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:657)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:893)
	... 104 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:52)
	at com.mysql.cj.protocol.a.TimeTrackingPacketReader.readHeader(TimeTrackingPacketReader.java:41)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:54)
	at com.mysql.cj.protocol.a.MultiPacketReader.readHeader(MultiPacketReader.java:44)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:576)
	... 109 common frames omitted
2026-01-08 13:57:12.538 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 13:57:12.620 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7bca66c8 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.620 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@77e8f9b7 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.621 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@3edf2412 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.621 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@28a1b864 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.621 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@f5679e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.621 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@30e01376 (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.622 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@77d84ecc (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.622 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@49b6396b (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.622 WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7cada0bf (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2026-01-08 13:57:12.623 WARN  com.leave.system.security.JwtAuthenticationFilter - JWT parsing failed: 
### Error querying database.  Cause: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 9,510,755 milliseconds ago. The last packet sent successfully to the server was 9,510,759 milliseconds ago.
### The error may exist in URL [jar:nested:/Users/cccc/IdeaProjects/leave-management/backend/target/backend-0.0.1-SNAPSHOT.jar/!BOOT-INF/classes/!/mapper/SysUserMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
### Cause: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 9,510,755 milliseconds ago. The last packet sent successfully to the server was 9,510,759 milliseconds ago.
; Communications link failure

The last packet successfully received from the server was 9,510,755 milliseconds ago. The last packet sent successfully to the server was 9,510,759 milliseconds ago.
2026-01-08 13:57:12.623 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 13:57:12.625 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2026-01-08 13:57:12.625 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2026-01-08 13:57:12.625 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://kerstin-refrigeratory-combinedly.ngrok-free.dev/error
2026-01-08 13:57:12.625 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.SpaErrorController.handleError
2026-01-08 13:57:12.625 INFO  com.leave.system.aspect.WebLogAspect - Request Args : []
2026-01-08 13:57:12.626 INFO  com.leave.system.aspect.WebLogAspect - Response     : "forward:/index.html"
2026-01-08 13:57:12.627 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 13:57:12.627 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 13:57:12.631 ERROR com.leave.system.exception.GlobalExceptionHandler - Unhandled Exception: java.io.IOException: Broken pipe
org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:267)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:150)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:138)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:236)
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:621)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:75)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilterNestedErrorDispatch(OncePerRequestFilter.java:248)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:105)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Broken pipe
	at java.base/sun.nio.ch.FileDispatcherImpl.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:62)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:132)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:97)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:53)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:532)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:118)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1381)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:728)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:712)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:566)
	at org.apache.coyote.http11.filters.IdentityOutputFilter.flush(IdentityOutputFilter.java:117)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1245)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:400)
	at org.apache.coyote.Response.action(Response.java:208)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:301)
	... 155 common frames omitted
2026-01-08 13:57:12.635 WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler com.leave.system.exception.GlobalExceptionHandler#handleGenericException(Exception)
org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class com.leave.system.common.Result] with preset Content-Type 'text/html'
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:319)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:190)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:432)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:161)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1357)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1160)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:75)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilterNestedErrorDispatch(OncePerRequestFilter.java:248)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:105)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2026-01-08 13:57:12.637 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 13:57:12.637 ERROR o.a.c.core.ContainerBase.[Tomcat].[localhost] - Exception Processing ErrorPage[errorCode=0, location=/error]
org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:267)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:150)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:138)
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46)
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:236)
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:621)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:75)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilterNestedErrorDispatch(OncePerRequestFilter.java:248)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:105)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1431)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1167)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Broken pipe
	at java.base/sun.nio.ch.FileDispatcherImpl.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:62)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:132)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:97)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:53)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:532)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:118)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1381)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:728)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:712)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:566)
	at org.apache.coyote.http11.filters.IdentityOutputFilter.flush(IdentityOutputFilter.java:117)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1245)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:400)
	at org.apache.coyote.Response.action(Response.java:208)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:301)
	... 155 common frames omitted
2026-01-08 13:57:42.257 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /
2026-01-08 13:57:42.258 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 13:57:42.259 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /
2026-01-08 13:57:42.260 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /index.html
2026-01-08 13:57:42.262 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /index.html
2026-01-08 13:57:42.292 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-CYhBYbOp.js
2026-01-08 13:57:42.293 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 13:57:42.295 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-CYhBYbOp.js
2026-01-08 13:57:42.294 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/index-D5R0Zy4M.css
2026-01-08 13:57:42.296 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 13:57:42.296 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/index-D5R0Zy4M.css
2026-01-08 13:57:47.342 DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2026-01-08 13:57:47.342 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 13:57:47.343 DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2026-01-08 13:57:47.360 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/auth/login
2026-01-08 13:57:47.360 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.AuthController.login
2026-01-08 13:57:47.360 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [AuthController.LoginRequest(username=admin, password=123456)]
2026-01-08 13:57:47.368 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 13:57:47.370 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 13:57:47.378 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 13:57:47.378 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 13:57:47.680 DEBUG o.s.s.authentication.dao.DaoAuthenticationProvider - Authenticated user
2026-01-08 13:57:47.683 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 13:57:47.683 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 13:57:47.688 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 13:57:47.688 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 13:57:47.688 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"登录成功","data":{"userId":1,"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc2Nzg1MTg2NywiZXhwIjoxNzY4NDU2NjY3fQ.VLzeINUX6B8ZdXSOG6Xw22xi-0sJ1iAb7M8sJIUqB90","username":"admin"}}
2026-01-08 13:57:47.694 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-ChGYV_At.css
2026-01-08 13:57:47.694 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /assets/Home-GGIENcfT.js
2026-01-08 13:57:47.695 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 13:57:47.695 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-08 13:57:47.695 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-ChGYV_At.css
2026-01-08 13:57:47.695 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /assets/Home-GGIENcfT.js
2026-01-08 13:57:47.727 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/user/1
2026-01-08 13:57:47.727 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 13:57:47.737 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 13:57:47.738 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 13:57:47.741 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 13:57:47.742 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 13:57:47.742 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 13:57:47.742 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 13:57:47.744 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/user/1
2026-01-08 13:57:47.744 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/user/1
2026-01-08 13:57:47.744 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.UserController.getById
2026-01-08 13:57:47.744 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 13:57:47.745 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 13:57:47.745 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 13:57:47.747 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 13:57:47.747 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 13:57:47.748 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 13:57:47.748 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/user-menus
2026-01-08 13:57:47.748 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 13:57:47.748 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 13:57:47.748 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 13:57:47.748 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 13:57:47.748 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 13:57:47.751 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 13:57:47.751 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 13:57:47.751 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":{"id":1,"username":"admin","password":null,"realName":"系统管理员","employeeNumber":"ADMIN001","firstWorkDate":"2020-01-01","entryDate":"2020-01-01","socialSeniority":6,"roleId":1,"dingtalkUserId":null,"status":"ACTIVE","resignationDate":null,"createTime":"2026-01-07T06:53:33","updateTime":"2026-01-07T14:54:37","deleted":0}}
2026-01-08 13:57:47.753 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 13:57:47.753 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 13:57:47.753 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 13:57:47.753 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 13:57:47.757 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 13:57:47.757 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 13:57:47.758 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 13:57:47.758 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 13:57:47.763 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 13:57:47.763 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 13:57:47.764 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 13:57:47.765 DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /system/menu/user-menus?userId=1
2026-01-08 13:57:47.766 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==>  Preparing: SELECT * FROM sys_user WHERE username = ? AND deleted = 0
2026-01-08 13:57:47.766 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - ==> Parameters: admin(String)
2026-01-08 13:57:47.771 DEBUG c.l.system.mapper.SysUserMapper.selectByUsername - <==      Total: 1
2026-01-08 13:57:47.771 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectByUsername
SQL         : SELECT * FROM sys_user WHERE username = 'admin' AND deleted = 0

2026-01-08 13:57:47.772 DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /system/menu/user-menus?userId=1
2026-01-08 13:57:47.772 INFO  com.leave.system.aspect.WebLogAspect - URL          : http://10.48.0.125:8080/system/menu/user-menus
2026-01-08 13:57:47.772 INFO  com.leave.system.aspect.WebLogAspect - Class Method : com.leave.system.controller.MenuController.getUserMenus
2026-01-08 13:57:47.772 INFO  com.leave.system.aspect.WebLogAspect - Request Args : [1]
2026-01-08 13:57:47.772 INFO  com.leave.system.service.impl.MenuServiceImpl - getUserMenus called for userId: 1
2026-01-08 13:57:47.773 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==>  Preparing: SELECT * FROM sys_user WHERE id = ? AND deleted = 0
2026-01-08 13:57:47.773 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - ==> Parameters: 1(Long)
2026-01-08 13:57:47.776 DEBUG c.leave.system.mapper.SysUserMapper.selectUserById - <==      Total: 1
2026-01-08 13:57:47.776 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysUserMapper.selectUserById
SQL         : SELECT * FROM sys_user WHERE id = 1 AND deleted = 0

2026-01-08 13:57:47.777 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==>  Preparing: SELECT * FROM role_menu WHERE role_id = ?
2026-01-08 13:57:47.777 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - ==> Parameters: 1(Long)
2026-01-08 13:57:47.780 DEBUG c.l.system.mapper.RoleMenuMapper.selectByRoleId - <==      Total: 10
2026-01-08 13:57:47.780 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.RoleMenuMapper.selectByRoleId
SQL         : SELECT * FROM role_menu WHERE role_id = 1

2026-01-08 13:57:47.781 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==>  Preparing: SELECT * FROM sys_menu WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY parent_id, order_num, id
2026-01-08 13:57:47.781 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - ==> Parameters: 1(Long), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long)
2026-01-08 13:57:47.786 DEBUG c.l.system.mapper.SysMenuMapper.selectMenusByIds - <==      Total: 10
2026-01-08 13:57:47.786 INFO  com.leave.system.config.SqlLogInterceptor - ID          : com.leave.system.mapper.SysMenuMapper.selectMenusByIds
SQL         : SELECT * FROM sys_menu WHERE id IN ( 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 ) ORDER BY parent_id, order_num, id

2026-01-08 13:57:47.786 INFO  com.leave.system.aspect.WebLogAspect - Response     : {"code":200,"message":"操作成功","data":[{"id":1,"parentId":0,"menuName":"首页","path":"/dashboard","component":"Dashboard","icon":"HomeFilled","orderNum":1,"deleted":0,"children":[]},{"id":2,"parentId":0,"menuName":"休假管理","path":"/leave","component":null,"icon":"Calendar","orderNum":2,"deleted":0,"children":[{"id":5,"parentId":2,"menuName":"我的休假","path":"/leave/my","component":"leave/MyLeave","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":6,"parentId":2,"menuName":"休假管理(管理员)","path":"/leave/manage","component":"leave/ManageLeave","icon":null,"orderNum":2,"deleted":0,"children":[]}]},{"id":3,"parentId":0,"menuName":"系统管理","path":"/system","component":null,"icon":"Setting","orderNum":3,"deleted":0,"children":[{"id":7,"parentId":3,"menuName":"用户管理","path":"/system/user","component":"system/User","icon":null,"orderNum":1,"deleted":0,"children":[]},{"id":8,"parentId":3,"menuName":"角色管理","path":"/system/role","component":"system/Role","icon":null,"orderNum":2,"deleted":0,"children":[]},{"id":9,"parentId":3,"menuName":"菜单管理","path":"/system/menu","component":"system/Menu","icon":null,"orderNum":3,"deleted":0,"children":[]}]},{"id":4,"parentId":0,"menuName":"系统监控","path":"/monitor","component":null,"icon":"Monitor","orderNum":4,"deleted":0,"children":[{"id":10,"parentId":4,"menuName":"定时任务","path":"/monitor/job","component":"monitor/Job","icon":null,"orderNum":1,"deleted":0,"children":[]}]}]}
2026-01-08 14:06:20.808 WARN  o.s.scheduling.concurrent.ThreadPoolTaskScheduler - Timed out while waiting for executor 'taskScheduler' to terminate
2026-01-08 14:06:20.813 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-08 14:06:20.823 INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
